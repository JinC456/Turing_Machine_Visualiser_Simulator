(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function Ou(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iu={exports:{}},ti={},su={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function tm(){if(Af)return Ie;Af=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function T(k,O,oe){this.props=k,this.context=O,this.refs=N,this.updater=oe||S}T.prototype.isReactComponent={},T.prototype.setState=function(k,O){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,O,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _(){}_.prototype=T.prototype;function A(k,O,oe){this.props=k,this.context=O,this.refs=N,this.updater=oe||S}var D=A.prototype=new _;D.constructor=A,C(D,T.prototype),D.isPureReactComponent=!0;var R=Array.isArray,L=Object.prototype.hasOwnProperty,W={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function G(k,O,oe){var ie,ge={},q=null,le=null;if(O!=null)for(ie in O.ref!==void 0&&(le=O.ref),O.key!==void 0&&(q=""+O.key),O)L.call(O,ie)&&!V.hasOwnProperty(ie)&&(ge[ie]=O[ie]);var me=arguments.length-2;if(me===1)ge.children=oe;else if(1<me){for(var Ne=Array(me),ye=0;ye<me;ye++)Ne[ye]=arguments[ye+2];ge.children=Ne}if(k&&k.defaultProps)for(ie in me=k.defaultProps,me)ge[ie]===void 0&&(ge[ie]=me[ie]);return{$$typeof:n,type:k,key:q,ref:le,props:ge,_owner:W.current}}function F(k,O){return{$$typeof:n,type:k.type,key:O,ref:k.ref,props:k.props,_owner:k._owner}}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function U(k){var O={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return O[oe]})}var Q=/\/+/g;function K(k,O){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):O.toString(36)}function E(k,O,oe,ie,ge){var q=typeof k;(q==="undefined"||q==="boolean")&&(k=null);var le=!1;if(k===null)le=!0;else switch(q){case"string":case"number":le=!0;break;case"object":switch(k.$$typeof){case n:case o:le=!0}}if(le)return le=k,ge=ge(le),k=ie===""?"."+K(le,0):ie,R(ge)?(oe="",k!=null&&(oe=k.replace(Q,"$&/")+"/"),E(ge,O,oe,"",function(ye){return ye})):ge!=null&&(Y(ge)&&(ge=F(ge,oe+(!ge.key||le&&le.key===ge.key?"":(""+ge.key).replace(Q,"$&/")+"/")+k)),O.push(ge)),1;if(le=0,ie=ie===""?".":ie+":",R(k))for(var me=0;me<k.length;me++){q=k[me];var Ne=ie+K(q,me);le+=E(q,O,oe,Ne,ge)}else if(Ne=x(k),typeof Ne=="function")for(k=Ne.call(k),me=0;!(q=k.next()).done;)q=q.value,Ne=ie+K(q,me++),le+=E(q,O,oe,Ne,ge);else if(q==="object")throw O=String(k),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return le}function j(k,O,oe){if(k==null)return k;var ie=[],ge=0;return E(k,ie,"","",function(q){return O.call(oe,q,ge++)}),ie}function I(k){if(k._status===-1){var O=k._result;O=O(),O.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=O)}if(k._status===1)return k._result.default;throw k._result}var H={current:null},P={transition:null},$={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:P,ReactCurrentOwner:W};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:j,forEach:function(k,O,oe){j(k,function(){O.apply(this,arguments)},oe)},count:function(k){var O=0;return j(k,function(){O++}),O},toArray:function(k){return j(k,function(O){return O})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=T,Ie.Fragment=i,Ie.Profiler=a,Ie.PureComponent=A,Ie.StrictMode=l,Ie.Suspense=h,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Ie.act=X,Ie.cloneElement=function(k,O,oe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ie=C({},k.props),ge=k.key,q=k.ref,le=k._owner;if(O!=null){if(O.ref!==void 0&&(q=O.ref,le=W.current),O.key!==void 0&&(ge=""+O.key),k.type&&k.type.defaultProps)var me=k.type.defaultProps;for(Ne in O)L.call(O,Ne)&&!V.hasOwnProperty(Ne)&&(ie[Ne]=O[Ne]===void 0&&me!==void 0?me[Ne]:O[Ne])}var Ne=arguments.length-2;if(Ne===1)ie.children=oe;else if(1<Ne){me=Array(Ne);for(var ye=0;ye<Ne;ye++)me[ye]=arguments[ye+2];ie.children=me}return{$$typeof:n,type:k.type,key:ge,ref:q,props:ie,_owner:le}},Ie.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},Ie.createElement=G,Ie.createFactory=function(k){var O=G.bind(null,k);return O.type=k,O},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:f,render:k}},Ie.isValidElement=Y,Ie.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:I}},Ie.memo=function(k,O){return{$$typeof:m,type:k,compare:O===void 0?null:O}},Ie.startTransition=function(k){var O=P.transition;P.transition={};try{k()}finally{P.transition=O}},Ie.unstable_act=X,Ie.useCallback=function(k,O){return H.current.useCallback(k,O)},Ie.useContext=function(k){return H.current.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k){return H.current.useDeferredValue(k)},Ie.useEffect=function(k,O){return H.current.useEffect(k,O)},Ie.useId=function(){return H.current.useId()},Ie.useImperativeHandle=function(k,O,oe){return H.current.useImperativeHandle(k,O,oe)},Ie.useInsertionEffect=function(k,O){return H.current.useInsertionEffect(k,O)},Ie.useLayoutEffect=function(k,O){return H.current.useLayoutEffect(k,O)},Ie.useMemo=function(k,O){return H.current.useMemo(k,O)},Ie.useReducer=function(k,O,oe){return H.current.useReducer(k,O,oe)},Ie.useRef=function(k){return H.current.useRef(k)},Ie.useState=function(k){return H.current.useState(k)},Ie.useSyncExternalStore=function(k,O,oe){return H.current.useSyncExternalStore(k,O,oe)},Ie.useTransition=function(){return H.current.useTransition()},Ie.version="18.3.1",Ie}var Mf;function wi(){return Mf||(Mf=1,su.exports=tm()),su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function nm(){if(If)return ti;If=1;var n=wi(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,h,m){var g,v={},x=null,S=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)l.call(h,g)&&!c.hasOwnProperty(g)&&(v[g]=h[g]);if(f&&f.defaultProps)for(g in h=f.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:o,type:f,key:x,ref:S,props:v,_owner:a.current}}return ti.Fragment=i,ti.jsx=d,ti.jsxs=d,ti}var Lf;function rm(){return Lf||(Lf=1,iu.exports=nm()),iu.exports}var y=rm(),b=wi();const re=Ou(b);var Us={},lu={exports:{}},Mt={},au={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function om(){return Df||(Df=1,(function(n){function o(P,$){var X=P.length;P.push($);e:for(;0<X;){var k=X-1>>>1,O=P[k];if(0<a(O,$))P[k]=$,P[X]=O,X=k;else break e}}function i(P){return P.length===0?null:P[0]}function l(P){if(P.length===0)return null;var $=P[0],X=P.pop();if(X!==$){P[0]=X;e:for(var k=0,O=P.length,oe=O>>>1;k<oe;){var ie=2*(k+1)-1,ge=P[ie],q=ie+1,le=P[q];if(0>a(ge,X))q<O&&0>a(le,ge)?(P[k]=le,P[q]=X,k=q):(P[k]=ge,P[ie]=X,k=ie);else if(q<O&&0>a(le,X))P[k]=le,P[q]=X,k=q;else break e}}return $}function a(P,$){var X=P.sortIndex-$.sortIndex;return X!==0?X:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var h=[],m=[],g=1,v=null,x=3,S=!1,C=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(P){for(var $=i(m);$!==null;){if($.callback===null)l(m);else if($.startTime<=P)l(m),$.sortIndex=$.expirationTime,o(h,$);else break;$=i(m)}}function R(P){if(N=!1,D(P),!C)if(i(h)!==null)C=!0,I(L);else{var $=i(m);$!==null&&H(R,$.startTime-P)}}function L(P,$){C=!1,N&&(N=!1,_(G),G=-1),S=!0;var X=x;try{for(D($),v=i(h);v!==null&&(!(v.expirationTime>$)||P&&!U());){var k=v.callback;if(typeof k=="function"){v.callback=null,x=v.priorityLevel;var O=k(v.expirationTime<=$);$=n.unstable_now(),typeof O=="function"?v.callback=O:v===i(h)&&l(h),D($)}else l(h);v=i(h)}if(v!==null)var oe=!0;else{var ie=i(m);ie!==null&&H(R,ie.startTime-$),oe=!1}return oe}finally{v=null,x=X,S=!1}}var W=!1,V=null,G=-1,F=5,Y=-1;function U(){return!(n.unstable_now()-Y<F)}function Q(){if(V!==null){var P=n.unstable_now();Y=P;var $=!0;try{$=V(!0,P)}finally{$?K():(W=!1,V=null)}}else W=!1}var K;if(typeof A=="function")K=function(){A(Q)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,j=E.port2;E.port1.onmessage=Q,K=function(){j.postMessage(null)}}else K=function(){T(Q,0)};function I(P){V=P,W||(W=!0,K())}function H(P,$){G=T(function(){P(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){C||S||(C=!0,I(L))},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function(P){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var X=x;x=$;try{return P()}finally{x=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=x;x=P;try{return $()}finally{x=X}},n.unstable_scheduleCallback=function(P,$,X){var k=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?k+X:k):X=k,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,P={id:g++,callback:$,priorityLevel:P,startTime:X,expirationTime:O,sortIndex:-1},X>k?(P.sortIndex=X,o(m,P),i(h)===null&&P===i(m)&&(N?(_(G),G=-1):N=!0,H(R,X-k))):(P.sortIndex=O,o(h,P),C||S||(C=!0,I(L))),P},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(P){var $=x;return function(){var X=x;x=$;try{return P.apply(this,arguments)}finally{x=X}}}})(uu)),uu}var $f;function im(){return $f||($f=1,au.exports=om()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function sm(){if(zf)return Mt;zf=1;var n=wi(),o=im();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(e){return h.call(v,e)?!0:h.call(g,e)?!1:m.test(e)?v[e]=!0:(g[e]=!0,!1)}function S(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,r,s){if(t===null||typeof t>"u"||S(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,s,u,p,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=w}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,A);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,A);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,A);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,r,s){var u=T.hasOwnProperty(t)?T[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,r,u,s)&&(r=null),s||u===null?x(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),W=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),U=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),P=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,k;function O(e){if(k===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var oe=!1;function ie(e,t){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ee){var s=ee}Reflect.construct(e,[],t)}else{try{t.call()}catch(ee){s=ee}e.call(t.prototype)}else{try{throw Error()}catch(ee){s=ee}e()}}catch(ee){if(ee&&s&&typeof ee.stack=="string"){for(var u=ee.stack.split(`
`),p=s.stack.split(`
`),w=u.length-1,M=p.length-1;1<=w&&0<=M&&u[w]!==p[M];)M--;for(;1<=w&&0<=M;w--,M--)if(u[w]!==p[M]){if(w!==1||M!==1)do if(w--,M--,0>M||u[w]!==p[M]){var z=`
`+u[w].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=w&&0<=M);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?O(e):""}function ge(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case W:return"Portal";case F:return"Profiler";case G:return"StrictMode";case K:return"Suspense";case E:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}function le(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ye(e){var t=Ne(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,p=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(w){s=""+w,p.call(this,w)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(w){s=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Me(e){e._valueTracker||(e._valueTracker=ye(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Ne(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ae(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ve(e,t){var r=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fe(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=me(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ne(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function se(e,t){ne(e,t);var r=me(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Se(e,t.type,r):t.hasOwnProperty("defaultValue")&&Se(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Se(e,t,r){(t!=="number"||Ae(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ce=Array.isArray;function pe(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+me(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function fe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Te(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(ce(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:me(r)}}function $e(e,t){var r=me(t.value),s=me(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yt,Ge=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yt=yt||document.createElement("div"),yt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ht(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(e){Ht.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ke[t]=Ke[e]})});function an(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ke.hasOwnProperty(e)&&Ke[e]?(""+t).trim():t+"px"}function un(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=an(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var Ln=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(e,t){if(t){if(Ln[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Kt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xn=null,cn=null,wn=null;function dn(e){if(e=Oo(e)){if(typeof xn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=is(t),xn(e.stateNode,e.type,t))}}function ki(e){cn?wn?wn.push(e):wn=[e]:cn=e}function _i(){if(cn){var e=cn,t=wn;if(wn=cn=null,dn(e),t)for(e=0;e<t.length;e++)dn(t[e])}}function bi(e,t){return e(t)}function Ti(){}var yo=!1;function Ri(e,t,r){if(yo)return e(t,r);yo=!0;try{return bi(e,t,r)}finally{yo=!1,(cn!==null||wn!==null)&&(Ti(),_i())}}function ur(e,t){var r=e.stateNode;if(r===null)return null;var s=is(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var vo=!1;if(f)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){vo=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{vo=!1}function wl(e,t,r,s,u,p,w,M,z){var ee=Array.prototype.slice.call(arguments,3);try{t.apply(r,ee)}catch(ue){this.onError(ue)}}var dr=!1,jr=null,Ar=!1,xo=null,Sl={onError:function(e){dr=!0,jr=e}};function El(e,t,r,s,u,p,w,M,z){dr=!1,jr=null,wl.apply(Sl,arguments)}function ji(e,t,r,s,u,p,w,M,z){if(El.apply(this,arguments),dr){if(dr){var ee=jr;dr=!1,jr=null}else throw Error(i(198));Ar||(Ar=!0,xo=ee)}}function Sn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ai(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mi(e){if(Sn(e)!==e)throw Error(i(188))}function Nl(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var p=u.alternate;if(p===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===r)return Mi(u),e;if(p===s)return Mi(u),t;p=p.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=p;else{for(var w=!1,M=u.child;M;){if(M===r){w=!0,r=u,s=p;break}if(M===s){w=!0,s=u,r=p;break}M=M.sibling}if(!w){for(M=p.child;M;){if(M===r){w=!0,r=p,s=u;break}if(M===s){w=!0,s=p,r=u;break}M=M.sibling}if(!w)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Ii(e){return e=Nl(e),e!==null?Li(e):null}function Li(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Li(e);if(t!==null)return t;e=e.sibling}return null}var Di=o.unstable_scheduleCallback,$i=o.unstable_cancelCallback,zi=o.unstable_shouldYield,Cl=o.unstable_requestPaint,qe=o.unstable_now,kl=o.unstable_getCurrentPriorityLevel,wo=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Mr=o.unstable_NormalPriority,Hi=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Ir=null,Ot=null;function So(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ir,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:x0,y0=Math.log,v0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(y0(e)/v0|0)|0}var Fi=64,Bi=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,p=e.pingedLanes,w=r&268435455;if(w!==0){var M=w&~u;M!==0?s=Eo(M):(p&=w,p!==0&&(s=Eo(p)))}else w=r&~u,w!==0?s=Eo(w):p!==0&&(s=Eo(p));if(s===0)return 0;if(t!==0&&t!==s&&(t&u)===0&&(u=s&-s,p=t&-t,u>=p||u===16&&(p&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Zt(t),u=1<<r,s|=e[r],t&=~u;return s}function w0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Zt(p),M=1<<w,z=u[w];z===-1?((M&r)===0||(M&s)!==0)&&(u[w]=w0(M,t)):z<=t&&(e.expiredLanes|=M),p&=~M}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lc(){var e=Fi;return Fi<<=1,(Fi&4194240)===0&&(Fi=64),e}function bl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function No(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function E0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Zt(r),p=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~p}}function Tl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Zt(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var Be=0;function ac(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var uc,Rl,cc,dc,fc,jl=!1,Ui=[],Dn=null,$n=null,zn=null,Co=new Map,ko=new Map,Pn=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pc(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(t.pointerId)}}function _o(e,t,r,s,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:p,targetContainers:[u]},t!==null&&(t=Oo(t),t!==null&&Rl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function C0(e,t,r,s,u){switch(t){case"focusin":return Dn=_o(Dn,e,t,r,s,u),!0;case"dragenter":return $n=_o($n,e,t,r,s,u),!0;case"mouseover":return zn=_o(zn,e,t,r,s,u),!0;case"pointerover":var p=u.pointerId;return Co.set(p,_o(Co.get(p)||null,e,t,r,s,u)),!0;case"gotpointercapture":return p=u.pointerId,ko.set(p,_o(ko.get(p)||null,e,t,r,s,u)),!0}return!1}function hc(e){var t=fr(e.target);if(t!==null){var r=Sn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ai(r),t!==null){e.blockedOn=t,fc(e.priority,function(){cc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);lr=s,r.target.dispatchEvent(s),lr=null}else return t=Oo(r),t!==null&&Rl(t),e.blockedOn=r,!1;t.shift()}return!0}function gc(e,t,r){Wi(e)&&r.delete(t)}function k0(){jl=!1,Dn!==null&&Wi(Dn)&&(Dn=null),$n!==null&&Wi($n)&&($n=null),zn!==null&&Wi(zn)&&(zn=null),Co.forEach(gc),ko.forEach(gc)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,k0)))}function To(e){function t(u){return bo(u,e)}if(0<Ui.length){bo(Ui[0],e);for(var r=1;r<Ui.length;r++){var s=Ui[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Dn!==null&&bo(Dn,e),$n!==null&&bo($n,e),zn!==null&&bo(zn,e),Co.forEach(t),ko.forEach(t),r=0;r<Pn.length;r++)s=Pn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Pn.length&&(r=Pn[0],r.blockedOn===null);)hc(r),r.blockedOn===null&&Pn.shift()}var Lr=R.ReactCurrentBatchConfig,Xi=!0;function _0(e,t,r,s){var u=Be,p=Lr.transition;Lr.transition=null;try{Be=1,Al(e,t,r,s)}finally{Be=u,Lr.transition=p}}function b0(e,t,r,s){var u=Be,p=Lr.transition;Lr.transition=null;try{Be=4,Al(e,t,r,s)}finally{Be=u,Lr.transition=p}}function Al(e,t,r,s){if(Xi){var u=Ml(e,t,r,s);if(u===null)Kl(e,t,s,Yi,r),pc(e,s);else if(C0(u,e,t,r,s))s.stopPropagation();else if(pc(e,s),t&4&&-1<N0.indexOf(e)){for(;u!==null;){var p=Oo(u);if(p!==null&&uc(p),p=Ml(e,t,r,s),p===null&&Kl(e,t,s,Yi,r),p===u)break;u=p}u!==null&&s.stopPropagation()}else Kl(e,t,s,null,r)}}var Yi=null;function Ml(e,t,r,s){if(Yi=null,e=ar(s),e=fr(e),e!==null)if(t=Sn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ai(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yi=e,null}function mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case wo:return 1;case Pi:return 4;case Mr:case Hi:return 16;case Oi:return 536870912;default:return 16}default:return 16}}var Hn=null,Il=null,Qi=null;function yc(){if(Qi)return Qi;var e,t=Il,r=t.length,s,u="value"in Hn?Hn.value:Hn.textContent,p=u.length;for(e=0;e<r&&t[e]===u[e];e++);var w=r-e;for(s=1;s<=w&&t[r-s]===u[p-s];s++);return Qi=u.slice(e,1<s?1-s:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function vc(){return!1}function Lt(e){function t(r,s,u,p,w){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(r=e[M],this[M]=r?r(p):p[M]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Zi:vc,this.isPropagationStopped=vc,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Lt(Dr),Ro=X({},Dr,{view:0,detail:0}),T0=Lt(Ro),Dl,$l,jo,Gi=X({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(Dl=e.screenX-jo.screenX,$l=e.screenY-jo.screenY):$l=Dl=0,jo=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),xc=Lt(Gi),R0=X({},Gi,{dataTransfer:0}),j0=Lt(R0),A0=X({},Ro,{relatedTarget:0}),zl=Lt(A0),M0=X({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=Lt(M0),L0=X({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=Lt(L0),$0=X({},Dr,{data:0}),wc=Lt($0),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H0[e])?!!t[e]:!1}function Pl(){return O0}var F0=X({},Ro,{key:function(e){if(e.key){var t=z0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B0=Lt(F0),V0=X({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=Lt(V0),U0=X({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),W0=Lt(U0),X0=X({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y0=Lt(X0),Q0=X({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K0=Lt(Q0),Z0=[9,13,27,32],Hl=f&&"CompositionEvent"in window,Ao=null;f&&"documentMode"in document&&(Ao=document.documentMode);var G0=f&&"TextEvent"in window&&!Ao,Ec=f&&(!Hl||Ao&&8<Ao&&11>=Ao),Nc=" ",Cc=!1;function kc(e,t){switch(e){case"keyup":return Z0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function q0(e,t){switch(e){case"compositionend":return _c(t);case"keypress":return t.which!==32?null:(Cc=!0,Nc);case"textInput":return e=t.data,e===Nc&&Cc?null:e;default:return null}}function J0(e,t){if($r)return e==="compositionend"||!Hl&&kc(e,t)?(e=yc(),Qi=Il=Hn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ec&&t.locale!=="ko"?null:t.data;default:return null}}var eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eg[e.type]:t==="textarea"}function Tc(e,t,r,s){ki(s),t=ns(t,"onChange"),0<t.length&&(r=new Ll("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Mo=null,Io=null;function tg(e){Xc(e,0)}function qi(e){var t=Fr(e);if(We(t))return e}function ng(e,t){if(e==="change")return t}var Rc=!1;if(f){var Ol;if(f){var Fl="oninput"in document;if(!Fl){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Fl=typeof jc.oninput=="function"}Ol=Fl}else Ol=!1;Rc=Ol&&(!document.documentMode||9<document.documentMode)}function Ac(){Mo&&(Mo.detachEvent("onpropertychange",Mc),Io=Mo=null)}function Mc(e){if(e.propertyName==="value"&&qi(Io)){var t=[];Tc(t,Io,e,ar(e)),Ri(tg,t)}}function rg(e,t,r){e==="focusin"?(Ac(),Mo=t,Io=r,Mo.attachEvent("onpropertychange",Mc)):e==="focusout"&&Ac()}function og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(Io)}function ig(e,t){if(e==="click")return qi(t)}function sg(e,t){if(e==="input"||e==="change")return qi(t)}function lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:lg;function Lo(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!h.call(t,u)||!Gt(e[u],t[u]))return!1}return!0}function Ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,t){var r=Ic(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ic(r)}}function Dc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(){for(var e=window,t=Ae();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ae(e.document)}return t}function Bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ag(e){var t=$c(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dc(r.ownerDocument.documentElement,r)){if(s!==null&&Bl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,p=Math.min(s.start,u);s=s.end===void 0?p:Math.min(s.end,u),!e.extend&&p>s&&(u=s,s=p,p=u),u=Lc(r,p);var w=Lc(r,s);u&&w&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),p>s?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ug=f&&"documentMode"in document&&11>=document.documentMode,zr=null,Vl=null,Do=null,Ul=!1;function zc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ul||zr==null||zr!==Ae(s)||(s=zr,"selectionStart"in s&&Bl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Do&&Lo(Do,s)||(Do=s,s=ns(Vl,"onSelect"),0<s.length&&(t=new Ll("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zr)))}function Ji(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pr={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Wl={},Pc={};f&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function es(e){if(Wl[e])return Wl[e];if(!Pr[e])return e;var t=Pr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pc)return Wl[e]=t[r];return e}var Hc=es("animationend"),Oc=es("animationiteration"),Fc=es("animationstart"),Bc=es("transitionend"),Vc=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Vc.set(e,t),c(t,[e])}for(var Xl=0;Xl<Uc.length;Xl++){var Yl=Uc[Xl],cg=Yl.toLowerCase(),dg=Yl[0].toUpperCase()+Yl.slice(1);On(cg,"on"+dg)}On(Hc,"onAnimationEnd"),On(Oc,"onAnimationIteration"),On(Fc,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Bc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function Wc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,ji(s,t,void 0,e),e.currentTarget=null}function Xc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var w=s.length-1;0<=w;w--){var M=s[w],z=M.instance,ee=M.currentTarget;if(M=M.listener,z!==p&&u.isPropagationStopped())break e;Wc(u,M,ee),p=z}else for(w=0;w<s.length;w++){if(M=s[w],z=M.instance,ee=M.currentTarget,M=M.listener,z!==p&&u.isPropagationStopped())break e;Wc(u,M,ee),p=z}}}if(Ar)throw e=xo,Ar=!1,xo=null,e}function Ye(e,t){var r=t[ta];r===void 0&&(r=t[ta]=new Set);var s=e+"__bubble";r.has(s)||(Yc(t,e,2,!1),r.add(s))}function Ql(e,t,r){var s=0;t&&(s|=4),Yc(r,e,s,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[ts]){e[ts]=!0,l.forEach(function(r){r!=="selectionchange"&&(fg.has(r)||Ql(r,!1,e),Ql(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ts]||(t[ts]=!0,Ql("selectionchange",!1,t))}}function Yc(e,t,r,s){switch(mc(t)){case 1:var u=_0;break;case 4:u=b0;break;default:u=Al}r=u.bind(null,t,r,e),u=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Kl(e,t,r,s,u){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var M=s.stateNode.containerInfo;if(M===u||M.nodeType===8&&M.parentNode===u)break;if(w===4)for(w=s.return;w!==null;){var z=w.tag;if((z===3||z===4)&&(z=w.stateNode.containerInfo,z===u||z.nodeType===8&&z.parentNode===u))return;w=w.return}for(;M!==null;){if(w=fr(M),w===null)return;if(z=w.tag,z===5||z===6){s=p=w;continue e}M=M.parentNode}}s=s.return}Ri(function(){var ee=p,ue=ar(r),de=[];e:{var ae=Vc.get(e);if(ae!==void 0){var ve=Ll,Ee=e;switch(e){case"keypress":if(Ki(r)===0)break e;case"keydown":case"keyup":ve=B0;break;case"focusin":Ee="focus",ve=zl;break;case"focusout":Ee="blur",ve=zl;break;case"beforeblur":case"afterblur":ve=zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=W0;break;case Hc:case Oc:case Fc:ve=I0;break;case Bc:ve=Y0;break;case"scroll":ve=T0;break;case"wheel":ve=K0;break;case"copy":case"cut":case"paste":ve=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Sc}var Ce=(t&4)!==0,ot=!Ce&&e==="scroll",Z=Ce?ae!==null?ae+"Capture":null:ae;Ce=[];for(var B=ee,J;B!==null;){J=B;var he=J.stateNode;if(J.tag===5&&he!==null&&(J=he,Z!==null&&(he=ur(B,Z),he!=null&&Ce.push(Po(B,he,J)))),ot)break;B=B.return}0<Ce.length&&(ae=new ve(ae,Ee,null,r,ue),de.push({event:ae,listeners:Ce}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",ae&&r!==lr&&(Ee=r.relatedTarget||r.fromElement)&&(fr(Ee)||Ee[En]))break e;if((ve||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,ve?(Ee=r.relatedTarget||r.toElement,ve=ee,Ee=Ee?fr(Ee):null,Ee!==null&&(ot=Sn(Ee),Ee!==ot||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ve=null,Ee=ee),ve!==Ee)){if(Ce=xc,he="onMouseLeave",Z="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=Sc,he="onPointerLeave",Z="onPointerEnter",B="pointer"),ot=ve==null?ae:Fr(ve),J=Ee==null?ae:Fr(Ee),ae=new Ce(he,B+"leave",ve,r,ue),ae.target=ot,ae.relatedTarget=J,he=null,fr(ue)===ee&&(Ce=new Ce(Z,B+"enter",Ee,r,ue),Ce.target=J,Ce.relatedTarget=ot,he=Ce),ot=he,ve&&Ee)t:{for(Ce=ve,Z=Ee,B=0,J=Ce;J;J=Hr(J))B++;for(J=0,he=Z;he;he=Hr(he))J++;for(;0<B-J;)Ce=Hr(Ce),B--;for(;0<J-B;)Z=Hr(Z),J--;for(;B--;){if(Ce===Z||Z!==null&&Ce===Z.alternate)break t;Ce=Hr(Ce),Z=Hr(Z)}Ce=null}else Ce=null;ve!==null&&Qc(de,ae,ve,Ce,!1),Ee!==null&&ot!==null&&Qc(de,ot,Ee,Ce,!0)}}e:{if(ae=ee?Fr(ee):window,ve=ae.nodeName&&ae.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ae.type==="file")var ke=ng;else if(bc(ae))if(Rc)ke=sg;else{ke=og;var _e=rg}else(ve=ae.nodeName)&&ve.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(ke=ig);if(ke&&(ke=ke(e,ee))){Tc(de,ke,r,ue);break e}_e&&_e(e,ae,ee),e==="focusout"&&(_e=ae._wrapperState)&&_e.controlled&&ae.type==="number"&&Se(ae,"number",ae.value)}switch(_e=ee?Fr(ee):window,e){case"focusin":(bc(_e)||_e.contentEditable==="true")&&(zr=_e,Vl=ee,Do=null);break;case"focusout":Do=Vl=zr=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,zc(de,r,ue);break;case"selectionchange":if(ug)break;case"keydown":case"keyup":zc(de,r,ue)}var be;if(Hl)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else $r?kc(e,r)&&(Re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(Ec&&r.locale!=="ko"&&($r||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&$r&&(be=yc()):(Hn=ue,Il="value"in Hn?Hn.value:Hn.textContent,$r=!0)),_e=ns(ee,Re),0<_e.length&&(Re=new wc(Re,e,null,r,ue),de.push({event:Re,listeners:_e}),be?Re.data=be:(be=_c(r),be!==null&&(Re.data=be)))),(be=G0?q0(e,r):J0(e,r))&&(ee=ns(ee,"onBeforeInput"),0<ee.length&&(ue=new wc("onBeforeInput","beforeinput",null,r,ue),de.push({event:ue,listeners:ee}),ue.data=be))}Xc(de,t)})}function Po(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ns(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,p=u.stateNode;u.tag===5&&p!==null&&(u=p,p=ur(e,r),p!=null&&s.unshift(Po(e,p,u)),p=ur(e,t),p!=null&&s.push(Po(e,p,u))),e=e.return}return s}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qc(e,t,r,s,u){for(var p=t._reactName,w=[];r!==null&&r!==s;){var M=r,z=M.alternate,ee=M.stateNode;if(z!==null&&z===s)break;M.tag===5&&ee!==null&&(M=ee,u?(z=ur(r,p),z!=null&&w.unshift(Po(r,z,M))):u||(z=ur(r,p),z!=null&&w.push(Po(r,z,M)))),r=r.return}w.length!==0&&e.push({event:t,listeners:w})}var pg=/\r\n?/g,hg=/\u0000|\uFFFD/g;function Kc(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(hg,"")}function rs(e,t,r){if(t=Kc(t),Kc(e)!==t&&r)throw Error(i(425))}function os(){}var Zl=null,Gl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,Zc=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zc<"u"?function(e){return Zc.resolve(null).then(e).catch(yg)}:Jl;function yg(e){setTimeout(function(){throw e})}function ea(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),To(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);To(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),fn="__reactFiber$"+Or,Ho="__reactProps$"+Or,En="__reactContainer$"+Or,ta="__reactEvents$"+Or,vg="__reactListeners$"+Or,xg="__reactHandles$"+Or;function fr(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[En]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gc(e);e!==null;){if(r=e[fn])return r;e=Gc(e)}return t}e=r,r=e.parentNode}return null}function Oo(e){return e=e[fn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function is(e){return e[Ho]||null}var na=[],Br=-1;function Bn(e){return{current:e}}function Qe(e){0>Br||(e.current=na[Br],na[Br]=null,Br--)}function Xe(e,t){Br++,na[Br]=e.current,e.current=t}var Vn={},vt=Bn(Vn),bt=Bn(!1),pr=Vn;function Vr(e,t){var r=e.type.contextTypes;if(!r)return Vn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},p;for(p in r)u[p]=t[p];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Tt(e){return e=e.childContextTypes,e!=null}function ss(){Qe(bt),Qe(vt)}function qc(e,t,r){if(vt.current!==Vn)throw Error(i(168));Xe(vt,t),Xe(bt,r)}function Jc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,le(e)||"Unknown",u));return X({},r,s)}function ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,pr=vt.current,Xe(vt,e),Xe(bt,bt.current),!0}function ed(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Jc(e,t,pr),s.__reactInternalMemoizedMergedChildContext=e,Qe(bt),Qe(vt),Xe(vt,e)):Qe(bt),Xe(bt,r)}var Nn=null,as=!1,ra=!1;function td(e){Nn===null?Nn=[e]:Nn.push(e)}function wg(e){as=!0,td(e)}function Un(){if(!ra&&Nn!==null){ra=!0;var e=0,t=Be;try{var r=Nn;for(Be=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Nn=null,as=!1}catch(u){throw Nn!==null&&(Nn=Nn.slice(e+1)),Di(wo,Un),u}finally{Be=t,ra=!1}}return null}var Ur=[],Wr=0,us=null,cs=0,Ft=[],Bt=0,hr=null,Cn=1,kn="";function gr(e,t){Ur[Wr++]=cs,Ur[Wr++]=us,us=e,cs=t}function nd(e,t,r){Ft[Bt++]=Cn,Ft[Bt++]=kn,Ft[Bt++]=hr,hr=e;var s=Cn;e=kn;var u=32-Zt(s)-1;s&=~(1<<u),r+=1;var p=32-Zt(t)+u;if(30<p){var w=u-u%5;p=(s&(1<<w)-1).toString(32),s>>=w,u-=w,Cn=1<<32-Zt(t)+u|r<<u|s,kn=p+e}else Cn=1<<p|r<<u|s,kn=e}function oa(e){e.return!==null&&(gr(e,1),nd(e,1,0))}function ia(e){for(;e===us;)us=Ur[--Wr],Ur[Wr]=null,cs=Ur[--Wr],Ur[Wr]=null;for(;e===hr;)hr=Ft[--Bt],Ft[Bt]=null,kn=Ft[--Bt],Ft[Bt]=null,Cn=Ft[--Bt],Ft[Bt]=null}var Dt=null,$t=null,Ze=!1,qt=null;function rd(e,t){var r=Xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function od(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,$t=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:Cn,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,$t=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function la(e){if(Ze){var t=$t;if(t){var r=t;if(!od(e,t)){if(sa(e))throw Error(i(418));t=Fn(r.nextSibling);var s=Dt;t&&od(e,t)?rd(s,r):(e.flags=e.flags&-4097|2,Ze=!1,Dt=e)}}else{if(sa(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ze=!1,Dt=e}}}function id(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function ds(e){if(e!==Dt)return!1;if(!Ze)return id(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=$t)){if(sa(e))throw sd(),Error(i(418));for(;t;)rd(e,t),t=Fn(t.nextSibling)}if(id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$t=Fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Dt?Fn(e.stateNode.nextSibling):null;return!0}function sd(){for(var e=$t;e;)e=Fn(e.nextSibling)}function Xr(){$t=Dt=null,Ze=!1}function aa(e){qt===null?qt=[e]:qt.push(e)}var Sg=R.ReactCurrentBatchConfig;function Fo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(w){var M=u.refs;w===null?delete M[p]:M[p]=w},t._stringRef=p,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ld(e){var t=e._init;return t(e._payload)}function ad(e){function t(Z,B){if(e){var J=Z.deletions;J===null?(Z.deletions=[B],Z.flags|=16):J.push(B)}}function r(Z,B){if(!e)return null;for(;B!==null;)t(Z,B),B=B.sibling;return null}function s(Z,B){for(Z=new Map;B!==null;)B.key!==null?Z.set(B.key,B):Z.set(B.index,B),B=B.sibling;return Z}function u(Z,B){return Z=qn(Z,B),Z.index=0,Z.sibling=null,Z}function p(Z,B,J){return Z.index=J,e?(J=Z.alternate,J!==null?(J=J.index,J<B?(Z.flags|=2,B):J):(Z.flags|=2,B)):(Z.flags|=1048576,B)}function w(Z){return e&&Z.alternate===null&&(Z.flags|=2),Z}function M(Z,B,J,he){return B===null||B.tag!==6?(B=Ja(J,Z.mode,he),B.return=Z,B):(B=u(B,J),B.return=Z,B)}function z(Z,B,J,he){var ke=J.type;return ke===V?ue(Z,B,J.props.children,he,J.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&ld(ke)===B.type)?(he=u(B,J.props),he.ref=Fo(Z,B,J),he.return=Z,he):(he=$s(J.type,J.key,J.props,null,Z.mode,he),he.ref=Fo(Z,B,J),he.return=Z,he)}function ee(Z,B,J,he){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=eu(J,Z.mode,he),B.return=Z,B):(B=u(B,J.children||[]),B.return=Z,B)}function ue(Z,B,J,he,ke){return B===null||B.tag!==7?(B=Nr(J,Z.mode,he,ke),B.return=Z,B):(B=u(B,J),B.return=Z,B)}function de(Z,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ja(""+B,Z.mode,J),B.return=Z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return J=$s(B.type,B.key,B.props,null,Z.mode,J),J.ref=Fo(Z,null,B),J.return=Z,J;case W:return B=eu(B,Z.mode,J),B.return=Z,B;case I:var he=B._init;return de(Z,he(B._payload),J)}if(ce(B)||$(B))return B=Nr(B,Z.mode,J,null),B.return=Z,B;fs(Z,B)}return null}function ae(Z,B,J,he){var ke=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return ke!==null?null:M(Z,B,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return J.key===ke?z(Z,B,J,he):null;case W:return J.key===ke?ee(Z,B,J,he):null;case I:return ke=J._init,ae(Z,B,ke(J._payload),he)}if(ce(J)||$(J))return ke!==null?null:ue(Z,B,J,he,null);fs(Z,J)}return null}function ve(Z,B,J,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return Z=Z.get(J)||null,M(B,Z,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case L:return Z=Z.get(he.key===null?J:he.key)||null,z(B,Z,he,ke);case W:return Z=Z.get(he.key===null?J:he.key)||null,ee(B,Z,he,ke);case I:var _e=he._init;return ve(Z,B,J,_e(he._payload),ke)}if(ce(he)||$(he))return Z=Z.get(J)||null,ue(B,Z,he,ke,null);fs(B,he)}return null}function Ee(Z,B,J,he){for(var ke=null,_e=null,be=B,Re=B=0,ft=null;be!==null&&Re<J.length;Re++){be.index>Re?(ft=be,be=null):ft=be.sibling;var Pe=ae(Z,be,J[Re],he);if(Pe===null){be===null&&(be=ft);break}e&&be&&Pe.alternate===null&&t(Z,be),B=p(Pe,B,Re),_e===null?ke=Pe:_e.sibling=Pe,_e=Pe,be=ft}if(Re===J.length)return r(Z,be),Ze&&gr(Z,Re),ke;if(be===null){for(;Re<J.length;Re++)be=de(Z,J[Re],he),be!==null&&(B=p(be,B,Re),_e===null?ke=be:_e.sibling=be,_e=be);return Ze&&gr(Z,Re),ke}for(be=s(Z,be);Re<J.length;Re++)ft=ve(be,Z,Re,J[Re],he),ft!==null&&(e&&ft.alternate!==null&&be.delete(ft.key===null?Re:ft.key),B=p(ft,B,Re),_e===null?ke=ft:_e.sibling=ft,_e=ft);return e&&be.forEach(function(Jn){return t(Z,Jn)}),Ze&&gr(Z,Re),ke}function Ce(Z,B,J,he){var ke=$(J);if(typeof ke!="function")throw Error(i(150));if(J=ke.call(J),J==null)throw Error(i(151));for(var _e=ke=null,be=B,Re=B=0,ft=null,Pe=J.next();be!==null&&!Pe.done;Re++,Pe=J.next()){be.index>Re?(ft=be,be=null):ft=be.sibling;var Jn=ae(Z,be,Pe.value,he);if(Jn===null){be===null&&(be=ft);break}e&&be&&Jn.alternate===null&&t(Z,be),B=p(Jn,B,Re),_e===null?ke=Jn:_e.sibling=Jn,_e=Jn,be=ft}if(Pe.done)return r(Z,be),Ze&&gr(Z,Re),ke;if(be===null){for(;!Pe.done;Re++,Pe=J.next())Pe=de(Z,Pe.value,he),Pe!==null&&(B=p(Pe,B,Re),_e===null?ke=Pe:_e.sibling=Pe,_e=Pe);return Ze&&gr(Z,Re),ke}for(be=s(Z,be);!Pe.done;Re++,Pe=J.next())Pe=ve(be,Z,Re,Pe.value,he),Pe!==null&&(e&&Pe.alternate!==null&&be.delete(Pe.key===null?Re:Pe.key),B=p(Pe,B,Re),_e===null?ke=Pe:_e.sibling=Pe,_e=Pe);return e&&be.forEach(function(em){return t(Z,em)}),Ze&&gr(Z,Re),ke}function ot(Z,B,J,he){if(typeof J=="object"&&J!==null&&J.type===V&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case L:e:{for(var ke=J.key,_e=B;_e!==null;){if(_e.key===ke){if(ke=J.type,ke===V){if(_e.tag===7){r(Z,_e.sibling),B=u(_e,J.props.children),B.return=Z,Z=B;break e}}else if(_e.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&ld(ke)===_e.type){r(Z,_e.sibling),B=u(_e,J.props),B.ref=Fo(Z,_e,J),B.return=Z,Z=B;break e}r(Z,_e);break}else t(Z,_e);_e=_e.sibling}J.type===V?(B=Nr(J.props.children,Z.mode,he,J.key),B.return=Z,Z=B):(he=$s(J.type,J.key,J.props,null,Z.mode,he),he.ref=Fo(Z,B,J),he.return=Z,Z=he)}return w(Z);case W:e:{for(_e=J.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){r(Z,B.sibling),B=u(B,J.children||[]),B.return=Z,Z=B;break e}else{r(Z,B);break}else t(Z,B);B=B.sibling}B=eu(J,Z.mode,he),B.return=Z,Z=B}return w(Z);case I:return _e=J._init,ot(Z,B,_e(J._payload),he)}if(ce(J))return Ee(Z,B,J,he);if($(J))return Ce(Z,B,J,he);fs(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,B!==null&&B.tag===6?(r(Z,B.sibling),B=u(B,J),B.return=Z,Z=B):(r(Z,B),B=Ja(J,Z.mode,he),B.return=Z,Z=B),w(Z)):r(Z,B)}return ot}var Yr=ad(!0),ud=ad(!1),ps=Bn(null),hs=null,Qr=null,ua=null;function ca(){ua=Qr=hs=null}function da(e){var t=ps.current;Qe(ps),e._currentValue=t}function fa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Kr(e,t){hs=e,ua=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Rt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(ua!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(hs===null)throw Error(i(308));Qr=e,hs.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var mr=null;function pa(e){mr===null?mr=[e]:mr.push(e)}function cd(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,pa(t)):(r.next=u.next,u.next=r),t.interleaved=r,_n(e,s)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wn=!1;function ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,_n(e,r)}return u=s.interleaved,u===null?(t.next=t,pa(s)):(t.next=u.next,u.next=t),s.interleaved=t,_n(e,r)}function gs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Tl(e,r)}}function fd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var w={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};p===null?u=p=w:p=p.next=w,r=r.next}while(r!==null);p===null?u=p=t:p=p.next=t}else u=p=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ms(e,t,r,s){var u=e.updateQueue;Wn=!1;var p=u.firstBaseUpdate,w=u.lastBaseUpdate,M=u.shared.pending;if(M!==null){u.shared.pending=null;var z=M,ee=z.next;z.next=null,w===null?p=ee:w.next=ee,w=z;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==w&&(M===null?ue.firstBaseUpdate=ee:M.next=ee,ue.lastBaseUpdate=z))}if(p!==null){var de=u.baseState;w=0,ue=ee=z=null,M=p;do{var ae=M.lane,ve=M.eventTime;if((s&ae)===ae){ue!==null&&(ue=ue.next={eventTime:ve,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=e,Ce=M;switch(ae=t,ve=r,Ce.tag){case 1:if(Ee=Ce.payload,typeof Ee=="function"){de=Ee.call(ve,de,ae);break e}de=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ce.payload,ae=typeof Ee=="function"?Ee.call(ve,de,ae):Ee,ae==null)break e;de=X({},de,ae);break e;case 2:Wn=!0}}M.callback!==null&&M.lane!==0&&(e.flags|=64,ae=u.effects,ae===null?u.effects=[M]:ae.push(M))}else ve={eventTime:ve,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(ee=ue=ve,z=de):ue=ue.next=ve,w|=ae;if(M=M.next,M===null){if(M=u.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);if(ue===null&&(z=de),u.baseState=z,u.firstBaseUpdate=ee,u.lastBaseUpdate=ue,t=u.shared.interleaved,t!==null){u=t;do w|=u.lane,u=u.next;while(u!==t)}else p===null&&(u.shared.lanes=0);xr|=w,e.lanes=w,e.memoizedState=de}}function pd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Bo={},pn=Bn(Bo),Vo=Bn(Bo),Uo=Bn(Bo);function yr(e){if(e===Bo)throw Error(i(174));return e}function ga(e,t){switch(Xe(Uo,t),Xe(Vo,e),Xe(pn,Bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ue(t,e)}Qe(pn),Xe(pn,t)}function Zr(){Qe(pn),Qe(Vo),Qe(Uo)}function hd(e){yr(Uo.current);var t=yr(pn.current),r=Ue(t,e.type);t!==r&&(Xe(Vo,e),Xe(pn,r))}function ma(e){Vo.current===e&&(Qe(pn),Qe(Vo))}var Je=Bn(0);function ys(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function va(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var vs=R.ReactCurrentDispatcher,xa=R.ReactCurrentBatchConfig,vr=0,et=null,at=null,ct=null,xs=!1,Wo=!1,Xo=0,Eg=0;function xt(){throw Error(i(321))}function wa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function Sa(e,t,r,s,u,p){if(vr=p,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vs.current=e===null||e.memoizedState===null?_g:bg,e=r(s,u),Wo){p=0;do{if(Wo=!1,Xo=0,25<=p)throw Error(i(301));p+=1,ct=at=null,t.updateQueue=null,vs.current=Tg,e=r(s,u)}while(Wo)}if(vs.current=Es,t=at!==null&&at.next!==null,vr=0,ct=at=et=null,xs=!1,t)throw Error(i(300));return e}function Ea(){var e=Xo!==0;return Xo=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?et.memoizedState=ct=e:ct=ct.next=e,ct}function Ut(){if(at===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ct===null?et.memoizedState:ct.next;if(t!==null)ct=t,at=e;else{if(e===null)throw Error(i(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?et.memoizedState=ct=e:ct=ct.next=e}return ct}function Yo(e,t){return typeof t=="function"?t(e):t}function Na(e){var t=Ut(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=at,u=s.baseQueue,p=r.pending;if(p!==null){if(u!==null){var w=u.next;u.next=p.next,p.next=w}s.baseQueue=u=p,r.pending=null}if(u!==null){p=u.next,s=s.baseState;var M=w=null,z=null,ee=p;do{var ue=ee.lane;if((vr&ue)===ue)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),s=ee.hasEagerState?ee.eagerState:e(s,ee.action);else{var de={lane:ue,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(M=z=de,w=s):z=z.next=de,et.lanes|=ue,xr|=ue}ee=ee.next}while(ee!==null&&ee!==p);z===null?w=s:z.next=M,Gt(s,t.memoizedState)||(Rt=!0),t.memoizedState=s,t.baseState=w,t.baseQueue=z,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do p=u.lane,et.lanes|=p,xr|=p,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ca(e){var t=Ut(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,p=t.memoizedState;if(u!==null){r.pending=null;var w=u=u.next;do p=e(p,w.action),w=w.next;while(w!==u);Gt(p,t.memoizedState)||(Rt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),r.lastRenderedState=p}return[p,s]}function gd(){}function md(e,t){var r=et,s=Ut(),u=t(),p=!Gt(s.memoizedState,u);if(p&&(s.memoizedState=u,Rt=!0),s=s.queue,ka(xd.bind(null,r,s,e),[e]),s.getSnapshot!==t||p||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Qo(9,vd.bind(null,r,s,u,t),void 0,null),dt===null)throw Error(i(349));(vr&30)!==0||yd(r,t,u)}return u}function yd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vd(e,t,r,s){t.value=r,t.getSnapshot=s,wd(t)&&Sd(e)}function xd(e,t,r){return r(function(){wd(t)&&Sd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function Sd(e){var t=_n(e,1);t!==null&&nn(t,e,1,-1)}function Ed(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=kg.bind(null,et,e),[t.memoizedState,e]}function Qo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Nd(){return Ut().memoizedState}function ws(e,t,r,s){var u=hn();et.flags|=e,u.memoizedState=Qo(1|t,r,void 0,s===void 0?null:s)}function Ss(e,t,r,s){var u=Ut();s=s===void 0?null:s;var p=void 0;if(at!==null){var w=at.memoizedState;if(p=w.destroy,s!==null&&wa(s,w.deps)){u.memoizedState=Qo(t,r,p,s);return}}et.flags|=e,u.memoizedState=Qo(1|t,r,p,s)}function Cd(e,t){return ws(8390656,8,e,t)}function ka(e,t){return Ss(2048,8,e,t)}function kd(e,t){return Ss(4,2,e,t)}function _d(e,t){return Ss(4,4,e,t)}function bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,r){return r=r!=null?r.concat([e]):null,Ss(4,4,bd.bind(null,t,e),r)}function _a(){}function Rd(e,t){var r=Ut();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&wa(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function jd(e,t){var r=Ut();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&wa(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Ad(e,t,r){return(vr&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=r):(Gt(r,t)||(r=lc(),et.lanes|=r,xr|=r,e.baseState=!0),t)}function Ng(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var s=xa.transition;xa.transition={};try{e(!1),t()}finally{Be=r,xa.transition=s}}function Md(){return Ut().memoizedState}function Cg(e,t,r){var s=Zn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Id(e))Ld(t,r);else if(r=cd(e,t,r,s),r!==null){var u=Ct();nn(r,e,s,u),Dd(r,t,s)}}function kg(e,t,r){var s=Zn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Id(e))Ld(t,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var w=t.lastRenderedState,M=p(w,r);if(u.hasEagerState=!0,u.eagerState=M,Gt(M,w)){var z=t.interleaved;z===null?(u.next=u,pa(t)):(u.next=z.next,z.next=u),t.interleaved=u;return}}catch{}finally{}r=cd(e,t,u,s),r!==null&&(u=Ct(),nn(r,e,s,u),Dd(r,t,s))}}function Id(e){var t=e.alternate;return e===et||t!==null&&t===et}function Ld(e,t){Wo=xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dd(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Tl(e,r)}}var Es={readContext:Vt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},_g={readContext:Vt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Cd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ws(4194308,4,bd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=hn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Cg.bind(null,et,e),[s.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Ed,useDebugValue:_a,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Ed(!1),t=e[0];return e=Ng.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=et,u=hn();if(Ze){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),dt===null)throw Error(i(349));(vr&30)!==0||yd(s,t,r)}u.memoizedState=r;var p={value:r,getSnapshot:t};return u.queue=p,Cd(xd.bind(null,s,p,e),[e]),s.flags|=2048,Qo(9,vd.bind(null,s,p,r,t),void 0,null),r},useId:function(){var e=hn(),t=dt.identifierPrefix;if(Ze){var r=kn,s=Cn;r=(s&~(1<<32-Zt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Eg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bg={readContext:Vt,useCallback:Rd,useContext:Vt,useEffect:ka,useImperativeHandle:Td,useInsertionEffect:kd,useLayoutEffect:_d,useMemo:jd,useReducer:Na,useRef:Nd,useState:function(){return Na(Yo)},useDebugValue:_a,useDeferredValue:function(e){var t=Ut();return Ad(t,at.memoizedState,e)},useTransition:function(){var e=Na(Yo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:md,useId:Md,unstable_isNewReconciler:!1},Tg={readContext:Vt,useCallback:Rd,useContext:Vt,useEffect:ka,useImperativeHandle:Td,useInsertionEffect:kd,useLayoutEffect:_d,useMemo:jd,useReducer:Ca,useRef:Nd,useState:function(){return Ca(Yo)},useDebugValue:_a,useDeferredValue:function(e){var t=Ut();return at===null?t.memoizedState=e:Ad(t,at.memoizedState,e)},useTransition:function(){var e=Ca(Yo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:md,useId:Md,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ba(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:X({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ns={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ct(),u=Zn(e),p=bn(s,u);p.payload=t,r!=null&&(p.callback=r),t=Xn(e,p,u),t!==null&&(nn(t,e,u,s),gs(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ct(),u=Zn(e),p=bn(s,u);p.tag=1,p.payload=t,r!=null&&(p.callback=r),t=Xn(e,p,u),t!==null&&(nn(t,e,u,s),gs(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ct(),s=Zn(e),u=bn(r,s);u.tag=2,t!=null&&(u.callback=t),t=Xn(e,u,s),t!==null&&(nn(t,e,s,r),gs(t,e,s))}};function $d(e,t,r,s,u,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,w):t.prototype&&t.prototype.isPureReactComponent?!Lo(r,s)||!Lo(u,p):!0}function zd(e,t,r){var s=!1,u=Vn,p=t.contextType;return typeof p=="object"&&p!==null?p=Vt(p):(u=Tt(t)?pr:vt.current,s=t.contextTypes,p=(s=s!=null)?Vr(e,u):Vn),t=new t(r,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ns,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=p),t}function Pd(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function Ta(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},ha(e);var p=t.contextType;typeof p=="object"&&p!==null?u.context=Vt(p):(p=Tt(t)?pr:vt.current,u.context=Vr(e,p)),u.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(ba(e,t,p,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Ns.enqueueReplaceState(u,u.state,null),ms(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var r="",s=t;do r+=ge(s),s=s.return;while(s);var u=r}catch(p){u=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:u,digest:null}}function Ra(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ja(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Rg=typeof WeakMap=="function"?WeakMap:Map;function Hd(e,t,r){r=bn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){js||(js=!0,Wa=s),ja(e,t)},r}function Od(e,t,r){r=bn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){ja(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(r.callback=function(){ja(e,t),typeof s!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),r}function Fd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Rg;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=Vg.bind(null,e,t,r),t.then(e,e))}function Bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vd(e,t,r,s,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var jg=R.ReactCurrentOwner,Rt=!1;function Nt(e,t,r,s){t.child=e===null?ud(t,null,r,s):Yr(t,e.child,r,s)}function Ud(e,t,r,s,u){r=r.render;var p=t.ref;return Kr(t,u),s=Sa(e,t,r,s,p,u),r=Ea(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Tn(e,t,u)):(Ze&&r&&oa(t),t.flags|=1,Nt(e,t,s,u),t.child)}function Wd(e,t,r,s,u){if(e===null){var p=r.type;return typeof p=="function"&&!qa(p)&&p.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=p,Xd(e,t,p,s,u)):(e=$s(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&u)===0){var w=p.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(w,s)&&e.ref===t.ref)return Tn(e,t,u)}return t.flags|=1,e=qn(p,s),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,r,s,u){if(e!==null){var p=e.memoizedProps;if(Lo(p,s)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=s=p,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,Tn(e,t,u)}return Aa(e,t,r,s,u)}function Yd(e,t,r){var s=t.pendingProps,u=s.children,p=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Jr,zt),zt|=r;else{if((r&1073741824)===0)return e=p!==null?p.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(Jr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=p!==null?p.baseLanes:r,Xe(Jr,zt),zt|=s}else p!==null?(s=p.baseLanes|r,t.memoizedState=null):s=r,Xe(Jr,zt),zt|=s;return Nt(e,t,u,r),t.child}function Qd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,r,s,u){var p=Tt(r)?pr:vt.current;return p=Vr(t,p),Kr(t,u),r=Sa(e,t,r,s,p,u),s=Ea(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Tn(e,t,u)):(Ze&&s&&oa(t),t.flags|=1,Nt(e,t,r,u),t.child)}function Kd(e,t,r,s,u){if(Tt(r)){var p=!0;ls(t)}else p=!1;if(Kr(t,u),t.stateNode===null)ks(e,t),zd(t,r,s),Ta(t,r,s,u),s=!0;else if(e===null){var w=t.stateNode,M=t.memoizedProps;w.props=M;var z=w.context,ee=r.contextType;typeof ee=="object"&&ee!==null?ee=Vt(ee):(ee=Tt(r)?pr:vt.current,ee=Vr(t,ee));var ue=r.getDerivedStateFromProps,de=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function";de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==s||z!==ee)&&Pd(t,w,s,ee),Wn=!1;var ae=t.memoizedState;w.state=ae,ms(t,s,w,u),z=t.memoizedState,M!==s||ae!==z||bt.current||Wn?(typeof ue=="function"&&(ba(t,r,ue,s),z=t.memoizedState),(M=Wn||$d(t,r,M,s,ae,z,ee))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),w.props=s,w.state=z,w.context=ee,s=M):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{w=t.stateNode,dd(e,t),M=t.memoizedProps,ee=t.type===t.elementType?M:Jt(t.type,M),w.props=ee,de=t.pendingProps,ae=w.context,z=r.contextType,typeof z=="object"&&z!==null?z=Vt(z):(z=Tt(r)?pr:vt.current,z=Vr(t,z));var ve=r.getDerivedStateFromProps;(ue=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==de||ae!==z)&&Pd(t,w,s,z),Wn=!1,ae=t.memoizedState,w.state=ae,ms(t,s,w,u);var Ee=t.memoizedState;M!==de||ae!==Ee||bt.current||Wn?(typeof ve=="function"&&(ba(t,r,ve,s),Ee=t.memoizedState),(ee=Wn||$d(t,r,ee,s,ae,Ee,z)||!1)?(ue||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(s,Ee,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(s,Ee,z)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Ee),w.props=s,w.state=Ee,w.context=z,s=ee):(typeof w.componentDidUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),s=!1)}return Ma(e,t,r,s,p,u)}function Ma(e,t,r,s,u,p){Qd(e,t);var w=(t.flags&128)!==0;if(!s&&!w)return u&&ed(t,r,!1),Tn(e,t,p);s=t.stateNode,jg.current=t;var M=w&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&w?(t.child=Yr(t,e.child,null,p),t.child=Yr(t,null,M,p)):Nt(e,t,M,p),t.memoizedState=s.state,u&&ed(t,r,!0),t.child}function Zd(e){var t=e.stateNode;t.pendingContext?qc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qc(e,t.context,!1),ga(e,t.containerInfo)}function Gd(e,t,r,s,u){return Xr(),aa(u),t.flags|=256,Nt(e,t,r,s),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function qd(e,t,r){var s=t.pendingProps,u=Je.current,p=!1,w=(t.flags&128)!==0,M;if((M=w)||(M=e!==null&&e.memoizedState===null?!1:(u&2)!==0),M?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Xe(Je,u&1),e===null)return la(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(w=s.children,e=s.fallback,p?(s=t.mode,p=t.child,w={mode:"hidden",children:w},(s&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=zs(w,s,0,null),e=Nr(e,s,r,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=La(r),t.memoizedState=Ia,e):Da(t,w));if(u=e.memoizedState,u!==null&&(M=u.dehydrated,M!==null))return Ag(e,t,w,s,M,u,r);if(p){p=s.fallback,w=t.mode,u=e.child,M=u.sibling;var z={mode:"hidden",children:s.children};return(w&1)===0&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=z,t.deletions=null):(s=qn(u,z),s.subtreeFlags=u.subtreeFlags&14680064),M!==null?p=qn(M,p):(p=Nr(p,w,r,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,s=p,p=t.child,w=e.child.memoizedState,w=w===null?La(r):{baseLanes:w.baseLanes|r,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~r,t.memoizedState=Ia,s}return p=e.child,e=p.sibling,s=qn(p,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Da(e,t){return t=zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,r,s){return s!==null&&aa(s),Yr(t,e.child,null,r),e=Da(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ag(e,t,r,s,u,p,w){if(r)return t.flags&256?(t.flags&=-257,s=Ra(Error(i(422))),Cs(e,t,w,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=s.fallback,u=t.mode,s=zs({mode:"visible",children:s.children},u,0,null),p=Nr(p,u,w,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,(t.mode&1)!==0&&Yr(t,e.child,null,w),t.child.memoizedState=La(w),t.memoizedState=Ia,p);if((t.mode&1)===0)return Cs(e,t,w,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var M=s.dgst;return s=M,p=Error(i(419)),s=Ra(p,s,void 0),Cs(e,t,w,s)}if(M=(w&e.childLanes)!==0,Rt||M){if(s=dt,s!==null){switch(w&-w){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|w))!==0?0:u,u!==0&&u!==p.retryLane&&(p.retryLane=u,_n(e,u),nn(s,e,u,-1))}return Ga(),s=Ra(Error(i(421))),Cs(e,t,w,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Ug.bind(null,e),u._reactRetry=t,null):(e=p.treeContext,$t=Fn(u.nextSibling),Dt=t,Ze=!0,qt=null,e!==null&&(Ft[Bt++]=Cn,Ft[Bt++]=kn,Ft[Bt++]=hr,Cn=e.id,kn=e.overflow,hr=t),t=Da(t,s.children),t.flags|=4096,t)}function Jd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),fa(e.return,t,r)}function $a(e,t,r,s,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=r,p.tailMode=u)}function ef(e,t,r){var s=t.pendingProps,u=s.revealOrder,p=s.tail;if(Nt(e,t,s.children,r),s=Je.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,r,t);else if(e.tag===19)Jd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Xe(Je,s),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&ys(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),$a(t,!1,u,r,p);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ys(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}$a(t,!0,r,null,p);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Mg(e,t,r){switch(t.tag){case 3:Zd(t),Xr();break;case 5:hd(t);break;case 1:Tt(t.type)&&ls(t);break;case 4:ga(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Xe(ps,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Xe(Je,Je.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?qd(e,t,r):(Xe(Je,Je.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Xe(Je,Je.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return ef(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Xe(Je,Je.current),s)break;return null;case 22:case 23:return t.lanes=0,Yd(e,t,r)}return Tn(e,t,r)}var tf,za,nf,rf;tf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},za=function(){},nf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,yr(pn.current);var p=null;switch(r){case"input":u=Ve(e,u),s=Ve(e,s),p=[];break;case"select":u=X({},u,{value:void 0}),s=X({},s,{value:void 0}),p=[];break;case"textarea":u=fe(e,u),s=fe(e,s),p=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=os)}_t(r,s);var w;r=null;for(ee in u)if(!s.hasOwnProperty(ee)&&u.hasOwnProperty(ee)&&u[ee]!=null)if(ee==="style"){var M=u[ee];for(w in M)M.hasOwnProperty(w)&&(r||(r={}),r[w]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?p||(p=[]):(p=p||[]).push(ee,null));for(ee in s){var z=s[ee];if(M=u?.[ee],s.hasOwnProperty(ee)&&z!==M&&(z!=null||M!=null))if(ee==="style")if(M){for(w in M)!M.hasOwnProperty(w)||z&&z.hasOwnProperty(w)||(r||(r={}),r[w]="");for(w in z)z.hasOwnProperty(w)&&M[w]!==z[w]&&(r||(r={}),r[w]=z[w])}else r||(p||(p=[]),p.push(ee,r)),r=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,M=M?M.__html:void 0,z!=null&&M!==z&&(p=p||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(p=p||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&Ye("scroll",e),p||M===z||(p=[])):(p=p||[]).push(ee,z))}r&&(p=p||[]).push("style",r);var ee=p;(t.updateQueue=ee)&&(t.flags|=4)}},rf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ko(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Ig(e,t,r){var s=t.pendingProps;switch(ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Tt(t.type)&&ss(),wt(t),null;case 3:return s=t.stateNode,Zr(),Qe(bt),Qe(vt),va(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qt!==null&&(Qa(qt),qt=null))),za(e,t),wt(t),null;case 5:ma(t);var u=yr(Uo.current);if(r=t.type,e!==null&&t.stateNode!=null)nf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return wt(t),null}if(e=yr(pn.current),ds(t)){s=t.stateNode,r=t.type;var p=t.memoizedProps;switch(s[fn]=t,s[Ho]=p,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(u=0;u<$o.length;u++)Ye($o[u],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Fe(s,p),Ye("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!p.multiple},Ye("invalid",s);break;case"textarea":Te(s,p),Ye("invalid",s)}_t(r,p),u=null;for(var w in p)if(p.hasOwnProperty(w)){var M=p[w];w==="children"?typeof M=="string"?s.textContent!==M&&(p.suppressHydrationWarning!==!0&&rs(s.textContent,M,e),u=["children",M]):typeof M=="number"&&s.textContent!==""+M&&(p.suppressHydrationWarning!==!0&&rs(s.textContent,M,e),u=["children",""+M]):a.hasOwnProperty(w)&&M!=null&&w==="onScroll"&&Ye("scroll",s)}switch(r){case"input":Me(s),te(s,p,!0);break;case"textarea":Me(s),je(s);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(s.onclick=os)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{w=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oe(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=w.createElement(r,{is:s.is}):(e=w.createElement(r),r==="select"&&(w=e,s.multiple?w.multiple=!0:s.size&&(w.size=s.size))):e=w.createElementNS(e,r),e[fn]=t,e[Ho]=s,tf(e,t,!1,!1),t.stateNode=e;e:{switch(w=Kt(r,s),r){case"dialog":Ye("cancel",e),Ye("close",e),u=s;break;case"iframe":case"object":case"embed":Ye("load",e),u=s;break;case"video":case"audio":for(u=0;u<$o.length;u++)Ye($o[u],e);u=s;break;case"source":Ye("error",e),u=s;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),u=s;break;case"details":Ye("toggle",e),u=s;break;case"input":Fe(e,s),u=Ve(e,s),Ye("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=X({},s,{value:void 0}),Ye("invalid",e);break;case"textarea":Te(e,s),u=fe(e,s),Ye("invalid",e);break;default:u=s}_t(r,u),M=u;for(p in M)if(M.hasOwnProperty(p)){var z=M[p];p==="style"?un(e,z):p==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ge(e,z)):p==="children"?typeof z=="string"?(r!=="textarea"||z!=="")&&ht(e,z):typeof z=="number"&&ht(e,""+z):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?z!=null&&p==="onScroll"&&Ye("scroll",e):z!=null&&D(e,p,z,w))}switch(r){case"input":Me(e),te(e,s,!1);break;case"textarea":Me(e),je(e);break;case"option":s.value!=null&&e.setAttribute("value",""+me(s.value));break;case"select":e.multiple=!!s.multiple,p=s.value,p!=null?pe(e,!!s.multiple,p,!1):s.defaultValue!=null&&pe(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=os)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)rf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=yr(Uo.current),yr(pn.current),ds(t)){if(s=t.stateNode,r=t.memoizedProps,s[fn]=t,(p=s.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:rs(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rs(s.nodeValue,r,(e.mode&1)!==0)}p&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[fn]=t,t.stateNode=s}return wt(t),null;case 13:if(Qe(Je),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&$t!==null&&(t.mode&1)!==0&&(t.flags&128)===0)sd(),Xr(),t.flags|=98560,p=!1;else if(p=ds(t),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[fn]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),p=!1}else qt!==null&&(Qa(qt),qt=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Je.current&1)!==0?ut===0&&(ut=3):Ga())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Zr(),za(e,t),e===null&&zo(t.stateNode.containerInfo),wt(t),null;case 10:return da(t.type._context),wt(t),null;case 17:return Tt(t.type)&&ss(),wt(t),null;case 19:if(Qe(Je),p=t.memoizedState,p===null)return wt(t),null;if(s=(t.flags&128)!==0,w=p.rendering,w===null)if(s)Ko(p,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(w=ys(e),w!==null){for(t.flags|=128,Ko(p,!1),s=w.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)p=r,e=s,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(Je,Je.current&1|2),t.child}e=e.sibling}p.tail!==null&&qe()>eo&&(t.flags|=128,s=!0,Ko(p,!1),t.lanes=4194304)}else{if(!s)if(e=ys(w),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ko(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ze)return wt(t),null}else 2*qe()-p.renderingStartTime>eo&&r!==1073741824&&(t.flags|=128,s=!0,Ko(p,!1),t.lanes=4194304);p.isBackwards?(w.sibling=t.child,t.child=w):(r=p.last,r!==null?r.sibling=w:t.child=w,p.last=w)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=qe(),t.sibling=null,r=Je.current,Xe(Je,s?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return Za(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(zt&1073741824)!==0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Lg(e,t){switch(ia(t),t.tag){case 1:return Tt(t.type)&&ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Qe(bt),Qe(vt),va(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ma(t),null;case 13:if(Qe(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Je),null;case 4:return Zr(),null;case 10:return da(t.type._context),null;case 22:case 23:return Za(),null;case 24:return null;default:return null}}var _s=!1,St=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,we=null;function qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){nt(e,t,s)}else r.current=null}function Pa(e,t,r){try{r()}catch(s){nt(e,t,s)}}var of=!1;function $g(e,t){if(Zl=Xi,e=$c(),Bl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var w=0,M=-1,z=-1,ee=0,ue=0,de=e,ae=null;t:for(;;){for(var ve;de!==r||u!==0&&de.nodeType!==3||(M=w+u),de!==p||s!==0&&de.nodeType!==3||(z=w+s),de.nodeType===3&&(w+=de.nodeValue.length),(ve=de.firstChild)!==null;)ae=de,de=ve;for(;;){if(de===e)break t;if(ae===r&&++ee===u&&(M=w),ae===p&&++ue===s&&(z=w),(ve=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=ve}r=M===-1||z===-1?null:{start:M,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gl={focusedElem:e,selectionRange:r},Xi=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var Ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ce=Ee.memoizedProps,ot=Ee.memoizedState,Z=t.stateNode,B=Z.getSnapshotBeforeUpdate(t.elementType===t.type?Ce:Jt(t.type,Ce),ot);Z.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var J=t.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(he){nt(t,t.return,he)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return Ee=of,of=!1,Ee}function Zo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var p=u.destroy;u.destroy=void 0,p!==void 0&&Pa(t,r,p)}u=u.next}while(u!==s)}}function bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ha(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function sf(e){var t=e.alternate;t!==null&&(e.alternate=null,sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Ho],delete t[ta],delete t[vg],delete t[xg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lf(e){return e.tag===5||e.tag===3||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=os));else if(s!==4&&(e=e.child,e!==null))for(Oa(e,t,r),e=e.sibling;e!==null;)Oa(e,t,r),e=e.sibling}function Fa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Fa(e,t,r),e=e.sibling;e!==null;)Fa(e,t,r),e=e.sibling}var gt=null,en=!1;function Yn(e,t,r){for(r=r.child;r!==null;)uf(e,t,r),r=r.sibling}function uf(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ir,r)}catch{}switch(r.tag){case 5:St||qr(r,t);case 6:var s=gt,u=en;gt=null,Yn(e,t,r),gt=s,en=u,gt!==null&&(en?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(en?(e=gt,r=r.stateNode,e.nodeType===8?ea(e.parentNode,r):e.nodeType===1&&ea(e,r),To(e)):ea(gt,r.stateNode));break;case 4:s=gt,u=en,gt=r.stateNode.containerInfo,en=!0,Yn(e,t,r),gt=s,en=u;break;case 0:case 11:case 14:case 15:if(!St&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var p=u,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&Pa(r,t,w),u=u.next}while(u!==s)}Yn(e,t,r);break;case 1:if(!St&&(qr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(M){nt(r,t,M)}Yn(e,t,r);break;case 21:Yn(e,t,r);break;case 22:r.mode&1?(St=(s=St)||r.memoizedState!==null,Yn(e,t,r),St=s):Yn(e,t,r);break;default:Yn(e,t,r)}}function cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dg),t.forEach(function(s){var u=Wg.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function tn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var p=e,w=t,M=w;e:for(;M!==null;){switch(M.tag){case 5:gt=M.stateNode,en=!1;break e;case 3:gt=M.stateNode.containerInfo,en=!0;break e;case 4:gt=M.stateNode.containerInfo,en=!0;break e}M=M.return}if(gt===null)throw Error(i(160));uf(p,w,u),gt=null,en=!1;var z=u.alternate;z!==null&&(z.return=null),u.return=null}catch(ee){nt(u,t,ee)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),gn(e),s&4){try{Zo(3,e,e.return),bs(3,e)}catch(Ce){nt(e,e.return,Ce)}try{Zo(5,e,e.return)}catch(Ce){nt(e,e.return,Ce)}}break;case 1:tn(t,e),gn(e),s&512&&r!==null&&qr(r,r.return);break;case 5:if(tn(t,e),gn(e),s&512&&r!==null&&qr(r,r.return),e.flags&32){var u=e.stateNode;try{ht(u,"")}catch(Ce){nt(e,e.return,Ce)}}if(s&4&&(u=e.stateNode,u!=null)){var p=e.memoizedProps,w=r!==null?r.memoizedProps:p,M=e.type,z=e.updateQueue;if(e.updateQueue=null,z!==null)try{M==="input"&&p.type==="radio"&&p.name!=null&&ne(u,p),Kt(M,w);var ee=Kt(M,p);for(w=0;w<z.length;w+=2){var ue=z[w],de=z[w+1];ue==="style"?un(u,de):ue==="dangerouslySetInnerHTML"?Ge(u,de):ue==="children"?ht(u,de):D(u,ue,de,ee)}switch(M){case"input":se(u,p);break;case"textarea":$e(u,p);break;case"select":var ae=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!p.multiple;var ve=p.value;ve!=null?pe(u,!!p.multiple,ve,!1):ae!==!!p.multiple&&(p.defaultValue!=null?pe(u,!!p.multiple,p.defaultValue,!0):pe(u,!!p.multiple,p.multiple?[]:"",!1))}u[Ho]=p}catch(Ce){nt(e,e.return,Ce)}}break;case 6:if(tn(t,e),gn(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,p=e.memoizedProps;try{u.nodeValue=p}catch(Ce){nt(e,e.return,Ce)}}break;case 3:if(tn(t,e),gn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{To(t.containerInfo)}catch(Ce){nt(e,e.return,Ce)}break;case 4:tn(t,e),gn(e);break;case 13:tn(t,e),gn(e),u=e.child,u.flags&8192&&(p=u.memoizedState!==null,u.stateNode.isHidden=p,!p||u.alternate!==null&&u.alternate.memoizedState!==null||(Ua=qe())),s&4&&cf(e);break;case 22:if(ue=r!==null&&r.memoizedState!==null,e.mode&1?(St=(ee=St)||ue,tn(t,e),St=ee):tn(t,e),gn(e),s&8192){if(ee=e.memoizedState!==null,(e.stateNode.isHidden=ee)&&!ue&&(e.mode&1)!==0)for(we=e,ue=e.child;ue!==null;){for(de=we=ue;we!==null;){switch(ae=we,ve=ae.child,ae.tag){case 0:case 11:case 14:case 15:Zo(4,ae,ae.return);break;case 1:qr(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){s=ae,r=ae.return;try{t=s,Ee.props=t.memoizedProps,Ee.state=t.memoizedState,Ee.componentWillUnmount()}catch(Ce){nt(s,r,Ce)}}break;case 5:qr(ae,ae.return);break;case 22:if(ae.memoizedState!==null){hf(de);continue}}ve!==null?(ve.return=ae,we=ve):hf(de)}ue=ue.sibling}e:for(ue=null,de=e;;){if(de.tag===5){if(ue===null){ue=de;try{u=de.stateNode,ee?(p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(M=de.stateNode,z=de.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null,M.style.display=an("display",w))}catch(Ce){nt(e,e.return,Ce)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=ee?"":de.memoizedProps}catch(Ce){nt(e,e.return,Ce)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===e)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===e)break e;for(;de.sibling===null;){if(de.return===null||de.return===e)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:tn(t,e),gn(e),s&4&&cf(e);break;case 21:break;default:tn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lf(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(ht(u,""),s.flags&=-33);var p=af(e);Fa(e,p,u);break;case 3:case 4:var w=s.stateNode.containerInfo,M=af(e);Oa(e,M,w);break;default:throw Error(i(161))}}catch(z){nt(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zg(e,t,r){we=e,ff(e)}function ff(e,t,r){for(var s=(e.mode&1)!==0;we!==null;){var u=we,p=u.child;if(u.tag===22&&s){var w=u.memoizedState!==null||_s;if(!w){var M=u.alternate,z=M!==null&&M.memoizedState!==null||St;M=_s;var ee=St;if(_s=w,(St=z)&&!ee)for(we=u;we!==null;)w=we,z=w.child,w.tag===22&&w.memoizedState!==null?gf(u):z!==null?(z.return=w,we=z):gf(u);for(;p!==null;)we=p,ff(p),p=p.sibling;we=u,_s=M,St=ee}pf(e)}else(u.subtreeFlags&8772)!==0&&p!==null?(p.return=u,we=p):pf(e)}}function pf(e){for(;we!==null;){var t=we;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:St||bs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!St)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&pd(t,p,s);break;case 3:var w=t.updateQueue;if(w!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pd(t,w,r)}break;case 5:var M=t.stateNode;if(r===null&&t.flags&4){r=M;var z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&r.focus();break;case"img":z.src&&(r.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ee=t.alternate;if(ee!==null){var ue=ee.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&To(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}St||t.flags&512&&Ha(t)}catch(ae){nt(t,t.return,ae)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function hf(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function gf(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bs(4,t)}catch(z){nt(t,r,z)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(z){nt(t,u,z)}}var p=t.return;try{Ha(t)}catch(z){nt(t,p,z)}break;case 5:var w=t.return;try{Ha(t)}catch(z){nt(t,w,z)}}}catch(z){nt(t,t.return,z)}if(t===e){we=null;break}var M=t.sibling;if(M!==null){M.return=t.return,we=M;break}we=t.return}}var Pg=Math.ceil,Ts=R.ReactCurrentDispatcher,Ba=R.ReactCurrentOwner,Wt=R.ReactCurrentBatchConfig,ze=0,dt=null,it=null,mt=0,zt=0,Jr=Bn(0),ut=0,Go=null,xr=0,Rs=0,Va=0,qo=null,jt=null,Ua=0,eo=1/0,Rn=null,js=!1,Wa=null,Qn=null,As=!1,Kn=null,Ms=0,Jo=0,Xa=null,Is=-1,Ls=0;function Ct(){return(ze&6)!==0?qe():Is!==-1?Is:Is=qe()}function Zn(e){return(e.mode&1)===0?1:(ze&2)!==0&&mt!==0?mt&-mt:Sg.transition!==null?(Ls===0&&(Ls=lc()),Ls):(e=Be,e!==0||(e=window.event,e=e===void 0?16:mc(e.type)),e)}function nn(e,t,r,s){if(50<Jo)throw Jo=0,Xa=null,Error(i(185));No(e,r,s),((ze&2)===0||e!==dt)&&(e===dt&&((ze&2)===0&&(Rs|=r),ut===4&&Gn(e,mt)),At(e,s),r===1&&ze===0&&(t.mode&1)===0&&(eo=qe()+500,as&&Un()))}function At(e,t){var r=e.callbackNode;S0(e,t);var s=Vi(e,e===dt?mt:0);if(s===0)r!==null&&$i(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&$i(r),t===1)e.tag===0?wg(yf.bind(null,e)):td(yf.bind(null,e)),mg(function(){(ze&6)===0&&Un()}),r=null;else{switch(ac(s)){case 1:r=wo;break;case 4:r=Pi;break;case 16:r=Mr;break;case 536870912:r=Oi;break;default:r=Mr}r=kf(r,mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mf(e,t){if(Is=-1,Ls=0,(ze&6)!==0)throw Error(i(327));var r=e.callbackNode;if(to()&&e.callbackNode!==r)return null;var s=Vi(e,e===dt?mt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Ds(e,s);else{t=s;var u=ze;ze|=2;var p=xf();(dt!==e||mt!==t)&&(Rn=null,eo=qe()+500,Sr(e,t));do try{Fg();break}catch(M){vf(e,M)}while(!0);ca(),Ts.current=p,ze=u,it!==null?t=0:(dt=null,mt=0,t=ut)}if(t!==0){if(t===2&&(u=_l(e),u!==0&&(s=u,t=Ya(e,u))),t===1)throw r=Go,Sr(e,0),Gn(e,s),At(e,qe()),r;if(t===6)Gn(e,s);else{if(u=e.current.alternate,(s&30)===0&&!Hg(u)&&(t=Ds(e,s),t===2&&(p=_l(e),p!==0&&(s=p,t=Ya(e,p))),t===1))throw r=Go,Sr(e,0),Gn(e,s),At(e,qe()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Er(e,jt,Rn);break;case 3:if(Gn(e,s),(s&130023424)===s&&(t=Ua+500-qe(),10<t)){if(Vi(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){Ct(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Jl(Er.bind(null,e,jt,Rn),t);break}Er(e,jt,Rn);break;case 4:if(Gn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var w=31-Zt(s);p=1<<w,w=t[w],w>u&&(u=w),s&=~p}if(s=u,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Pg(s/1960))-s,10<s){e.timeoutHandle=Jl(Er.bind(null,e,jt,Rn),s);break}Er(e,jt,Rn);break;case 5:Er(e,jt,Rn);break;default:throw Error(i(329))}}}return At(e,qe()),e.callbackNode===r?mf.bind(null,e):null}function Ya(e,t){var r=qo;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Ds(e,t),e!==2&&(t=jt,jt=r,t!==null&&Qa(t)),e}function Qa(e){jt===null?jt=e:jt.push.apply(jt,e)}function Hg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],p=u.getSnapshot;u=u.value;try{if(!Gt(p(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Va,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),s=1<<r;e[r]=-1,t&=~s}}function yf(e){if((ze&6)!==0)throw Error(i(327));to();var t=Vi(e,0);if((t&1)===0)return At(e,qe()),null;var r=Ds(e,t);if(e.tag!==0&&r===2){var s=_l(e);s!==0&&(t=s,r=Ya(e,s))}if(r===1)throw r=Go,Sr(e,0),Gn(e,t),At(e,qe()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,jt,Rn),At(e,qe()),null}function Ka(e,t){var r=ze;ze|=1;try{return e(t)}finally{ze=r,ze===0&&(eo=qe()+500,as&&Un())}}function wr(e){Kn!==null&&Kn.tag===0&&(ze&6)===0&&to();var t=ze;ze|=1;var r=Wt.transition,s=Be;try{if(Wt.transition=null,Be=1,e)return e()}finally{Be=s,Wt.transition=r,ze=t,(ze&6)===0&&Un()}}function Za(){zt=Jr.current,Qe(Jr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gg(r)),it!==null)for(r=it.return;r!==null;){var s=r;switch(ia(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ss();break;case 3:Zr(),Qe(bt),Qe(vt),va();break;case 5:ma(s);break;case 4:Zr();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:da(s.type._context);break;case 22:case 23:Za()}r=r.return}if(dt=e,it=e=qn(e.current,null),mt=zt=t,ut=0,Go=null,Va=Rs=xr=0,jt=qo=null,mr!==null){for(t=0;t<mr.length;t++)if(r=mr[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,p=r.pending;if(p!==null){var w=p.next;p.next=u,s.next=w}r.pending=s}mr=null}return e}function vf(e,t){do{var r=it;try{if(ca(),vs.current=Es,xs){for(var s=et.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}xs=!1}if(vr=0,ct=at=et=null,Wo=!1,Xo=0,Ba.current=null,r===null||r.return===null){ut=1,Go=t,it=null;break}e:{var p=e,w=r.return,M=r,z=t;if(t=mt,M.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,ue=M,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ve=Bd(w);if(ve!==null){ve.flags&=-257,Vd(ve,w,M,p,t),ve.mode&1&&Fd(p,ee,t),t=ve,z=ee;var Ee=t.updateQueue;if(Ee===null){var Ce=new Set;Ce.add(z),t.updateQueue=Ce}else Ee.add(z);break e}else{if((t&1)===0){Fd(p,ee,t),Ga();break e}z=Error(i(426))}}else if(Ze&&M.mode&1){var ot=Bd(w);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Vd(ot,w,M,p,t),aa(Gr(z,M));break e}}p=z=Gr(z,M),ut!==4&&(ut=2),qo===null?qo=[p]:qo.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var Z=Hd(p,z,t);fd(p,Z);break e;case 1:M=z;var B=p.type,J=p.stateNode;if((p.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Qn===null||!Qn.has(J)))){p.flags|=65536,t&=-t,p.lanes|=t;var he=Od(p,M,t);fd(p,he);break e}}p=p.return}while(p!==null)}Sf(r)}catch(ke){t=ke,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function xf(){var e=Ts.current;return Ts.current=Es,e===null?Es:e}function Ga(){(ut===0||ut===3||ut===2)&&(ut=4),dt===null||(xr&268435455)===0&&(Rs&268435455)===0||Gn(dt,mt)}function Ds(e,t){var r=ze;ze|=2;var s=xf();(dt!==e||mt!==t)&&(Rn=null,Sr(e,t));do try{Og();break}catch(u){vf(e,u)}while(!0);if(ca(),ze=r,Ts.current=s,it!==null)throw Error(i(261));return dt=null,mt=0,ut}function Og(){for(;it!==null;)wf(it)}function Fg(){for(;it!==null&&!zi();)wf(it)}function wf(e){var t=Cf(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Sf(e):it=t,Ba.current=null}function Sf(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Ig(r,t,zt),r!==null){it=r;return}}else{if(r=Lg(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function Er(e,t,r){var s=Be,u=Wt.transition;try{Wt.transition=null,Be=1,Bg(e,t,r,s)}finally{Wt.transition=u,Be=s}return null}function Bg(e,t,r,s){do to();while(Kn!==null);if((ze&6)!==0)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=r.lanes|r.childLanes;if(E0(e,p),e===dt&&(it=dt=null,mt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||As||(As=!0,kf(Mr,function(){return to(),null})),p=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||p){p=Wt.transition,Wt.transition=null;var w=Be;Be=1;var M=ze;ze|=4,Ba.current=null,$g(e,r),df(r,e),ag(Gl),Xi=!!Zl,Gl=Zl=null,e.current=r,zg(r),Cl(),ze=M,Be=w,Wt.transition=p}else e.current=r;if(As&&(As=!1,Kn=e,Ms=u),p=e.pendingLanes,p===0&&(Qn=null),So(r.stateNode),At(e,qe()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(js)throw js=!1,e=Wa,Wa=null,e;return(Ms&1)!==0&&e.tag!==0&&to(),p=e.pendingLanes,(p&1)!==0?e===Xa?Jo++:(Jo=0,Xa=e):Jo=0,Un(),null}function to(){if(Kn!==null){var e=ac(Ms),t=Wt.transition,r=Be;try{if(Wt.transition=null,Be=16>e?16:e,Kn===null)var s=!1;else{if(e=Kn,Kn=null,Ms=0,(ze&6)!==0)throw Error(i(331));var u=ze;for(ze|=4,we=e.current;we!==null;){var p=we,w=p.child;if((we.flags&16)!==0){var M=p.deletions;if(M!==null){for(var z=0;z<M.length;z++){var ee=M[z];for(we=ee;we!==null;){var ue=we;switch(ue.tag){case 0:case 11:case 15:Zo(8,ue,p)}var de=ue.child;if(de!==null)de.return=ue,we=de;else for(;we!==null;){ue=we;var ae=ue.sibling,ve=ue.return;if(sf(ue),ue===ee){we=null;break}if(ae!==null){ae.return=ve,we=ae;break}we=ve}}}var Ee=p.alternate;if(Ee!==null){var Ce=Ee.child;if(Ce!==null){Ee.child=null;do{var ot=Ce.sibling;Ce.sibling=null,Ce=ot}while(Ce!==null)}}we=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,we=w;else e:for(;we!==null;){if(p=we,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Zo(9,p,p.return)}var Z=p.sibling;if(Z!==null){Z.return=p.return,we=Z;break e}we=p.return}}var B=e.current;for(we=B;we!==null;){w=we;var J=w.child;if((w.subtreeFlags&2064)!==0&&J!==null)J.return=w,we=J;else e:for(w=B;we!==null;){if(M=we,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:bs(9,M)}}catch(ke){nt(M,M.return,ke)}if(M===w){we=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,we=he;break e}we=M.return}}if(ze=u,Un(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ir,e)}catch{}s=!0}return s}finally{Be=r,Wt.transition=t}}return!1}function Ef(e,t,r){t=Gr(r,t),t=Hd(e,t,1),e=Xn(e,t,1),t=Ct(),e!==null&&(No(e,1,t),At(e,t))}function nt(e,t,r){if(e.tag===3)Ef(e,e,r);else for(;t!==null;){if(t.tag===3){Ef(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Gr(r,e),e=Od(t,e,1),t=Xn(t,e,1),e=Ct(),t!==null&&(No(t,1,e),At(t,e));break}}t=t.return}}function Vg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(mt&r)===r&&(ut===4||ut===3&&(mt&130023424)===mt&&500>qe()-Ua?Sr(e,0):Va|=r),At(e,t)}function Nf(e,t){t===0&&((e.mode&1)===0?t=1:(t=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var r=Ct();e=_n(e,t),e!==null&&(No(e,t,r),At(e,r))}function Ug(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nf(e,r)}function Wg(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Nf(e,r)}var Cf;Cf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)Rt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Rt=!1,Mg(e,t,r);Rt=(e.flags&131072)!==0}else Rt=!1,Ze&&(t.flags&1048576)!==0&&nd(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ks(e,t),e=t.pendingProps;var u=Vr(t,vt.current);Kr(t,r),u=Sa(null,t,s,e,u,r);var p=Ea();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(s)?(p=!0,ls(t)):p=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ha(t),u.updater=Ns,t.stateNode=u,u._reactInternals=t,Ta(t,s,e,r),t=Ma(null,t,s,!0,p,r)):(t.tag=0,Ze&&p&&oa(t),Nt(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Yg(s),e=Jt(s,e),u){case 0:t=Aa(null,t,s,e,r);break e;case 1:t=Kd(null,t,s,e,r);break e;case 11:t=Ud(null,t,s,e,r);break e;case 14:t=Wd(null,t,s,Jt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Aa(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Kd(e,t,s,u,r);case 3:e:{if(Zd(t),e===null)throw Error(i(387));s=t.pendingProps,p=t.memoizedState,u=p.element,dd(e,t),ms(t,s,null,r);var w=t.memoizedState;if(s=w.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){u=Gr(Error(i(423)),t),t=Gd(e,t,s,r,u);break e}else if(s!==u){u=Gr(Error(i(424)),t),t=Gd(e,t,s,r,u);break e}else for($t=Fn(t.stateNode.containerInfo.firstChild),Dt=t,Ze=!0,qt=null,r=ud(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),s===u){t=Tn(e,t,r);break e}Nt(e,t,s,r)}t=t.child}return t;case 5:return hd(t),e===null&&la(t),s=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,w=u.children,ql(s,u)?w=null:p!==null&&ql(s,p)&&(t.flags|=32),Qd(e,t),Nt(e,t,w,r),t.child;case 6:return e===null&&la(t),null;case 13:return qd(e,t,r);case 4:return ga(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yr(t,null,s,r):Nt(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Ud(e,t,s,u,r);case 7:return Nt(e,t,t.pendingProps,r),t.child;case 8:return Nt(e,t,t.pendingProps.children,r),t.child;case 12:return Nt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,p=t.memoizedProps,w=u.value,Xe(ps,s._currentValue),s._currentValue=w,p!==null)if(Gt(p.value,w)){if(p.children===u.children&&!bt.current){t=Tn(e,t,r);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var M=p.dependencies;if(M!==null){w=p.child;for(var z=M.firstContext;z!==null;){if(z.context===s){if(p.tag===1){z=bn(-1,r&-r),z.tag=2;var ee=p.updateQueue;if(ee!==null){ee=ee.shared;var ue=ee.pending;ue===null?z.next=z:(z.next=ue.next,ue.next=z),ee.pending=z}}p.lanes|=r,z=p.alternate,z!==null&&(z.lanes|=r),fa(p.return,r,t),M.lanes|=r;break}z=z.next}}else if(p.tag===10)w=p.type===t.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=r,M=w.alternate,M!==null&&(M.lanes|=r),fa(w,r,t),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===t){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Nt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,Kr(t,r),u=Vt(u),s=s(u),t.flags|=1,Nt(e,t,s,r),t.child;case 14:return s=t.type,u=Jt(s,t.pendingProps),u=Jt(s.type,u),Wd(e,t,s,u,r);case 15:return Xd(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),ks(e,t),t.tag=1,Tt(s)?(e=!0,ls(t)):e=!1,Kr(t,r),zd(t,s,u),Ta(t,s,u,r),Ma(null,t,s,!0,e,r);case 19:return ef(e,t,r);case 22:return Yd(e,t,r)}throw Error(i(156,t.tag))};function kf(e,t){return Di(e,t)}function Xg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,r,s){return new Xg(e,t,r,s)}function qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yg(e){if(typeof e=="function")return qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Q)return 11;if(e===j)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=Xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $s(e,t,r,s,u,p){var w=2;if(s=e,typeof e=="function")qa(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case V:return Nr(r.children,u,p,t);case G:w=8,u|=8;break;case F:return e=Xt(12,r,t,u|2),e.elementType=F,e.lanes=p,e;case K:return e=Xt(13,r,t,u),e.elementType=K,e.lanes=p,e;case E:return e=Xt(19,r,t,u),e.elementType=E,e.lanes=p,e;case H:return zs(r,u,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:w=10;break e;case U:w=9;break e;case Q:w=11;break e;case j:w=14;break e;case I:w=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Xt(w,r,t,u),t.elementType=e,t.type=s,t.lanes=p,t}function Nr(e,t,r,s){return e=Xt(7,e,s,t),e.lanes=r,e}function zs(e,t,r,s){return e=Xt(22,e,s,t),e.elementType=H,e.lanes=r,e.stateNode={isHidden:!1},e}function Ja(e,t,r){return e=Xt(6,e,null,t),e.lanes=r,e}function eu(e,t,r){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qg(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function tu(e,t,r,s,u,p,w,M,z){return e=new Qg(e,t,r,M,z),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Xt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ha(p),e}function Kg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function _f(e){if(!e)return Vn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(Tt(r))return Jc(e,r,t)}return t}function bf(e,t,r,s,u,p,w,M,z){return e=tu(r,s,!0,e,u,p,w,M,z),e.context=_f(null),r=e.current,s=Ct(),u=Zn(r),p=bn(s,u),p.callback=t??null,Xn(r,p,u),e.current.lanes=u,No(e,u,s),At(e,s),e}function Ps(e,t,r,s){var u=t.current,p=Ct(),w=Zn(u);return r=_f(r),t.context===null?t.context=r:t.pendingContext=r,t=bn(p,w),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Xn(u,t,w),e!==null&&(nn(e,u,w,p),gs(e,u,w)),w}function Hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nu(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function Zg(){return null}var Rf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}Os.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ps(e,t,null,null)},Os.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){Ps(null,e,null,null)}),t[En]=null}};function Os(e){this._internalRoot=e}Os.prototype.unstable_scheduleHydration=function(e){if(e){var t=dc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pn.length&&t!==0&&t<Pn[r].priority;r++);Pn.splice(r,0,e),r===0&&hc(e)}};function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jf(){}function Gg(e,t,r,s,u){if(u){if(typeof s=="function"){var p=s;s=function(){var ee=Hs(w);p.call(ee)}}var w=bf(t,s,e,0,null,!1,!1,"",jf);return e._reactRootContainer=w,e[En]=w.current,zo(e.nodeType===8?e.parentNode:e),wr(),w}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var M=s;s=function(){var ee=Hs(z);M.call(ee)}}var z=tu(e,0,!1,null,null,!1,!1,"",jf);return e._reactRootContainer=z,e[En]=z.current,zo(e.nodeType===8?e.parentNode:e),wr(function(){Ps(t,z,r,s)}),z}function Bs(e,t,r,s,u){var p=r._reactRootContainer;if(p){var w=p;if(typeof u=="function"){var M=u;u=function(){var z=Hs(w);M.call(z)}}Ps(t,w,e,u)}else w=Gg(r,t,e,u,s);return Hs(w)}uc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Eo(t.pendingLanes);r!==0&&(Tl(t,r|1),At(t,qe()),(ze&6)===0&&(eo=qe()+500,Un()))}break;case 13:wr(function(){var s=_n(e,1);if(s!==null){var u=Ct();nn(s,e,1,u)}}),nu(e,1)}},Rl=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=Ct();nn(t,e,134217728,r)}nu(e,134217728)}},cc=function(e){if(e.tag===13){var t=Zn(e),r=_n(e,t);if(r!==null){var s=Ct();nn(r,e,t,s)}nu(e,t)}},dc=function(){return Be},fc=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}},xn=function(e,t,r){switch(t){case"input":if(se(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=is(s);if(!u)throw Error(i(90));We(s),se(s,u)}}}break;case"textarea":$e(e,r);break;case"select":t=r.value,t!=null&&pe(e,!!r.multiple,t,!1)}},bi=Ka,Ti=wr;var qg={usingClientEntryPoint:!1,Events:[Oo,Fr,is,ki,_i,Ka]},ei={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jg={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ii(e),e===null?null:e.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||Zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{Ir=Vs.inject(Jg),Ot=Vs}catch{}}return Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qg,Mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(t))throw Error(i(200));return Kg(e,t,null,r)},Mt.createRoot=function(e,t){if(!ou(e))throw Error(i(299));var r=!1,s="",u=Rf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=tu(e,1,!1,null,null,r,!1,s,u),e[En]=t.current,zo(e.nodeType===8?e.parentNode:e),new ru(t)},Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ii(t),e=e===null?null:e.stateNode,e},Mt.flushSync=function(e){return wr(e)},Mt.hydrate=function(e,t,r){if(!Fs(t))throw Error(i(200));return Bs(null,e,t,!0,r)},Mt.hydrateRoot=function(e,t,r){if(!ou(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,p="",w=Rf;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),t=bf(t,null,e,1,r??null,u,!1,p,w),e[En]=t.current,zo(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Os(t)},Mt.render=function(e,t,r){if(!Fs(t))throw Error(i(200));return Bs(null,e,t,!1,r)},Mt.unmountComponentAtNode=function(e){if(!Fs(e))throw Error(i(40));return e._reactRootContainer?(wr(function(){Bs(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1},Mt.unstable_batchedUpdates=Ka,Mt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Fs(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Bs(e,t,r,!1,s)},Mt.version="18.3.1-next-f1338f8080-20240426",Mt}var Pf;function $p(){if(Pf)return lu.exports;Pf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),lu.exports=sm(),lu.exports}var Hf;function lm(){if(Hf)return Us;Hf=1;var n=$p();return Us.createRoot=n.createRoot,Us.hydrateRoot=n.hydrateRoot,Us}var am=lm();const um=Ou(am);function kt(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=kt(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var cu={exports:{}},du={},fu={exports:{}},pu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function cm(){if(Of)return pu;Of=1;var n=wi();function o(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function f(v,x){var S=x(),C=l({inst:{value:S,getSnapshot:x}}),N=C[0].inst,T=C[1];return c(function(){N.value=S,N.getSnapshot=x,h(N)&&T({inst:N})},[v,S,x]),a(function(){return h(N)&&T({inst:N}),v(function(){h(N)&&T({inst:N})})},[v]),d(S),S}function h(v){var x=v.getSnapshot;v=v.value;try{var S=x();return!i(v,S)}catch{return!0}}function m(v,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return pu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,pu}var Ff;function dm(){return Ff||(Ff=1,fu.exports=cm()),fu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function fm(){if(Bf)return du;Bf=1;var n=wi(),o=dm();function i(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,f=n.useMemo,h=n.useDebugValue;return du.useSyncExternalStoreWithSelector=function(m,g,v,x,S){var C=c(null);if(C.current===null){var N={hasValue:!1,value:null};C.current=N}else N=C.current;C=f(function(){function _(W){if(!A){if(A=!0,D=W,W=x(W),S!==void 0&&N.hasValue){var V=N.value;if(S(V,W))return R=V}return R=W}if(V=R,l(D,W))return V;var G=x(W);return S!==void 0&&S(V,G)?(D=W,V):(D=W,R=G)}var A=!1,D,R,L=v===void 0?null:v;return[function(){return _(g())},L===null?void 0:function(){return _(L())}]},[g,v,x,S]);var T=a(m,C[0],C[1]);return d(function(){N.hasValue=!0,N.value=T},[T]),h(T),T},du}var Vf;function pm(){return Vf||(Vf=1,cu.exports=fm()),cu.exports}var hm=pm();const gm=Ou(hm),mm={},Uf=n=>{let o;const i=new Set,l=(g,v)=>{const x=typeof g=="function"?g(o):g;if(!Object.is(x,o)){const S=o;o=v??(typeof x!="object"||x===null)?x:Object.assign({},o,x),i.forEach(C=>C(o,S))}},a=()=>o,h={setState:l,getState:a,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(mm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},m=o=n(l,a,h);return h},ym=n=>n?Uf(n):Uf,{useDebugValue:vm}=re,{useSyncExternalStoreWithSelector:xm}=gm,wm=n=>n;function zp(n,o=wm,i){const l=xm(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return vm(l),l}const Wf=(n,o)=>{const i=ym(n),l=(a,c=o)=>zp(i,a,c);return Object.assign(l,i),l},Sm=(n,o)=>n?Wf(n,o):Wf;function Et(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}var Em={value:()=>{}};function pl(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new el(i)}function el(n){this._=n}function Nm(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}el.prototype=pl.prototype={constructor:el,on:function(n,o){var i=this._,l=Nm(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=Cm(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=Xf(i[a],n.name,o);else if(o==null)for(a in i)i[a]=Xf(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new el(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function Cm(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function Xf(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=Em,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var Cu="http://www.w3.org/1999/xhtml";const Yf={svg:"http://www.w3.org/2000/svg",xhtml:Cu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hl(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),Yf.hasOwnProperty(o)?{space:Yf[o],local:n}:n}function km(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===Cu&&o.documentElement.namespaceURI===Cu?o.createElement(n):o.createElementNS(i,n)}}function _m(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Pp(n){var o=hl(n);return(o.local?_m:km)(o)}function bm(){}function Fu(n){return n==null?bm:function(){return this.querySelector(n)}}function Tm(n){typeof n!="function"&&(n=Fu(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,f=l[a]=new Array(d),h,m,g=0;g<d;++g)(h=c[g])&&(m=n.call(h,h.__data__,g,c))&&("__data__"in h&&(m.__data__=h.__data__),f[g]=m);return new Pt(l,this._parents)}function Rm(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function jm(){return[]}function Hp(n){return n==null?jm:function(){return this.querySelectorAll(n)}}function Am(n){return function(){return Rm(n.apply(this,arguments))}}function Mm(n){typeof n=="function"?n=Am(n):n=Hp(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],f=d.length,h,m=0;m<f;++m)(h=d[m])&&(l.push(n.call(h,h.__data__,m,d)),a.push(h));return new Pt(l,a)}function Op(n){return function(){return this.matches(n)}}function Fp(n){return function(o){return o.matches(n)}}var Im=Array.prototype.find;function Lm(n){return function(){return Im.call(this.children,n)}}function Dm(){return this.firstElementChild}function $m(n){return this.select(n==null?Dm:Lm(typeof n=="function"?n:Fp(n)))}var zm=Array.prototype.filter;function Pm(){return Array.from(this.children)}function Hm(n){return function(){return zm.call(this.children,n)}}function Om(n){return this.selectAll(n==null?Pm:Hm(typeof n=="function"?n:Fp(n)))}function Fm(n){typeof n!="function"&&(n=Op(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,f=l[a]=[],h,m=0;m<d;++m)(h=c[m])&&n.call(h,h.__data__,m,c)&&f.push(h);return new Pt(l,this._parents)}function Bp(n){return new Array(n.length)}function Bm(){return new Pt(this._enter||this._groups.map(Bp),this._parents)}function il(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}il.prototype={constructor:il,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Vm(n){return function(){return n}}function Um(n,o,i,l,a,c){for(var d=0,f,h=o.length,m=c.length;d<m;++d)(f=o[d])?(f.__data__=c[d],l[d]=f):i[d]=new il(n,c[d]);for(;d<h;++d)(f=o[d])&&(a[d]=f)}function Wm(n,o,i,l,a,c,d){var f,h,m=new Map,g=o.length,v=c.length,x=new Array(g),S;for(f=0;f<g;++f)(h=o[f])&&(x[f]=S=d.call(h,h.__data__,f,o)+"",m.has(S)?a[f]=h:m.set(S,h));for(f=0;f<v;++f)S=d.call(n,c[f],f,c)+"",(h=m.get(S))?(l[f]=h,h.__data__=c[f],m.delete(S)):i[f]=new il(n,c[f]);for(f=0;f<g;++f)(h=o[f])&&m.get(x[f])===h&&(a[f]=h)}function Xm(n){return n.__data__}function Ym(n,o){if(!arguments.length)return Array.from(this,Xm);var i=o?Wm:Um,l=this._parents,a=this._groups;typeof n!="function"&&(n=Vm(n));for(var c=a.length,d=new Array(c),f=new Array(c),h=new Array(c),m=0;m<c;++m){var g=l[m],v=a[m],x=v.length,S=Qm(n.call(g,g&&g.__data__,m,l)),C=S.length,N=f[m]=new Array(C),T=d[m]=new Array(C),_=h[m]=new Array(x);i(g,v,N,T,_,S,o);for(var A=0,D=0,R,L;A<C;++A)if(R=N[A]){for(A>=D&&(D=A+1);!(L=T[D])&&++D<C;);R._next=L||null}}return d=new Pt(d,l),d._enter=f,d._exit=h,d}function Qm(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Km(){return new Pt(this._exit||this._groups.map(Bp),this._parents)}function Zm(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function Gm(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),f=new Array(a),h=0;h<d;++h)for(var m=i[h],g=l[h],v=m.length,x=f[h]=new Array(v),S,C=0;C<v;++C)(S=m[C]||g[C])&&(x[C]=S);for(;h<a;++h)f[h]=i[h];return new Pt(f,this._parents)}function qm(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function Jm(n){n||(n=ey);function o(v,x){return v&&x?n(v.__data__,x.__data__):!v-!x}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],f=d.length,h=a[c]=new Array(f),m,g=0;g<f;++g)(m=d[g])&&(h[g]=m);h.sort(o)}return new Pt(a,this._parents).order()}function ey(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function ty(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ny(){return Array.from(this)}function ry(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function oy(){let n=0;for(const o of this)++n;return n}function iy(){return!this.node()}function sy(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,f;c<d;++c)(f=a[c])&&n.call(f,f.__data__,c,a);return this}function ly(n){return function(){this.removeAttribute(n)}}function ay(n){return function(){this.removeAttributeNS(n.space,n.local)}}function uy(n,o){return function(){this.setAttribute(n,o)}}function cy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function dy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function fy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function py(n,o){var i=hl(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?ay:ly:typeof o=="function"?i.local?fy:dy:i.local?cy:uy)(i,o))}function Vp(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function hy(n){return function(){this.style.removeProperty(n)}}function gy(n,o,i){return function(){this.style.setProperty(n,o,i)}}function my(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function yy(n,o,i){return arguments.length>1?this.each((o==null?hy:typeof o=="function"?my:gy)(n,o,i??"")):po(this.node(),n)}function po(n,o){return n.style.getPropertyValue(o)||Vp(n).getComputedStyle(n,null).getPropertyValue(o)}function vy(n){return function(){delete this[n]}}function xy(n,o){return function(){this[n]=o}}function wy(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function Sy(n,o){return arguments.length>1?this.each((o==null?vy:typeof o=="function"?wy:xy)(n,o)):this.node()[n]}function Up(n){return n.trim().split(/^|\s+/)}function Bu(n){return n.classList||new Wp(n)}function Wp(n){this._node=n,this._names=Up(n.getAttribute("class")||"")}Wp.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Xp(n,o){for(var i=Bu(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function Yp(n,o){for(var i=Bu(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function Ey(n){return function(){Xp(this,n)}}function Ny(n){return function(){Yp(this,n)}}function Cy(n,o){return function(){(o.apply(this,arguments)?Xp:Yp)(this,n)}}function ky(n,o){var i=Up(n+"");if(arguments.length<2){for(var l=Bu(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?Cy:o?Ey:Ny)(i,o))}function _y(){this.textContent=""}function by(n){return function(){this.textContent=n}}function Ty(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function Ry(n){return arguments.length?this.each(n==null?_y:(typeof n=="function"?Ty:by)(n)):this.node().textContent}function jy(){this.innerHTML=""}function Ay(n){return function(){this.innerHTML=n}}function My(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function Iy(n){return arguments.length?this.each(n==null?jy:(typeof n=="function"?My:Ay)(n)):this.node().innerHTML}function Ly(){this.nextSibling&&this.parentNode.appendChild(this)}function Dy(){return this.each(Ly)}function $y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zy(){return this.each($y)}function Py(n){var o=typeof n=="function"?n:Pp(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function Hy(){return null}function Oy(n,o){var i=typeof n=="function"?n:Pp(n),l=o==null?Hy:typeof o=="function"?o:Fu(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function Fy(){var n=this.parentNode;n&&n.removeChild(this)}function By(){return this.each(Fy)}function Vy(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function Uy(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function Wy(n){return this.select(n?Uy:Vy)}function Xy(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Yy(n){return function(o){n.call(this,o,this.__data__)}}function Qy(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function Ky(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function Zy(n,o,i){return function(){var l=this.__on,a,c=Yy(o);if(l){for(var d=0,f=l.length;d<f;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function Gy(n,o,i){var l=Qy(n+""),a,c=l.length,d;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,m=f.length,g;h<m;++h)for(a=0,g=f[h];a<c;++a)if((d=l[a]).type===g.type&&d.name===g.name)return g.value}return}for(f=o?Zy:Ky,a=0;a<c;++a)this.each(f(l[a],o,i));return this}function Qp(n,o,i){var l=Vp(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function qy(n,o){return function(){return Qp(this,n,o)}}function Jy(n,o){return function(){return Qp(this,n,o.apply(this,arguments))}}function e1(n,o){return this.each((typeof o=="function"?Jy:qy)(n,o))}function*t1(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var Kp=[null];function Pt(n,o){this._groups=n,this._parents=o}function Si(){return new Pt([[document.documentElement]],Kp)}function n1(){return this}Pt.prototype=Si.prototype={constructor:Pt,select:Tm,selectAll:Mm,selectChild:$m,selectChildren:Om,filter:Fm,data:Ym,enter:Bm,exit:Km,join:Zm,merge:Gm,selection:n1,order:qm,sort:Jm,call:ty,nodes:ny,node:ry,size:oy,empty:iy,each:sy,attr:py,style:yy,property:Sy,classed:ky,text:Ry,html:Iy,raise:Dy,lower:zy,append:Py,insert:Oy,remove:By,clone:Wy,datum:Xy,on:Gy,dispatch:e1,[Symbol.iterator]:t1};function rn(n){return typeof n=="string"?new Pt([[document.querySelector(n)]],[document.documentElement]):new Pt([[n]],Kp)}function r1(n){let o;for(;o=n.sourceEvent;)n=o;return n}function mn(n,o){if(n=r1(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const o1={passive:!1},di={capture:!0,passive:!1};function hu(n){n.stopImmediatePropagation()}function ao(n){n.preventDefault(),n.stopImmediatePropagation()}function Zp(n){var o=n.document.documentElement,i=rn(n).on("dragstart.drag",ao,di);"onselectstart"in o?i.on("selectstart.drag",ao,di):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Gp(n,o){var i=n.document.documentElement,l=rn(n).on("dragstart.drag",null);o&&(l.on("click.drag",ao,di),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Ws=n=>()=>n;function ku(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:f,dx:h,dy:m,dispatch:g}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:g}})}ku.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function i1(n){return!n.ctrlKey&&!n.button}function s1(){return this.parentNode}function l1(n,o){return o??{x:n.x,y:n.y}}function a1(){return navigator.maxTouchPoints||"ontouchstart"in this}function u1(){var n=i1,o=s1,i=l1,l=a1,a={},c=pl("start","drag","end"),d=0,f,h,m,g,v=0;function x(R){R.on("mousedown.drag",S).filter(l).on("touchstart.drag",T).on("touchmove.drag",_,o1).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(R,L){if(!(g||!n.call(this,R,L))){var W=D(this,o.call(this,R,L),R,L,"mouse");W&&(rn(R.view).on("mousemove.drag",C,di).on("mouseup.drag",N,di),Zp(R.view),hu(R),m=!1,f=R.clientX,h=R.clientY,W("start",R))}}function C(R){if(ao(R),!m){var L=R.clientX-f,W=R.clientY-h;m=L*L+W*W>v}a.mouse("drag",R)}function N(R){rn(R.view).on("mousemove.drag mouseup.drag",null),Gp(R.view,m),ao(R),a.mouse("end",R)}function T(R,L){if(n.call(this,R,L)){var W=R.changedTouches,V=o.call(this,R,L),G=W.length,F,Y;for(F=0;F<G;++F)(Y=D(this,V,R,L,W[F].identifier,W[F]))&&(hu(R),Y("start",R,W[F]))}}function _(R){var L=R.changedTouches,W=L.length,V,G;for(V=0;V<W;++V)(G=a[L[V].identifier])&&(ao(R),G("drag",R,L[V]))}function A(R){var L=R.changedTouches,W=L.length,V,G;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),V=0;V<W;++V)(G=a[L[V].identifier])&&(hu(R),G("end",R,L[V]))}function D(R,L,W,V,G,F){var Y=c.copy(),U=mn(F||W,L),Q,K,E;if((E=i.call(R,new ku("beforestart",{sourceEvent:W,target:x,identifier:G,active:d,x:U[0],y:U[1],dx:0,dy:0,dispatch:Y}),V))!=null)return Q=E.x-U[0]||0,K=E.y-U[1]||0,function j(I,H,P){var $=U,X;switch(I){case"start":a[G]=j,X=d++;break;case"end":delete a[G],--d;case"drag":U=mn(P||H,L),X=d;break}Y.call(I,R,new ku(I,{sourceEvent:H,subject:E,target:x,identifier:G,active:X,x:U[0]+Q,y:U[1]+K,dx:U[0]-$[0],dy:U[1]-$[1],dispatch:Y}),V)}}return x.filter=function(R){return arguments.length?(n=typeof R=="function"?R:Ws(!!R),x):n},x.container=function(R){return arguments.length?(o=typeof R=="function"?R:Ws(R),x):o},x.subject=function(R){return arguments.length?(i=typeof R=="function"?R:Ws(R),x):i},x.touchable=function(R){return arguments.length?(l=typeof R=="function"?R:Ws(!!R),x):l},x.on=function(){var R=c.on.apply(c,arguments);return R===c?x:R},x.clickDistance=function(R){return arguments.length?(v=(R=+R)*R,x):Math.sqrt(v)},x}function Vu(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function qp(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function Ei(){}var fi=.7,sl=1/fi,uo="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c1=/^#([0-9a-f]{3,8})$/,d1=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),f1=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),p1=new RegExp(`^rgba\\(${uo},${uo},${uo},${pi}\\)$`),h1=new RegExp(`^rgba\\(${yn},${yn},${yn},${pi}\\)$`),g1=new RegExp(`^hsl\\(${pi},${yn},${yn}\\)$`),m1=new RegExp(`^hsla\\(${pi},${yn},${yn},${pi}\\)$`),Qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vu(Ei,hi,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Kf,formatHex:Kf,formatHex8:y1,formatHsl:v1,formatRgb:Zf,toString:Zf});function Kf(){return this.rgb().formatHex()}function y1(){return this.rgb().formatHex8()}function v1(){return Jp(this).formatHsl()}function Zf(){return this.rgb().formatRgb()}function hi(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=c1.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Gf(o):i===3?new It(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Xs(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Xs(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=d1.exec(n))?new It(o[1],o[2],o[3],1):(o=f1.exec(n))?new It(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=p1.exec(n))?Xs(o[1],o[2],o[3],o[4]):(o=h1.exec(n))?Xs(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=g1.exec(n))?ep(o[1],o[2]/100,o[3]/100,1):(o=m1.exec(n))?ep(o[1],o[2]/100,o[3]/100,o[4]):Qf.hasOwnProperty(n)?Gf(Qf[n]):n==="transparent"?new It(NaN,NaN,NaN,0):null}function Gf(n){return new It(n>>16&255,n>>8&255,n&255,1)}function Xs(n,o,i,l){return l<=0&&(n=o=i=NaN),new It(n,o,i,l)}function x1(n){return n instanceof Ei||(n=hi(n)),n?(n=n.rgb(),new It(n.r,n.g,n.b,n.opacity)):new It}function _u(n,o,i,l){return arguments.length===1?x1(n):new It(n,o,i,l??1)}function It(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Vu(It,_u,qp(Ei,{brighter(n){return n=n==null?sl:Math.pow(sl,n),new It(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?fi:Math.pow(fi,n),new It(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new It(br(this.r),br(this.g),br(this.b),ll(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qf,formatHex:qf,formatHex8:w1,formatRgb:Jf,toString:Jf}));function qf(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function w1(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jf(){const n=ll(this.opacity);return`${n===1?"rgb(":"rgba("}${br(this.r)}, ${br(this.g)}, ${br(this.b)}${n===1?")":`, ${n})`}`}function ll(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function br(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function kr(n){return n=br(n),(n<16?"0":"")+n.toString(16)}function ep(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new on(n,o,i,l)}function Jp(n){if(n instanceof on)return new on(n.h,n.s,n.l,n.opacity);if(n instanceof Ei||(n=hi(n)),!n)return new on;if(n instanceof on)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,f=c-a,h=(c+a)/2;return f?(o===c?d=(i-l)/f+(i<l)*6:i===c?d=(l-o)/f+2:d=(o-i)/f+4,f/=h<.5?c+a:2-c-a,d*=60):f=h>0&&h<1?0:d,new on(d,f,h,n.opacity)}function S1(n,o,i,l){return arguments.length===1?Jp(n):new on(n,o,i,l??1)}function on(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Vu(on,S1,qp(Ei,{brighter(n){return n=n==null?sl:Math.pow(sl,n),new on(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fi:Math.pow(fi,n),new on(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new It(gu(n>=240?n-240:n+120,a,l),gu(n,a,l),gu(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new on(tp(this.h),Ys(this.s),Ys(this.l),ll(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=ll(this.opacity);return`${n===1?"hsl(":"hsla("}${tp(this.h)}, ${Ys(this.s)*100}%, ${Ys(this.l)*100}%${n===1?")":`, ${n})`}`}}));function tp(n){return n=(n||0)%360,n<0?n+360:n}function Ys(n){return Math.max(0,Math.min(1,n||0))}function gu(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const eh=n=>()=>n;function E1(n,o){return function(i){return n+i*o}}function N1(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function C1(n){return(n=+n)==1?th:function(o,i){return i-o?N1(o,i,n):eh(isNaN(o)?i:o)}}function th(n,o){var i=o-n;return i?E1(n,i):eh(isNaN(n)?o:n)}const np=(function n(o){var i=C1(o);function l(a,c){var d=i((a=_u(a)).r,(c=_u(c)).r),f=i(a.g,c.g),h=i(a.b,c.b),m=th(a.opacity,c.opacity);return function(g){return a.r=d(g),a.g=f(g),a.b=h(g),a.opacity=m(g),a+""}}return l.gamma=n,l})(1);function nr(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}var bu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mu=new RegExp(bu.source,"g");function k1(n){return function(){return n}}function _1(n){return function(o){return n(o)+""}}function b1(n,o){var i=bu.lastIndex=mu.lastIndex=0,l,a,c,d=-1,f=[],h=[];for(n=n+"",o=o+"";(l=bu.exec(n))&&(a=mu.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),f[d]?f[d]+=c:f[++d]=c),(l=l[0])===(a=a[0])?f[d]?f[d]+=a:f[++d]=a:(f[++d]=null,h.push({i:d,x:nr(l,a)})),i=mu.lastIndex;return i<o.length&&(c=o.slice(i),f[d]?f[d]+=c:f[++d]=c),f.length<2?h[0]?_1(h[0].x):k1(o):(o=h.length,function(m){for(var g=0,v;g<o;++g)f[(v=h[g]).i]=v.x(m);return f.join("")})}var rp=180/Math.PI,Tu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nh(n,o,i,l,a,c){var d,f,h;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(h=n*i+o*l)&&(i-=n*h,l-=o*h),(f=Math.sqrt(i*i+l*l))&&(i/=f,l/=f,h/=f),n*l<o*i&&(n=-n,o=-o,h=-h,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*rp,skewX:Math.atan(h)*rp,scaleX:d,scaleY:f}}var Qs;function T1(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?Tu:nh(o.a,o.b,o.c,o.d,o.e,o.f)}function R1(n){return n==null||(Qs||(Qs=document.createElementNS("http://www.w3.org/2000/svg","g")),Qs.setAttribute("transform",n),!(n=Qs.transform.baseVal.consolidate()))?Tu:(n=n.matrix,nh(n.a,n.b,n.c,n.d,n.e,n.f))}function rh(n,o,i,l){function a(m){return m.length?m.pop()+" ":""}function c(m,g,v,x,S,C){if(m!==v||g!==x){var N=S.push("translate(",null,o,null,i);C.push({i:N-4,x:nr(m,v)},{i:N-2,x:nr(g,x)})}else(v||x)&&S.push("translate("+v+o+x+i)}function d(m,g,v,x){m!==g?(m-g>180?g+=360:g-m>180&&(m+=360),x.push({i:v.push(a(v)+"rotate(",null,l)-2,x:nr(m,g)})):g&&v.push(a(v)+"rotate("+g+l)}function f(m,g,v,x){m!==g?x.push({i:v.push(a(v)+"skewX(",null,l)-2,x:nr(m,g)}):g&&v.push(a(v)+"skewX("+g+l)}function h(m,g,v,x,S,C){if(m!==v||g!==x){var N=S.push(a(S)+"scale(",null,",",null,")");C.push({i:N-4,x:nr(m,v)},{i:N-2,x:nr(g,x)})}else(v!==1||x!==1)&&S.push(a(S)+"scale("+v+","+x+")")}return function(m,g){var v=[],x=[];return m=n(m),g=n(g),c(m.translateX,m.translateY,g.translateX,g.translateY,v,x),d(m.rotate,g.rotate,v,x),f(m.skewX,g.skewX,v,x),h(m.scaleX,m.scaleY,g.scaleX,g.scaleY,v,x),m=g=null,function(S){for(var C=-1,N=x.length,T;++C<N;)v[(T=x[C]).i]=T.x(S);return v.join("")}}}var j1=rh(T1,"px, ","px)","deg)"),A1=rh(R1,", ",")",")"),M1=1e-12;function op(n){return((n=Math.exp(n))+1/n)/2}function I1(n){return((n=Math.exp(n))-1/n)/2}function L1(n){return((n=Math.exp(2*n))-1)/(n+1)}const D1=(function n(o,i,l){function a(c,d){var f=c[0],h=c[1],m=c[2],g=d[0],v=d[1],x=d[2],S=g-f,C=v-h,N=S*S+C*C,T,_;if(N<M1)_=Math.log(x/m)/o,T=function(V){return[f+V*S,h+V*C,m*Math.exp(o*V*_)]};else{var A=Math.sqrt(N),D=(x*x-m*m+l*N)/(2*m*i*A),R=(x*x-m*m-l*N)/(2*x*i*A),L=Math.log(Math.sqrt(D*D+1)-D),W=Math.log(Math.sqrt(R*R+1)-R);_=(W-L)/o,T=function(V){var G=V*_,F=op(L),Y=m/(i*A)*(F*L1(o*G+L)-I1(L));return[f+Y*S,h+Y*C,m*F/op(o*G+L)]}}return T.duration=_*1e3*o/Math.SQRT2,T}return a.rho=function(c){var d=Math.max(.001,+c),f=d*d,h=f*f;return n(d,f,h)},a})(Math.SQRT2,2,4);var ho=0,ai=0,ni=0,oh=1e3,al,ui,ul=0,Tr=0,gl=0,gi=typeof performance=="object"&&performance.now?performance:Date,ih=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Uu(){return Tr||(ih($1),Tr=gi.now()+gl)}function $1(){Tr=0}function cl(){this._call=this._time=this._next=null}cl.prototype=sh.prototype={constructor:cl,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?Uu():+i)+(o==null?0:+o),!this._next&&ui!==this&&(ui?ui._next=this:al=this,ui=this),this._call=n,this._time=i,Ru()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ru())}};function sh(n,o,i){var l=new cl;return l.restart(n,o,i),l}function z1(){Uu(),++ho;for(var n=al,o;n;)(o=Tr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--ho}function ip(){Tr=(ul=gi.now())+gl,ho=ai=0;try{z1()}finally{ho=0,H1(),Tr=0}}function P1(){var n=gi.now(),o=n-ul;o>oh&&(gl-=o,ul=n)}function H1(){for(var n,o=al,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:al=i);ui=n,Ru(l)}function Ru(n){if(!ho){ai&&(ai=clearTimeout(ai));var o=n-Tr;o>24?(n<1/0&&(ai=setTimeout(ip,n-gi.now()-gl)),ni&&(ni=clearInterval(ni))):(ni||(ul=gi.now(),ni=setInterval(P1,oh)),ho=1,ih(ip))}}function sp(n,o,i){var l=new cl;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var O1=pl("start","end","cancel","interrupt"),F1=[],lh=0,lp=1,ju=2,tl=3,ap=4,Au=5,nl=6;function ml(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;B1(n,i,{name:o,index:l,group:a,on:O1,tween:F1,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:lh})}function Wu(n,o){var i=ln(n,o);if(i.state>lh)throw new Error("too late; already scheduled");return i}function vn(n,o){var i=ln(n,o);if(i.state>tl)throw new Error("too late; already running");return i}function ln(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function B1(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=sh(c,0,i.time);function c(m){i.state=lp,i.timer.restart(d,i.delay,i.time),i.delay<=m&&d(m-i.delay)}function d(m){var g,v,x,S;if(i.state!==lp)return h();for(g in l)if(S=l[g],S.name===i.name){if(S.state===tl)return sp(d);S.state===ap?(S.state=nl,S.timer.stop(),S.on.call("interrupt",n,n.__data__,S.index,S.group),delete l[g]):+g<o&&(S.state=nl,S.timer.stop(),S.on.call("cancel",n,n.__data__,S.index,S.group),delete l[g])}if(sp(function(){i.state===tl&&(i.state=ap,i.timer.restart(f,i.delay,i.time),f(m))}),i.state=ju,i.on.call("start",n,n.__data__,i.index,i.group),i.state===ju){for(i.state=tl,a=new Array(x=i.tween.length),g=0,v=-1;g<x;++g)(S=i.tween[g].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=S);a.length=v+1}}function f(m){for(var g=m<i.duration?i.ease.call(null,m/i.duration):(i.timer.restart(h),i.state=Au,1),v=-1,x=a.length;++v<x;)a[v].call(n,g);i.state===Au&&(i.on.call("end",n,n.__data__,i.index,i.group),h())}function h(){i.state=nl,i.timer.stop(),delete l[o];for(var m in l)return;delete n.__transition}}function rl(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>ju&&l.state<Au,l.state=nl,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function V1(n){return this.each(function(){rl(this,n)})}function U1(n,o){var i,l;return function(){var a=vn(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,f=l.length;d<f;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function W1(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=vn(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var f={name:o,value:i},h=0,m=a.length;h<m;++h)if(a[h].name===o){a[h]=f;break}h===m&&a.push(f)}c.tween=a}}function X1(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=ln(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?U1:W1)(i,n,o))}function Xu(n,o,i){var l=n._id;return n.each(function(){var a=vn(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return ln(a,l).value[o]}}function ah(n,o){var i;return(typeof o=="number"?nr:o instanceof hi?np:(i=hi(o))?(o=i,np):b1)(n,o)}function Y1(n){return function(){this.removeAttribute(n)}}function Q1(n){return function(){this.removeAttributeNS(n.space,n.local)}}function K1(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function Z1(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function G1(n,o,i){var l,a,c;return function(){var d,f=i(this),h;return f==null?void this.removeAttribute(n):(d=this.getAttribute(n),h=f+"",d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,f)))}}function q1(n,o,i){var l,a,c;return function(){var d,f=i(this),h;return f==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),h=f+"",d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,f)))}}function J1(n,o){var i=hl(n),l=i==="transform"?A1:ah;return this.attrTween(n,typeof o=="function"?(i.local?q1:G1)(i,l,Xu(this,"attr."+n,o)):o==null?(i.local?Q1:Y1)(i):(i.local?Z1:K1)(i,l,o))}function ev(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function tv(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function nv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&tv(n,c)),i}return a._value=o,a}function rv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&ev(n,c)),i}return a._value=o,a}function ov(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=hl(n);return this.tween(i,(l.local?nv:rv)(l,o))}function iv(n,o){return function(){Wu(this,n).delay=+o.apply(this,arguments)}}function sv(n,o){return o=+o,function(){Wu(this,n).delay=o}}function lv(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?iv:sv)(o,n)):ln(this.node(),o).delay}function av(n,o){return function(){vn(this,n).duration=+o.apply(this,arguments)}}function uv(n,o){return o=+o,function(){vn(this,n).duration=o}}function cv(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?av:uv)(o,n)):ln(this.node(),o).duration}function dv(n,o){if(typeof o!="function")throw new Error;return function(){vn(this,n).ease=o}}function fv(n){var o=this._id;return arguments.length?this.each(dv(o,n)):ln(this.node(),o).ease}function pv(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;vn(this,n).ease=i}}function hv(n){if(typeof n!="function")throw new Error;return this.each(pv(this._id,n))}function gv(n){typeof n!="function"&&(n=Op(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,f=l[a]=[],h,m=0;m<d;++m)(h=c[m])&&n.call(h,h.__data__,m,c)&&f.push(h);return new Mn(l,this._parents,this._name,this._id)}function mv(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),f=0;f<c;++f)for(var h=o[f],m=i[f],g=h.length,v=d[f]=new Array(g),x,S=0;S<g;++S)(x=h[S]||m[S])&&(v[S]=x);for(;f<l;++f)d[f]=o[f];return new Mn(d,this._parents,this._name,this._id)}function yv(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function vv(n,o,i){var l,a,c=yv(o)?Wu:vn;return function(){var d=c(this,n),f=d.on;f!==l&&(a=(l=f).copy()).on(o,i),d.on=a}}function xv(n,o){var i=this._id;return arguments.length<2?ln(this.node(),i).on.on(n):this.each(vv(i,n,o))}function wv(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function Sv(){return this.on("end.remove",wv(this._id))}function Ev(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Fu(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var f=l[d],h=f.length,m=c[d]=new Array(h),g,v,x=0;x<h;++x)(g=f[x])&&(v=n.call(g,g.__data__,x,f))&&("__data__"in g&&(v.__data__=g.__data__),m[x]=v,ml(m[x],o,i,x,m,ln(g,i)));return new Mn(c,this._parents,o,i)}function Nv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Hp(n));for(var l=this._groups,a=l.length,c=[],d=[],f=0;f<a;++f)for(var h=l[f],m=h.length,g,v=0;v<m;++v)if(g=h[v]){for(var x=n.call(g,g.__data__,v,h),S,C=ln(g,i),N=0,T=x.length;N<T;++N)(S=x[N])&&ml(S,o,i,N,x,C);c.push(x),d.push(g)}return new Mn(c,d,o,i)}var Cv=Si.prototype.constructor;function kv(){return new Cv(this._groups,this._parents)}function _v(n,o){var i,l,a;return function(){var c=po(this,n),d=(this.style.removeProperty(n),po(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function uh(n){return function(){this.style.removeProperty(n)}}function bv(n,o,i){var l,a=i+"",c;return function(){var d=po(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function Tv(n,o,i){var l,a,c;return function(){var d=po(this,n),f=i(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(n),po(this,n))),d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,f))}}function Rv(n,o){var i,l,a,c="style."+o,d="end."+c,f;return function(){var h=vn(this,n),m=h.on,g=h.value[c]==null?f||(f=uh(o)):void 0;(m!==i||a!==g)&&(l=(i=m).copy()).on(d,a=g),h.on=l}}function jv(n,o,i){var l=(n+="")=="transform"?j1:ah;return o==null?this.styleTween(n,_v(n,l)).on("end.style."+n,uh(n)):typeof o=="function"?this.styleTween(n,Tv(n,l,Xu(this,"style."+n,o))).each(Rv(this._id,n)):this.styleTween(n,bv(n,l,o),i).on("end.style."+n,null)}function Av(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function Mv(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&Av(n,d,i)),l}return c._value=o,c}function Iv(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,Mv(n,o,i??""))}function Lv(n){return function(){this.textContent=n}}function Dv(n){return function(){var o=n(this);this.textContent=o??""}}function $v(n){return this.tween("text",typeof n=="function"?Dv(Xu(this,"text",n)):Lv(n==null?"":n+""))}function zv(n){return function(o){this.textContent=n.call(this,o)}}function Pv(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&zv(a)),o}return l._value=n,l}function Hv(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,Pv(n))}function Ov(){for(var n=this._name,o=this._id,i=ch(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],f=d.length,h,m=0;m<f;++m)if(h=d[m]){var g=ln(h,o);ml(h,n,i,m,d,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Mn(l,this._parents,n,i)}function Fv(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var f={value:d},h={value:function(){--a===0&&c()}};i.each(function(){var m=vn(this,l),g=m.on;g!==n&&(o=(n=g).copy(),o._.cancel.push(f),o._.interrupt.push(f),o._.end.push(h)),m.on=o}),a===0&&c()})}var Bv=0;function Mn(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function ch(){return++Bv}var jn=Si.prototype;Mn.prototype={constructor:Mn,select:Ev,selectAll:Nv,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:gv,merge:mv,selection:kv,transition:Ov,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:xv,attr:J1,attrTween:ov,style:jv,styleTween:Iv,text:$v,textTween:Hv,remove:Sv,tween:X1,delay:lv,duration:cv,ease:fv,easeVarying:hv,end:Fv,[Symbol.iterator]:jn[Symbol.iterator]};function Vv(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Uv={time:null,delay:0,duration:250,ease:Vv};function Wv(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function Xv(n){var o,i;n instanceof Mn?(o=n._id,n=n._name):(o=ch(),(i=Uv).time=Uu(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],f=d.length,h,m=0;m<f;++m)(h=d[m])&&ml(h,n,o,m,d,i||Wv(h,o));return new Mn(l,this._parents,n,o)}Si.prototype.interrupt=V1;Si.prototype.transition=Xv;const Ks=n=>()=>n;function Yv(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function An(n,o,i){this.k=n,this.x=o,this.y=i}An.prototype={constructor:An,scale:function(n){return n===1?this:new An(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new An(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ir=new An(1,0,0);An.prototype;function yu(n){n.stopImmediatePropagation()}function ri(n){n.preventDefault(),n.stopImmediatePropagation()}function Qv(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Kv(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function up(){return this.__zoom||ir}function Zv(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Gv(){return navigator.maxTouchPoints||"ontouchstart"in this}function qv(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Jv(){var n=Qv,o=Kv,i=qv,l=Zv,a=Gv,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],f=250,h=D1,m=pl("start","zoom","end"),g,v,x,S=500,C=150,N=0,T=10;function _(E){E.property("__zoom",up).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",Y).filter(a).on("touchstart.zoom",U).on("touchmove.zoom",Q).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(E,j,I,H){var P=E.selection?E.selection():E;P.property("__zoom",up),E!==P?L(E,j,I,H):P.interrupt().each(function(){W(this,arguments).event(H).start().zoom(null,typeof j=="function"?j.apply(this,arguments):j).end()})},_.scaleBy=function(E,j,I,H){_.scaleTo(E,function(){var P=this.__zoom.k,$=typeof j=="function"?j.apply(this,arguments):j;return P*$},I,H)},_.scaleTo=function(E,j,I,H){_.transform(E,function(){var P=o.apply(this,arguments),$=this.__zoom,X=I==null?R(P):typeof I=="function"?I.apply(this,arguments):I,k=$.invert(X),O=typeof j=="function"?j.apply(this,arguments):j;return i(D(A($,O),X,k),P,d)},I,H)},_.translateBy=function(E,j,I,H){_.transform(E,function(){return i(this.__zoom.translate(typeof j=="function"?j.apply(this,arguments):j,typeof I=="function"?I.apply(this,arguments):I),o.apply(this,arguments),d)},null,H)},_.translateTo=function(E,j,I,H,P){_.transform(E,function(){var $=o.apply(this,arguments),X=this.__zoom,k=H==null?R($):typeof H=="function"?H.apply(this,arguments):H;return i(ir.translate(k[0],k[1]).scale(X.k).translate(typeof j=="function"?-j.apply(this,arguments):-j,typeof I=="function"?-I.apply(this,arguments):-I),$,d)},H,P)};function A(E,j){return j=Math.max(c[0],Math.min(c[1],j)),j===E.k?E:new An(j,E.x,E.y)}function D(E,j,I){var H=j[0]-I[0]*E.k,P=j[1]-I[1]*E.k;return H===E.x&&P===E.y?E:new An(E.k,H,P)}function R(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function L(E,j,I,H){E.on("start.zoom",function(){W(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(H).end()}).tween("zoom",function(){var P=this,$=arguments,X=W(P,$).event(H),k=o.apply(P,$),O=I==null?R(k):typeof I=="function"?I.apply(P,$):I,oe=Math.max(k[1][0]-k[0][0],k[1][1]-k[0][1]),ie=P.__zoom,ge=typeof j=="function"?j.apply(P,$):j,q=h(ie.invert(O).concat(oe/ie.k),ge.invert(O).concat(oe/ge.k));return function(le){if(le===1)le=ge;else{var me=q(le),Ne=oe/me[2];le=new An(Ne,O[0]-me[0]*Ne,O[1]-me[1]*Ne)}X.zoom(null,le)}})}function W(E,j,I){return!I&&E.__zooming||new V(E,j)}function V(E,j){this.that=E,this.args=j,this.active=0,this.sourceEvent=null,this.extent=o.apply(E,j),this.taps=0}V.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,j){return this.mouse&&E!=="mouse"&&(this.mouse[1]=j.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=j.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=j.invert(this.touch1[0])),this.that.__zoom=j,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var j=rn(this.that).datum();m.call(E,this.that,new Yv(E,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:m}),j)}};function G(E,...j){if(!n.apply(this,arguments))return;var I=W(this,j).event(E),H=this.__zoom,P=Math.max(c[0],Math.min(c[1],H.k*Math.pow(2,l.apply(this,arguments)))),$=mn(E);if(I.wheel)(I.mouse[0][0]!==$[0]||I.mouse[0][1]!==$[1])&&(I.mouse[1]=H.invert(I.mouse[0]=$)),clearTimeout(I.wheel);else{if(H.k===P)return;I.mouse=[$,H.invert($)],rl(this),I.start()}ri(E),I.wheel=setTimeout(X,C),I.zoom("mouse",i(D(A(H,P),I.mouse[0],I.mouse[1]),I.extent,d));function X(){I.wheel=null,I.end()}}function F(E,...j){if(x||!n.apply(this,arguments))return;var I=E.currentTarget,H=W(this,j,!0).event(E),P=rn(E.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",oe,!0),$=mn(E,I),X=E.clientX,k=E.clientY;Zp(E.view),yu(E),H.mouse=[$,this.__zoom.invert($)],rl(this),H.start();function O(ie){if(ri(ie),!H.moved){var ge=ie.clientX-X,q=ie.clientY-k;H.moved=ge*ge+q*q>N}H.event(ie).zoom("mouse",i(D(H.that.__zoom,H.mouse[0]=mn(ie,I),H.mouse[1]),H.extent,d))}function oe(ie){P.on("mousemove.zoom mouseup.zoom",null),Gp(ie.view,H.moved),ri(ie),H.event(ie).end()}}function Y(E,...j){if(n.apply(this,arguments)){var I=this.__zoom,H=mn(E.changedTouches?E.changedTouches[0]:E,this),P=I.invert(H),$=I.k*(E.shiftKey?.5:2),X=i(D(A(I,$),H,P),o.apply(this,j),d);ri(E),f>0?rn(this).transition().duration(f).call(L,X,H,E):rn(this).call(_.transform,X,H,E)}}function U(E,...j){if(n.apply(this,arguments)){var I=E.touches,H=I.length,P=W(this,j,E.changedTouches.length===H).event(E),$,X,k,O;for(yu(E),X=0;X<H;++X)k=I[X],O=mn(k,this),O=[O,this.__zoom.invert(O),k.identifier],P.touch0?!P.touch1&&P.touch0[2]!==O[2]&&(P.touch1=O,P.taps=0):(P.touch0=O,$=!0,P.taps=1+!!g);g&&(g=clearTimeout(g)),$&&(P.taps<2&&(v=O[0],g=setTimeout(function(){g=null},S)),rl(this),P.start())}}function Q(E,...j){if(this.__zooming){var I=W(this,j).event(E),H=E.changedTouches,P=H.length,$,X,k,O;for(ri(E),$=0;$<P;++$)X=H[$],k=mn(X,this),I.touch0&&I.touch0[2]===X.identifier?I.touch0[0]=k:I.touch1&&I.touch1[2]===X.identifier&&(I.touch1[0]=k);if(X=I.that.__zoom,I.touch1){var oe=I.touch0[0],ie=I.touch0[1],ge=I.touch1[0],q=I.touch1[1],le=(le=ge[0]-oe[0])*le+(le=ge[1]-oe[1])*le,me=(me=q[0]-ie[0])*me+(me=q[1]-ie[1])*me;X=A(X,Math.sqrt(le/me)),k=[(oe[0]+ge[0])/2,(oe[1]+ge[1])/2],O=[(ie[0]+q[0])/2,(ie[1]+q[1])/2]}else if(I.touch0)k=I.touch0[0],O=I.touch0[1];else return;I.zoom("touch",i(D(X,k,O),I.extent,d))}}function K(E,...j){if(this.__zooming){var I=W(this,j).event(E),H=E.changedTouches,P=H.length,$,X;for(yu(E),x&&clearTimeout(x),x=setTimeout(function(){x=null},S),$=0;$<P;++$)X=H[$],I.touch0&&I.touch0[2]===X.identifier?delete I.touch0:I.touch1&&I.touch1[2]===X.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(X=mn(X,this),Math.hypot(v[0]-X[0],v[1]-X[1])<T)){var k=rn(this).on("dblclick.zoom");k&&k.apply(this,arguments)}}}return _.wheelDelta=function(E){return arguments.length?(l=typeof E=="function"?E:Ks(+E),_):l},_.filter=function(E){return arguments.length?(n=typeof E=="function"?E:Ks(!!E),_):n},_.touchable=function(E){return arguments.length?(a=typeof E=="function"?E:Ks(!!E),_):a},_.extent=function(E){return arguments.length?(o=typeof E=="function"?E:Ks([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),_):o},_.scaleExtent=function(E){return arguments.length?(c[0]=+E[0],c[1]=+E[1],_):[c[0],c[1]]},_.translateExtent=function(E){return arguments.length?(d[0][0]=+E[0][0],d[1][0]=+E[1][0],d[0][1]=+E[0][1],d[1][1]=+E[1][1],_):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},_.constrain=function(E){return arguments.length?(i=E,_):i},_.duration=function(E){return arguments.length?(f=+E,_):f},_.interpolate=function(E){return arguments.length?(h=E,_):h},_.on=function(){var E=m.on.apply(m,arguments);return E===m?_:E},_.clickDistance=function(E){return arguments.length?(N=(E=+E)*E,_):Math.sqrt(N)},_.tapDistance=function(E){return arguments.length?(T=+E,_):T},_}$p();const yl=b.createContext(null),ex=yl.Provider,In={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,o)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},dh=In.error001();function tt(n,o){const i=b.useContext(yl);if(i===null)throw new Error(dh);return zp(i,n,o)}const pt=()=>{const n=b.useContext(yl);if(n===null)throw new Error(dh);return b.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},tx=n=>n.userSelectionActive?"none":"all";function fh({position:n,children:o,className:i,style:l,...a}){const c=tt(tx),d=`${n}`.split("-");return re.createElement("div",{className:kt(["react-flow__panel",i,...d]),style:{...l,pointerEvents:c},...a},o)}function nx({proOptions:n,position:o="bottom-right"}){return n?.hideAttribution?null:re.createElement(fh,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},re.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const rx=({x:n,y:o,label:i,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:f=2,children:h,className:m,...g})=>{const v=b.useRef(null),[x,S]=b.useState({x:0,y:0,width:0,height:0}),C=kt(["react-flow__edge-textwrapper",m]);return b.useEffect(()=>{if(v.current){const N=v.current.getBBox();S({x:N.x,y:N.y,width:N.width,height:N.height})}},[i]),typeof i>"u"||!i?null:re.createElement("g",{transform:`translate(${n-x.width/2} ${o-x.height/2})`,className:C,visibility:x.width?"visible":"hidden",...g},a&&re.createElement("rect",{width:x.width+2*d[0],x:-d[0],y:-d[1],height:x.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:f,ry:f}),re.createElement("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:v,style:l},i),h)};var ox=b.memo(rx);const Yu=n=>({width:n.offsetWidth,height:n.offsetHeight}),go=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),Qu=(n={x:0,y:0},o)=>({x:go(n.x,o[0][0],o[1][0]),y:go(n.y,o[0][1],o[1][1])}),cp=(n,o,i)=>n<o?go(Math.abs(n-o),1,50)/50:n>i?-go(Math.abs(n-i),1,50)/50:0,ph=(n,o)=>{const i=cp(n.x,35,o.width-35)*20,l=cp(n.y,35,o.height-35)*20;return[i,l]},hh=n=>n.getRootNode?.()||window?.document,ix=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Ku=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),sx=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),dp=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),Mu=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},lx=n=>Qt(n.width)&&Qt(n.height)&&Qt(n.x)&&Qt(n.y),Qt=n=>!isNaN(n)&&isFinite(n),rt=Symbol.for("internals"),gh=["Enter"," ","Escape"],ax=(n,o)=>{},ux=n=>"nativeEvent"in n;function Iu(n){const i=(ux(n)?n.nativeEvent:n).composedPath?.()?.[0]||n.target;return["INPUT","SELECT","TEXTAREA"].includes(i?.nodeName)||i?.hasAttribute("contenteditable")||!!i?.closest(".nokey")}const mh=n=>"clientX"in n,sr=(n,o)=>{const i=mh(n),l=i?n.clientX:n.touches?.[0].clientX,a=i?n.clientY:n.touches?.[0].clientY;return{x:l-(o?.left??0),y:a-(o?.top??0)}},dl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Ni=({id:n,path:o,labelX:i,labelY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,interactionWidth:S=20})=>re.createElement(re.Fragment,null,re.createElement("path",{id:n,style:g,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:x}),S&&re.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:S,className:"react-flow__edge-interaction"}),a&&Qt(i)&&Qt(l)?re.createElement(ox,{x:i,y:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m}):null);Ni.displayName="BaseEdge";function oi(n,o,i){return i===void 0?i:l=>{const a=o().edges.find(c=>c.id===n);a&&i(l,{...a})}}function yh({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,f=l<o?l+d:l-d;return[c,f,a,d]}function vh({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:f}){const h=n*.125+a*.375+d*.375+i*.125,m=o*.125+c*.375+f*.375+l*.125,g=Math.abs(h-n),v=Math.abs(m-o);return[h,m,g,v]}var Rr;(function(n){n.Strict="strict",n.Loose="loose"})(Rr||(Rr={}));var _r;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(_r||(_r={}));var mi;(function(n){n.Partial="partial",n.Full="full"})(mi||(mi={}));var or;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(or||(or={}));var yi;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(yi||(yi={}));var xe;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(xe||(xe={}));function fp({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===xe.Left||n===xe.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function xh({sourceX:n,sourceY:o,sourcePosition:i=xe.Bottom,targetX:l,targetY:a,targetPosition:c=xe.Top}){const[d,f]=fp({pos:i,x1:n,y1:o,x2:l,y2:a}),[h,m]=fp({pos:c,x1:l,y1:a,x2:n,y2:o}),[g,v,x,S]=vh({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:f,targetControlX:h,targetControlY:m});return[`M${n},${o} C${d},${f} ${h},${m} ${l},${a}`,g,v,x,S]}const Zu=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=xe.Bottom,targetPosition:c=xe.Top,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:S,markerStart:C,interactionWidth:N})=>{const[T,_,A]=xh({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c});return re.createElement(Ni,{path:T,labelX:_,labelY:A,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:S,markerStart:C,interactionWidth:N})});Zu.displayName="SimpleBezierEdge";const pp={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},cx=({source:n,sourcePosition:o=xe.Bottom,target:i})=>o===xe.Left||o===xe.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},hp=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function dx({source:n,sourcePosition:o=xe.Bottom,target:i,targetPosition:l=xe.Top,center:a,offset:c}){const d=pp[o],f=pp[l],h={x:n.x+d.x*c,y:n.y+d.y*c},m={x:i.x+f.x*c,y:i.y+f.y*c},g=cx({source:h,sourcePosition:o,target:m}),v=g.x!==0?"x":"y",x=g[v];let S=[],C,N;const T={x:0,y:0},_={x:0,y:0},[A,D,R,L]=yh({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(d[v]*f[v]===-1){C=a.x??A,N=a.y??D;const V=[{x:C,y:h.y},{x:C,y:m.y}],G=[{x:h.x,y:N},{x:m.x,y:N}];d[v]===x?S=v==="x"?V:G:S=v==="x"?G:V}else{const V=[{x:h.x,y:m.y}],G=[{x:m.x,y:h.y}];if(v==="x"?S=d.x===x?G:V:S=d.y===x?V:G,o===l){const K=Math.abs(n[v]-i[v]);if(K<=c){const E=Math.min(c-1,c-K);d[v]===x?T[v]=(h[v]>n[v]?-1:1)*E:_[v]=(m[v]>i[v]?-1:1)*E}}if(o!==l){const K=v==="x"?"y":"x",E=d[v]===f[K],j=h[K]>m[K],I=h[K]<m[K];(d[v]===1&&(!E&&j||E&&I)||d[v]!==1&&(!E&&I||E&&j))&&(S=v==="x"?V:G)}const F={x:h.x+T.x,y:h.y+T.y},Y={x:m.x+_.x,y:m.y+_.y},U=Math.max(Math.abs(F.x-S[0].x),Math.abs(Y.x-S[0].x)),Q=Math.max(Math.abs(F.y-S[0].y),Math.abs(Y.y-S[0].y));U>=Q?(C=(F.x+Y.x)/2,N=S[0].y):(C=S[0].x,N=(F.y+Y.y)/2)}return[[n,{x:h.x+T.x,y:h.y+T.y},...S,{x:m.x+_.x,y:m.y+_.y},i],C,N,R,L]}function fx(n,o,i,l){const a=Math.min(hp(n,o)/2,hp(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const m=n.x<i.x?-1:1,g=n.y<i.y?1:-1;return`L ${c+a*m},${d}Q ${c},${d} ${c},${d+a*g}`}const f=n.x<i.x?1:-1,h=n.y<i.y?-1:1;return`L ${c},${d+a*h}Q ${c},${d} ${c+a*f},${d}`}function Lu({sourceX:n,sourceY:o,sourcePosition:i=xe.Bottom,targetX:l,targetY:a,targetPosition:c=xe.Top,borderRadius:d=5,centerX:f,centerY:h,offset:m=20}){const[g,v,x,S,C]=dx({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:f,y:h},offset:m});return[g.reduce((T,_,A)=>{let D="";return A>0&&A<g.length-1?D=fx(g[A-1],_,g[A+1],d):D=`${A===0?"M":"L"}${_.x} ${_.y}`,T+=D,T},""),v,x,S,C]}const vl=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,sourcePosition:v=xe.Bottom,targetPosition:x=xe.Top,markerEnd:S,markerStart:C,pathOptions:N,interactionWidth:T})=>{const[_,A,D]=Lu({sourceX:n,sourceY:o,sourcePosition:v,targetX:i,targetY:l,targetPosition:x,borderRadius:N?.borderRadius,offset:N?.offset});return re.createElement(Ni,{path:_,labelX:A,labelY:D,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:S,markerStart:C,interactionWidth:T})});vl.displayName="SmoothStepEdge";const Gu=b.memo(n=>re.createElement(vl,{...n,pathOptions:b.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])}));Gu.displayName="StepEdge";function px({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,f]=yh({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,f]}const qu=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,interactionWidth:S})=>{const[C,N,T]=px({sourceX:n,sourceY:o,targetX:i,targetY:l});return re.createElement(Ni,{path:C,labelX:N,labelY:T,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,interactionWidth:S})});qu.displayName="StraightEdge";function Zs(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function gp({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case xe.Left:return[o-Zs(o-l,c),i];case xe.Right:return[o+Zs(l-o,c),i];case xe.Top:return[o,i-Zs(i-a,c)];case xe.Bottom:return[o,i+Zs(a-i,c)]}}function wh({sourceX:n,sourceY:o,sourcePosition:i=xe.Bottom,targetX:l,targetY:a,targetPosition:c=xe.Top,curvature:d=.25}){const[f,h]=gp({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[m,g]=gp({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,x,S,C]=vh({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:f,sourceControlY:h,targetControlX:m,targetControlY:g});return[`M${n},${o} C${f},${h} ${m},${g} ${l},${a}`,v,x,S,C]}const fl=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=xe.Bottom,targetPosition:c=xe.Top,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:S,markerStart:C,pathOptions:N,interactionWidth:T})=>{const[_,A,D]=wh({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c,curvature:N?.curvature});return re.createElement(Ni,{path:_,labelX:A,labelY:D,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:x,markerEnd:S,markerStart:C,interactionWidth:T})});fl.displayName="BezierEdge";const Ju=b.createContext(null),hx=Ju.Provider;Ju.Consumer;const gx=()=>b.useContext(Ju),mx=n=>"id"in n&&"source"in n&&"target"in n,yx=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`reactflow__edge-${n}${o||""}-${i}${l||""}`,Du=(n,o)=>typeof n>"u"?"":typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`,vx=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),xx=(n,o)=>{if(!n.source||!n.target)return o;let i;return mx(n)?i={...n}:i={...n,id:yx(n)},vx(i,o)?o:o.concat(i)},$u=({x:n,y:o},[i,l,a],c,[d,f])=>{const h={x:(n-i)/a,y:(o-l)/a};return c?{x:d*Math.round(h.x/d),y:f*Math.round(h.y/f)}:h},Sh=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l}),co=(n,o=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(n.width??0)*o[0],l=(n.height??0)*o[1],a={x:n.position.x-i,y:n.position.y-l};return{...a,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-i,y:n.positionAbsolute.y-l}:a}},ec=(n,o=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const{x:c,y:d}=co(a,o).positionAbsolute;return ix(l,Ku({x:c,y:d,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return sx(i)},Eh=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1,f=[0,0])=>{const h={x:(o.x-i)/a,y:(o.y-l)/a,width:o.width/a,height:o.height/a},m=[];return n.forEach(g=>{const{width:v,height:x,selectable:S=!0,hidden:C=!1}=g;if(d&&!S||C)return!1;const{positionAbsolute:N}=co(g,f),T={x:N.x,y:N.y,width:v||0,height:x||0},_=Mu(h,T),A=typeof v>"u"||typeof x>"u"||v===null||x===null,D=c&&_>0,R=(v||0)*(x||0);(A||D||_>=R||g.dragging)&&m.push(g)}),m},Nh=(n,o)=>{const i=n.map(l=>l.id);return o.filter(l=>i.includes(l.source)||i.includes(l.target))},Ch=(n,o,i,l,a,c=.1)=>{const d=o/(n.width*(1+c)),f=i/(n.height*(1+c)),h=Math.min(d,f),m=go(h,l,a),g=n.x+n.width/2,v=n.y+n.height/2,x=o/2-g*m,S=i/2-v*m;return{x,y:S,zoom:m}},Cr=(n,o=0)=>n.transition().duration(o);function mp(n,o,i,l){return(o[i]||[]).reduce((a,c)=>(`${n.id}-${c.id}-${i}`!==l&&a.push({id:c.id||null,type:i,nodeId:n.id,x:(n.positionAbsolute?.x??0)+c.x+c.width/2,y:(n.positionAbsolute?.y??0)+c.y+c.height/2}),a),[])}function wx(n,o,i,l,a,c){const{x:d,y:f}=sr(n),m=o.elementsFromPoint(d,f).find(C=>C.classList.contains("react-flow__handle"));if(m){const C=m.getAttribute("data-nodeid");if(C){const N=tc(void 0,m),T=m.getAttribute("data-handleid"),_=c({nodeId:C,id:T,type:N});if(_){const A=a.find(D=>D.nodeId===C&&D.type===N&&D.id===T);return{handle:{id:T,type:N,nodeId:C,x:A?.x||i.x,y:A?.y||i.y},validHandleResult:_}}}}let g=[],v=1/0;if(a.forEach(C=>{const N=Math.sqrt((C.x-i.x)**2+(C.y-i.y)**2);if(N<=l){const T=c(C);N<=v&&(N<v?g=[{handle:C,validHandleResult:T}]:N===v&&g.push({handle:C,validHandleResult:T}),v=N)}}),!g.length)return{handle:null,validHandleResult:kh()};if(g.length===1)return g[0];const x=g.some(({validHandleResult:C})=>C.isValid),S=g.some(({handle:C})=>C.type==="target");return g.find(({handle:C,validHandleResult:N})=>S?C.type==="target":x?N.isValid:!0)||g[0]}const Sx={source:null,target:null,sourceHandle:null,targetHandle:null},kh=()=>({handleDomNode:null,isValid:!1,connection:Sx,endHandle:null});function _h(n,o,i,l,a,c,d){const f=a==="target",h=d.querySelector(`.react-flow__handle[data-id="${n?.nodeId}-${n?.id}-${n?.type}"]`),m={...kh(),handleDomNode:h};if(h){const g=tc(void 0,h),v=h.getAttribute("data-nodeid"),x=h.getAttribute("data-handleid"),S=h.classList.contains("connectable"),C=h.classList.contains("connectableend"),N={source:f?v:i,sourceHandle:f?x:l,target:f?i:v,targetHandle:f?l:x};m.connection=N,S&&C&&(o===Rr.Strict?f&&g==="source"||!f&&g==="target":v!==i||x!==l)&&(m.endHandle={nodeId:v,handleId:x,type:g},m.isValid=c(N))}return m}function Ex({nodes:n,nodeId:o,handleId:i,handleType:l}){return n.reduce((a,c)=>{if(c[rt]){const{handleBounds:d}=c[rt];let f=[],h=[];d&&(f=mp(c,d,"source",`${o}-${i}-${l}`),h=mp(c,d,"target",`${o}-${i}-${l}`)),a.push(...f,...h)}return a},[])}function tc(n,o){return n||(o?.classList.contains("target")?"target":o?.classList.contains("source")?"source":null)}function vu(n){n?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Nx(n,o){let i=null;return o?i="valid":n&&!o&&(i="invalid"),i}function bh({event:n,handleId:o,nodeId:i,onConnect:l,isTarget:a,getState:c,setState:d,isValidConnection:f,edgeUpdaterType:h,onReconnectEnd:m}){const g=hh(n.target),{connectionMode:v,domNode:x,autoPanOnConnect:S,connectionRadius:C,onConnectStart:N,panBy:T,getNodes:_,cancelConnection:A}=c();let D=0,R;const{x:L,y:W}=sr(n),V=g?.elementFromPoint(L,W),G=tc(h,V),F=x?.getBoundingClientRect();if(!F||!G)return;let Y,U=sr(n,F),Q=!1,K=null,E=!1,j=null;const I=Ex({nodes:_(),nodeId:i,handleId:o,handleType:G}),H=()=>{if(!S)return;const[X,k]=ph(U,F);T({x:X,y:k}),D=requestAnimationFrame(H)};d({connectionPosition:U,connectionStatus:null,connectionNodeId:i,connectionHandleId:o,connectionHandleType:G,connectionStartHandle:{nodeId:i,handleId:o,type:G},connectionEndHandle:null}),N?.(n,{nodeId:i,handleId:o,handleType:G});function P(X){const{transform:k}=c();U=sr(X,F);const{handle:O,validHandleResult:oe}=wx(X,g,$u(U,k,!1,[1,1]),C,I,ie=>_h(ie,v,i,o,a?"target":"source",f,g));if(R=O,Q||(H(),Q=!0),j=oe.handleDomNode,K=oe.connection,E=oe.isValid,d({connectionPosition:R&&E?Sh({x:R.x,y:R.y},k):U,connectionStatus:Nx(!!R,E),connectionEndHandle:oe.endHandle}),!R&&!E&&!j)return vu(Y);K.source!==K.target&&j&&(vu(Y),Y=j,j.classList.add("connecting","react-flow__handle-connecting"),j.classList.toggle("valid",E),j.classList.toggle("react-flow__handle-valid",E))}function $(X){(R||j)&&K&&E&&l?.(K),c().onConnectEnd?.(X),h&&m?.(X),vu(Y),A(),cancelAnimationFrame(D),Q=!1,E=!1,K=null,j=null,g.removeEventListener("mousemove",P),g.removeEventListener("mouseup",$),g.removeEventListener("touchmove",P),g.removeEventListener("touchend",$)}g.addEventListener("mousemove",P),g.addEventListener("mouseup",$),g.addEventListener("touchmove",P),g.addEventListener("touchend",$)}const yp=()=>!0,Cx=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),kx=(n,o,i)=>l=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:d}=l;return{connecting:a?.nodeId===n&&a?.handleId===o&&a?.type===i||c?.nodeId===n&&c?.handleId===o&&c?.type===i,clickConnecting:d?.nodeId===n&&d?.handleId===o&&d?.type===i}},Th=b.forwardRef(({type:n="source",position:o=xe.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:f,children:h,className:m,onMouseDown:g,onTouchStart:v,...x},S)=>{const C=d||null,N=n==="target",T=pt(),_=gx(),{connectOnClick:A,noPanClassName:D}=tt(Cx,Et),{connecting:R,clickConnecting:L}=tt(kx(_,C,n),Et);_||T.getState().onError?.("010",In.error010());const W=F=>{const{defaultEdgeOptions:Y,onConnect:U,hasDefaultEdges:Q}=T.getState(),K={...Y,...F};if(Q){const{edges:E,setEdges:j}=T.getState();j(xx(K,E))}U?.(K),f?.(K)},V=F=>{if(!_)return;const Y=mh(F);a&&(Y&&F.button===0||!Y)&&bh({event:F,handleId:C,nodeId:_,onConnect:W,isTarget:N,getState:T.getState,setState:T.setState,isValidConnection:i||T.getState().isValidConnection||yp}),Y?g?.(F):v?.(F)},G=F=>{const{onClickConnectStart:Y,onClickConnectEnd:U,connectionClickStartHandle:Q,connectionMode:K,isValidConnection:E}=T.getState();if(!_||!Q&&!a)return;if(!Q){Y?.(F,{nodeId:_,handleId:C,handleType:n}),T.setState({connectionClickStartHandle:{nodeId:_,type:n,handleId:C}});return}const j=hh(F.target),I=i||E||yp,{connection:H,isValid:P}=_h({nodeId:_,id:C,type:n},K,Q.nodeId,Q.handleId||null,Q.type,I,j);P&&W(H),U?.(F),T.setState({connectionClickStartHandle:null})};return re.createElement("div",{"data-handleid":C,"data-nodeid":_,"data-handlepos":o,"data-id":`${_}-${C}-${n}`,className:kt(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",D,m,{source:!N,target:N,connectable:l,connectablestart:a,connectableend:c,connecting:L,connectionindicator:l&&(a&&!R||c&&R)}]),onMouseDown:V,onTouchStart:V,onClick:A?G:void 0,ref:S,...x},h)});Th.displayName="Handle";var st=b.memo(Th);const Rh=({data:n,isConnectable:o,targetPosition:i=xe.Top,sourcePosition:l=xe.Bottom})=>re.createElement(re.Fragment,null,re.createElement(st,{type:"target",position:i,isConnectable:o}),n?.label,re.createElement(st,{type:"source",position:l,isConnectable:o}));Rh.displayName="DefaultNode";var zu=b.memo(Rh);const jh=({data:n,isConnectable:o,sourcePosition:i=xe.Bottom})=>re.createElement(re.Fragment,null,n?.label,re.createElement(st,{type:"source",position:i,isConnectable:o}));jh.displayName="InputNode";var Ah=b.memo(jh);const Mh=({data:n,isConnectable:o,targetPosition:i=xe.Top})=>re.createElement(re.Fragment,null,re.createElement(st,{type:"target",position:i,isConnectable:o}),n?.label);Mh.displayName="OutputNode";var Ih=b.memo(Mh);const nc=()=>null;nc.displayName="GroupNode";const _x=n=>({selectedNodes:n.getNodes().filter(o=>o.selected),selectedEdges:n.edges.filter(o=>o.selected).map(o=>({...o}))}),Gs=n=>n.id;function bx(n,o){return Et(n.selectedNodes.map(Gs),o.selectedNodes.map(Gs))&&Et(n.selectedEdges.map(Gs),o.selectedEdges.map(Gs))}const Lh=b.memo(({onSelectionChange:n})=>{const o=pt(),{selectedNodes:i,selectedEdges:l}=tt(_x,bx);return b.useEffect(()=>{const a={nodes:i,edges:l};n?.(a),o.getState().onSelectionChange.forEach(c=>c(a))},[i,l,n]),null});Lh.displayName="SelectionListener";const Tx=n=>!!n.onSelectionChange;function Rx({onSelectionChange:n}){const o=tt(Tx);return n||o?re.createElement(Lh,{onSelectionChange:n}):null}const jx=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function no(n,o){b.useEffect(()=>{typeof n<"u"&&o(n)},[n])}function Le(n,o,i){b.useEffect(()=>{typeof o<"u"&&i({[n]:o})},[o])}const Ax=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:a,onConnectStart:c,onConnectEnd:d,onClickConnectStart:f,onClickConnectEnd:h,nodesDraggable:m,nodesConnectable:g,nodesFocusable:v,edgesFocusable:x,edgesUpdatable:S,elevateNodesOnSelect:C,minZoom:N,maxZoom:T,nodeExtent:_,onNodesChange:A,onEdgesChange:D,elementsSelectable:R,connectionMode:L,snapGrid:W,snapToGrid:V,translateExtent:G,connectOnClick:F,defaultEdgeOptions:Y,fitView:U,fitViewOptions:Q,onNodesDelete:K,onEdgesDelete:E,onNodeDrag:j,onNodeDragStart:I,onNodeDragStop:H,onSelectionDrag:P,onSelectionDragStart:$,onSelectionDragStop:X,noPanClassName:k,nodeOrigin:O,rfId:oe,autoPanOnConnect:ie,autoPanOnNodeDrag:ge,onError:q,connectionRadius:le,isValidConnection:me,nodeDragThreshold:Ne})=>{const{setNodes:ye,setEdges:Me,setDefaultNodesAndEdges:We,setMinZoom:Ae,setMaxZoom:Ve,setTranslateExtent:Fe,setNodeExtent:ne,reset:se}=tt(jx,Et),te=pt();return b.useEffect(()=>{const Se=l?.map(ce=>({...ce,...Y}));return We(i,Se),()=>{se()}},[]),Le("defaultEdgeOptions",Y,te.setState),Le("connectionMode",L,te.setState),Le("onConnect",a,te.setState),Le("onConnectStart",c,te.setState),Le("onConnectEnd",d,te.setState),Le("onClickConnectStart",f,te.setState),Le("onClickConnectEnd",h,te.setState),Le("nodesDraggable",m,te.setState),Le("nodesConnectable",g,te.setState),Le("nodesFocusable",v,te.setState),Le("edgesFocusable",x,te.setState),Le("edgesUpdatable",S,te.setState),Le("elementsSelectable",R,te.setState),Le("elevateNodesOnSelect",C,te.setState),Le("snapToGrid",V,te.setState),Le("snapGrid",W,te.setState),Le("onNodesChange",A,te.setState),Le("onEdgesChange",D,te.setState),Le("connectOnClick",F,te.setState),Le("fitViewOnInit",U,te.setState),Le("fitViewOnInitOptions",Q,te.setState),Le("onNodesDelete",K,te.setState),Le("onEdgesDelete",E,te.setState),Le("onNodeDrag",j,te.setState),Le("onNodeDragStart",I,te.setState),Le("onNodeDragStop",H,te.setState),Le("onSelectionDrag",P,te.setState),Le("onSelectionDragStart",$,te.setState),Le("onSelectionDragStop",X,te.setState),Le("noPanClassName",k,te.setState),Le("nodeOrigin",O,te.setState),Le("rfId",oe,te.setState),Le("autoPanOnConnect",ie,te.setState),Le("autoPanOnNodeDrag",ge,te.setState),Le("onError",q,te.setState),Le("connectionRadius",le,te.setState),Le("isValidConnection",me,te.setState),Le("nodeDragThreshold",Ne,te.setState),no(n,ye),no(o,Me),no(N,Ae),no(T,Ve),no(G,Fe),no(_,ne),null},vp={display:"none"},Mx={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Dh="react-flow__node-desc",$h="react-flow__edge-desc",Ix="react-flow__aria-live",Lx=n=>n.ariaLiveMessage;function Dx({rfId:n}){const o=tt(Lx);return re.createElement("div",{id:`${Ix}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:Mx},o)}function $x({rfId:n,disableKeyboardA11y:o}){return re.createElement(re.Fragment,null,re.createElement("div",{id:`${Dh}-${n}`,style:vp},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),re.createElement("div",{id:`${$h}-${n}`,style:vp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&re.createElement(Dx,{rfId:n}))}var vi=(n=null,o={actInsideInputWithModifier:!0})=>{const[i,l]=b.useState(!1),a=b.useRef(!1),c=b.useRef(new Set([])),[d,f]=b.useMemo(()=>{if(n!==null){const m=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.split("+")),g=m.reduce((v,x)=>v.concat(...x),[]);return[m,g]}return[[],[]]},[n]);return b.useEffect(()=>{const h=typeof document<"u"?document:null,m=o?.target||h;if(n!==null){const g=S=>{if(a.current=S.ctrlKey||S.metaKey||S.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&Iu(S))return!1;const N=wp(S.code,f);c.current.add(S[N]),xp(d,c.current,!1)&&(S.preventDefault(),l(!0))},v=S=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&Iu(S))return!1;const N=wp(S.code,f);xp(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(S[N]),S.key==="Meta"&&c.current.clear(),a.current=!1},x=()=>{c.current.clear(),l(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",v),window.addEventListener("blur",x),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",v),window.removeEventListener("blur",x)}}},[n,l]),i};function xp(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function wp(n,o){return o.includes(n)?"code":"key"}function zh(n,o,i,l){const a=n.parentNode||n.parentId;if(!a)return i;const c=o.get(a),d=co(c,l);return zh(c,o,{x:(i.x??0)+d.x,y:(i.y??0)+d.y,z:(c[rt]?.z??0)>(i.z??0)?c[rt]?.z??0:i.z??0},l)}function Ph(n,o,i){n.forEach(l=>{const a=l.parentNode||l.parentId;if(a&&!n.has(a))throw new Error(`Parent node ${a} not found`);if(a||i?.[l.id]){const{x:c,y:d,z:f}=zh(l,n,{...l.position,z:l[rt]?.z??0},o);l.positionAbsolute={x:c,y:d},l[rt].z=f,i?.[l.id]&&(l[rt].isParent=!0)}})}function xu(n,o,i,l){const a=new Map,c={},d=l?1e3:0;return n.forEach(f=>{const h=(Qt(f.zIndex)?f.zIndex:0)+(f.selected?d:0),m=o.get(f.id),g={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},v=f.parentNode||f.parentId;v&&(c[v]=!0);const x=m?.type&&m?.type!==f.type;Object.defineProperty(g,rt,{enumerable:!1,value:{handleBounds:x?void 0:m?.[rt]?.handleBounds,z:h}}),a.set(f.id,g)}),Ph(a,i,c),a}function Hh(n,o={}){const{getNodes:i,width:l,height:a,minZoom:c,maxZoom:d,d3Zoom:f,d3Selection:h,fitViewOnInitDone:m,fitViewOnInit:g,nodeOrigin:v}=n(),x=o.initial&&!m&&g;if(f&&h&&(x||!o.initial)){const C=i().filter(T=>{const _=o.includeHiddenNodes?T.width&&T.height:!T.hidden;return o.nodes?.length?_&&o.nodes.some(A=>A.id===T.id):_}),N=C.every(T=>T.width&&T.height);if(C.length>0&&N){const T=ec(C,v),{x:_,y:A,zoom:D}=Ch(T,l,a,o.minZoom??c,o.maxZoom??d,o.padding??.1),R=ir.translate(_,A).scale(D);return typeof o.duration=="number"&&o.duration>0?f.transform(Cr(h,o.duration),R):f.transform(h,R),!0}}return!1}function zx(n,o){return n.forEach(i=>{const l=o.get(i.id);l&&o.set(l.id,{...l,[rt]:l[rt],selected:i.selected})}),new Map(o)}function Px(n,o){return o.map(i=>{const l=n.find(a=>a.id===i.id);return l&&(i.selected=l.selected),i})}function qs({changedNodes:n,changedEdges:o,get:i,set:l}){const{nodeInternals:a,edges:c,onNodesChange:d,onEdgesChange:f,hasDefaultNodes:h,hasDefaultEdges:m}=i();n?.length&&(h&&l({nodeInternals:zx(n,a)}),d?.(n)),o?.length&&(m&&l({edges:Px(o,c)}),f?.(o))}const ro=()=>{},Hx={zoomIn:ro,zoomOut:ro,zoomTo:ro,getZoom:()=>1,setViewport:ro,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ro,fitBounds:ro,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},Ox=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),Fx=()=>{const n=pt(),{d3Zoom:o,d3Selection:i}=tt(Ox,Et);return b.useMemo(()=>i&&o?{zoomIn:a=>o.scaleBy(Cr(i,a?.duration),1.2),zoomOut:a=>o.scaleBy(Cr(i,a?.duration),1/1.2),zoomTo:(a,c)=>o.scaleTo(Cr(i,c?.duration),a),getZoom:()=>n.getState().transform[2],setViewport:(a,c)=>{const[d,f,h]=n.getState().transform,m=ir.translate(a.x??d,a.y??f).scale(a.zoom??h);o.transform(Cr(i,c?.duration),m)},getViewport:()=>{const[a,c,d]=n.getState().transform;return{x:a,y:c,zoom:d}},fitView:a=>Hh(n.getState,a),setCenter:(a,c,d)=>{const{width:f,height:h,maxZoom:m}=n.getState(),g=typeof d?.zoom<"u"?d.zoom:m,v=f/2-a*g,x=h/2-c*g,S=ir.translate(v,x).scale(g);o.transform(Cr(i,d?.duration),S)},fitBounds:(a,c)=>{const{width:d,height:f,minZoom:h,maxZoom:m}=n.getState(),{x:g,y:v,zoom:x}=Ch(a,d,f,h,m,c?.padding??.1),S=ir.translate(g,v).scale(x);o.transform(Cr(i,c?.duration),S)},project:a=>{const{transform:c,snapToGrid:d,snapGrid:f}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),$u(a,c,d,f)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:d,snapGrid:f,domNode:h}=n.getState();if(!h)return a;const{x:m,y:g}=h.getBoundingClientRect(),v={x:a.x-m,y:a.y-g};return $u(v,c,d,f)},flowToScreenPosition:a=>{const{transform:c,domNode:d}=n.getState();if(!d)return a;const{x:f,y:h}=d.getBoundingClientRect(),m=Sh(a,c);return{x:m.x+f,y:m.y+h}},viewportInitialized:!0}:Hx,[o,i])};function mo(){const n=Fx(),o=pt(),i=b.useCallback(()=>o.getState().getNodes().map(N=>({...N})),[]),l=b.useCallback(N=>o.getState().nodeInternals.get(N),[]),a=b.useCallback(()=>{const{edges:N=[]}=o.getState();return N.map(T=>({...T}))},[]),c=b.useCallback(N=>{const{edges:T=[]}=o.getState();return T.find(_=>_.id===N)},[]),d=b.useCallback(N=>{const{getNodes:T,setNodes:_,hasDefaultNodes:A,onNodesChange:D}=o.getState(),R=T(),L=typeof N=="function"?N(R):N;if(A)_(L);else if(D){const W=L.length===0?R.map(V=>({type:"remove",id:V.id})):L.map(V=>({item:V,type:"reset"}));D(W)}},[]),f=b.useCallback(N=>{const{edges:T=[],setEdges:_,hasDefaultEdges:A,onEdgesChange:D}=o.getState(),R=typeof N=="function"?N(T):N;if(A)_(R);else if(D){const L=R.length===0?T.map(W=>({type:"remove",id:W.id})):R.map(W=>({item:W,type:"reset"}));D(L)}},[]),h=b.useCallback(N=>{const T=Array.isArray(N)?N:[N],{getNodes:_,setNodes:A,hasDefaultNodes:D,onNodesChange:R}=o.getState();if(D){const W=[..._(),...T];A(W)}else if(R){const L=T.map(W=>({item:W,type:"add"}));R(L)}},[]),m=b.useCallback(N=>{const T=Array.isArray(N)?N:[N],{edges:_=[],setEdges:A,hasDefaultEdges:D,onEdgesChange:R}=o.getState();if(D)A([..._,...T]);else if(R){const L=T.map(W=>({item:W,type:"add"}));R(L)}},[]),g=b.useCallback(()=>{const{getNodes:N,edges:T=[],transform:_}=o.getState(),[A,D,R]=_;return{nodes:N().map(L=>({...L})),edges:T.map(L=>({...L})),viewport:{x:A,y:D,zoom:R}}},[]),v=b.useCallback(({nodes:N,edges:T})=>{const{nodeInternals:_,getNodes:A,edges:D,hasDefaultNodes:R,hasDefaultEdges:L,onNodesDelete:W,onEdgesDelete:V,onNodesChange:G,onEdgesChange:F}=o.getState(),Y=(N||[]).map(j=>j.id),U=(T||[]).map(j=>j.id),Q=A().reduce((j,I)=>{const H=I.parentNode||I.parentId,P=!Y.includes(I.id)&&H&&j.find(X=>X.id===H);return(typeof I.deletable=="boolean"?I.deletable:!0)&&(Y.includes(I.id)||P)&&j.push(I),j},[]),K=D.filter(j=>typeof j.deletable=="boolean"?j.deletable:!0),E=K.filter(j=>U.includes(j.id));if(Q||E){const j=Nh(Q,K),I=[...E,...j],H=I.reduce((P,$)=>(P.includes($.id)||P.push($.id),P),[]);if((L||R)&&(L&&o.setState({edges:D.filter(P=>!H.includes(P.id))}),R&&(Q.forEach(P=>{_.delete(P.id)}),o.setState({nodeInternals:new Map(_)}))),H.length>0&&(V?.(I),F&&F(H.map(P=>({id:P,type:"remove"})))),Q.length>0&&(W?.(Q),G)){const P=Q.map($=>({id:$.id,type:"remove"}));G(P)}}},[]),x=b.useCallback(N=>{const T=lx(N),_=T?null:o.getState().nodeInternals.get(N.id);return!T&&!_?[null,null,T]:[T?N:dp(_),_,T]},[]),S=b.useCallback((N,T=!0,_)=>{const[A,D,R]=x(N);return A?(_||o.getState().getNodes()).filter(L=>{if(!R&&(L.id===D.id||!L.positionAbsolute))return!1;const W=dp(L),V=Mu(W,A);return T&&V>0||V>=A.width*A.height}):[]},[]),C=b.useCallback((N,T,_=!0)=>{const[A]=x(N);if(!A)return!1;const D=Mu(A,T);return _&&D>0||D>=A.width*A.height},[]);return b.useMemo(()=>({...n,getNodes:i,getNode:l,getEdges:a,getEdge:c,setNodes:d,setEdges:f,addNodes:h,addEdges:m,toObject:g,deleteElements:v,getIntersectingNodes:S,isNodeIntersecting:C}),[n,i,l,a,c,d,f,h,m,g,v,S,C])}const Bx={actInsideInputWithModifier:!1};var Vx=({deleteKeyCode:n,multiSelectionKeyCode:o})=>{const i=pt(),{deleteElements:l}=mo(),a=vi(n,Bx),c=vi(o);b.useEffect(()=>{if(a){const{edges:d,getNodes:f}=i.getState(),h=f().filter(g=>g.selected),m=d.filter(g=>g.selected);l({nodes:h,edges:m}),i.setState({nodesSelectionActive:!1})}},[a]),b.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])};function Ux(n){const o=pt();b.useEffect(()=>{let i;const l=()=>{if(!n.current)return;const a=Yu(n.current);(a.height===0||a.width===0)&&o.getState().onError?.("004",In.error004()),o.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),n.current&&(i=new ResizeObserver(()=>l()),i.observe(n.current)),()=>{window.removeEventListener("resize",l),i&&n.current&&i.unobserve(n.current)}},[])}const rc={position:"absolute",width:"100%",height:"100%",top:0,left:0},Wx=(n,o)=>n.x!==o.x||n.y!==o.y||n.zoom!==o.k,Js=n=>({x:n.x,y:n.y,zoom:n.k}),oo=(n,o)=>n.target.closest(`.${o}`),Sp=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),Ep=n=>{const o=n.ctrlKey&&dl()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o},Xx=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),Yx=({onMove:n,onMoveStart:o,onMoveEnd:i,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:f=.5,panOnScrollMode:h=_r.Free,zoomOnDoubleClick:m=!0,elementsSelectable:g,panOnDrag:v=!0,defaultViewport:x,translateExtent:S,minZoom:C,maxZoom:N,zoomActivationKeyCode:T,preventScrolling:_=!0,children:A,noWheelClassName:D,noPanClassName:R})=>{const L=b.useRef(),W=pt(),V=b.useRef(!1),G=b.useRef(!1),F=b.useRef(null),Y=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:Q,d3ZoomHandler:K,userSelectionActive:E}=tt(Xx,Et),j=vi(T),I=b.useRef(0),H=b.useRef(!1),P=b.useRef();return Ux(F),b.useEffect(()=>{if(F.current){const $=F.current.getBoundingClientRect(),X=Jv().scaleExtent([C,N]).translateExtent(S),k=rn(F.current).call(X),O=ir.translate(x.x,x.y).scale(go(x.zoom,C,N)),oe=[[0,0],[$.width,$.height]],ie=X.constrain()(O,oe,S);X.transform(k,ie),X.wheelDelta(Ep),W.setState({d3Zoom:X,d3Selection:k,d3ZoomHandler:k.on("wheel.zoom"),transform:[ie.x,ie.y,ie.k],domNode:F.current.closest(".react-flow")})}},[]),b.useEffect(()=>{Q&&U&&(d&&!j&&!E?Q.on("wheel.zoom",$=>{if(oo($,D))return!1;$.preventDefault(),$.stopImmediatePropagation();const X=Q.property("__zoom").k||1;if($.ctrlKey&&c){const me=mn($),Ne=Ep($),ye=X*Math.pow(2,Ne);U.scaleTo(Q,ye,me,$);return}const k=$.deltaMode===1?20:1;let O=h===_r.Vertical?0:$.deltaX*k,oe=h===_r.Horizontal?0:$.deltaY*k;!dl()&&$.shiftKey&&h!==_r.Vertical&&(O=$.deltaY*k,oe=0),U.translateBy(Q,-(O/X)*f,-(oe/X)*f,{internal:!0});const ie=Js(Q.property("__zoom")),{onViewportChangeStart:ge,onViewportChange:q,onViewportChangeEnd:le}=W.getState();clearTimeout(P.current),H.current||(H.current=!0,o?.($,ie),ge?.(ie)),H.current&&(n?.($,ie),q?.(ie),P.current=setTimeout(()=>{i?.($,ie),le?.(ie),H.current=!1},150))},{passive:!1}):typeof K<"u"&&Q.on("wheel.zoom",function($,X){if(!_&&$.type==="wheel"&&!$.ctrlKey||oo($,D))return null;$.preventDefault(),K.call(this,$,X)},{passive:!1}))},[E,d,h,Q,U,K,j,c,_,D,o,n,i]),b.useEffect(()=>{U&&U.on("start",$=>{if(!$.sourceEvent||$.sourceEvent.internal)return null;I.current=$.sourceEvent?.button;const{onViewportChangeStart:X}=W.getState(),k=Js($.transform);V.current=!0,Y.current=k,$.sourceEvent?.type==="mousedown"&&W.setState({paneDragging:!0}),X?.(k),o?.($.sourceEvent,k)})},[U,o]),b.useEffect(()=>{U&&(E&&!V.current?U.on("zoom",null):E||U.on("zoom",$=>{const{onViewportChange:X}=W.getState();if(W.setState({transform:[$.transform.x,$.transform.y,$.transform.k]}),G.current=!!(l&&Sp(v,I.current??0)),(n||X)&&!$.sourceEvent?.internal){const k=Js($.transform);X?.(k),n?.($.sourceEvent,k)}}))},[E,U,n,v,l]),b.useEffect(()=>{U&&U.on("end",$=>{if(!$.sourceEvent||$.sourceEvent.internal)return null;const{onViewportChangeEnd:X}=W.getState();if(V.current=!1,W.setState({paneDragging:!1}),l&&Sp(v,I.current??0)&&!G.current&&l($.sourceEvent),G.current=!1,(i||X)&&Wx(Y.current,$.transform)){const k=Js($.transform);Y.current=k,clearTimeout(L.current),L.current=setTimeout(()=>{X?.(k),i?.($.sourceEvent,k)},d?150:0)}})},[U,d,v,i,l]),b.useEffect(()=>{U&&U.filter($=>{const X=j||a,k=c&&$.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&$.button===1&&$.type==="mousedown"&&(oo($,"react-flow__node")||oo($,"react-flow__edge")))return!0;if(!v&&!X&&!d&&!m&&!c||E||!m&&$.type==="dblclick"||oo($,D)&&$.type==="wheel"||oo($,R)&&($.type!=="wheel"||d&&$.type==="wheel"&&!j)||!c&&$.ctrlKey&&$.type==="wheel"||!X&&!d&&!k&&$.type==="wheel"||!v&&($.type==="mousedown"||$.type==="touchstart")||Array.isArray(v)&&!v.includes($.button)&&$.type==="mousedown")return!1;const O=Array.isArray(v)&&v.includes($.button)||!$.button||$.button<=1;return(!$.ctrlKey||$.type==="wheel")&&O})},[E,U,a,c,d,m,v,g,j]),re.createElement("div",{className:"react-flow__renderer",ref:F,style:rc},A)},Qx=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function Kx(){const{userSelectionActive:n,userSelectionRect:o}=tt(Qx,Et);return n&&o?re.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function Np(n,o){const i=o.parentNode||o.parentId,l=n.find(a=>a.id===i);if(l){const a=o.position.x+o.width-l.width,c=o.position.y+o.height-l.height;if(a>0||c>0||o.position.x<0||o.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),c>0&&(l.style.height+=c),o.position.x<0){const d=Math.abs(o.position.x);l.position.x=l.position.x-d,l.style.width+=d,o.position.x=0}if(o.position.y<0){const d=Math.abs(o.position.y);l.position.y=l.position.y-d,l.style.height+=d,o.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function Oh(n,o){if(n.some(l=>l.type==="reset"))return n.filter(l=>l.type==="reset").map(l=>l.item);const i=n.filter(l=>l.type==="add").map(l=>l.item);return o.reduce((l,a)=>{const c=n.filter(f=>f.id===a.id);if(c.length===0)return l.push(a),l;const d={...a};for(const f of c)if(f)switch(f.type){case"select":{d.selected=f.selected;break}case"position":{typeof f.position<"u"&&(d.position=f.position),typeof f.positionAbsolute<"u"&&(d.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(d.dragging=f.dragging),d.expandParent&&Np(l,d);break}case"dimensions":{typeof f.dimensions<"u"&&(d.width=f.dimensions.width,d.height=f.dimensions.height),typeof f.updateStyle<"u"&&(d.style={...d.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(d.resizing=f.resizing),d.expandParent&&Np(l,d);break}case"remove":return l}return l.push(d),l},i)}function Fh(n,o){return Oh(n,o)}function Zx(n,o){return Oh(n,o)}const rr=(n,o)=>({id:n,type:"select",selected:o});function so(n,o){return n.reduce((i,l)=>{const a=o.includes(l.id);return!l.selected&&a?(l.selected=!0,i.push(rr(l.id,!0))):l.selected&&!a&&(l.selected=!1,i.push(rr(l.id,!1))),i},[])}const wu=(n,o)=>i=>{i.target===o.current&&n?.(i)},Gx=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),Bh=b.memo(({isSelecting:n,selectionMode:o=mi.Full,panOnDrag:i,onSelectionStart:l,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:m,onPaneMouseLeave:g,children:v})=>{const x=b.useRef(null),S=pt(),C=b.useRef(0),N=b.useRef(0),T=b.useRef(),{userSelectionActive:_,elementsSelectable:A,dragging:D}=tt(Gx,Et),R=()=>{S.setState({userSelectionActive:!1,userSelectionRect:null}),C.current=0,N.current=0},L=K=>{c?.(K),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},W=K=>{if(Array.isArray(i)&&i?.includes(2)){K.preventDefault();return}d?.(K)},V=f?K=>f(K):void 0,G=K=>{const{resetSelectedElements:E,domNode:j}=S.getState();if(T.current=j?.getBoundingClientRect(),!A||!n||K.button!==0||K.target!==x.current||!T.current)return;const{x:I,y:H}=sr(K,T.current);E(),S.setState({userSelectionRect:{width:0,height:0,startX:I,startY:H,x:I,y:H}}),l?.(K)},F=K=>{const{userSelectionRect:E,nodeInternals:j,edges:I,transform:H,onNodesChange:P,onEdgesChange:$,nodeOrigin:X,getNodes:k}=S.getState();if(!n||!T.current||!E)return;S.setState({userSelectionActive:!0,nodesSelectionActive:!1});const O=sr(K,T.current),oe=E.startX??0,ie=E.startY??0,ge={...E,x:O.x<oe?O.x:oe,y:O.y<ie?O.y:ie,width:Math.abs(O.x-oe),height:Math.abs(O.y-ie)},q=k(),le=Eh(j,ge,H,o===mi.Partial,!0,X),me=Nh(le,I).map(ye=>ye.id),Ne=le.map(ye=>ye.id);if(C.current!==Ne.length){C.current=Ne.length;const ye=so(q,Ne);ye.length&&P?.(ye)}if(N.current!==me.length){N.current=me.length;const ye=so(I,me);ye.length&&$?.(ye)}S.setState({userSelectionRect:ge})},Y=K=>{if(K.button!==0)return;const{userSelectionRect:E}=S.getState();!_&&E&&K.target===x.current&&L?.(K),S.setState({nodesSelectionActive:C.current>0}),R(),a?.(K)},U=K=>{_&&(S.setState({nodesSelectionActive:C.current>0}),a?.(K)),R()},Q=A&&(n||_);return re.createElement("div",{className:kt(["react-flow__pane",{dragging:D,selection:n}]),onClick:Q?void 0:wu(L,x),onContextMenu:wu(W,x),onWheel:wu(V,x),onMouseEnter:Q?void 0:h,onMouseDown:Q?G:void 0,onMouseMove:Q?F:m,onMouseUp:Q?Y:void 0,onMouseLeave:Q?U:g,ref:x,style:rc},v,re.createElement(Kx,null))});Bh.displayName="Pane";function Vh(n,o){const i=n.parentNode||n.parentId;if(!i)return!1;const l=o.get(i);return l?l.selected?!0:Vh(l,o):!1}function Cp(n,o,i){let l=n;do{if(l?.matches(o))return!0;if(l===i.current)return!1;l=l.parentElement}while(l);return!1}function qx(n,o,i,l){return Array.from(n.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!Vh(a,n))&&(a.draggable||o&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:i.x-(a.positionAbsolute?.x??0),y:i.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function Jx(n,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(n.width||0),o[1][1]-(n.height||0)]]}function Uh(n,o,i,l,a=[0,0],c){const d=Jx(n,n.extent||l);let f=d;const h=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(h&&n.width&&n.height){const v=i.get(h),{x,y:S}=co(v,a).positionAbsolute;f=v&&Qt(x)&&Qt(S)&&Qt(v.width)&&Qt(v.height)?[[x+n.width*a[0],S+n.height*a[1]],[x+v.width-n.width+n.width*a[0],S+v.height-n.height+n.height*a[1]]]:f}else c?.("005",In.error005()),f=d;else if(n.extent&&h&&n.extent!=="parent"){const v=i.get(h),{x,y:S}=co(v,a).positionAbsolute;f=[[n.extent[0][0]+x,n.extent[0][1]+S],[n.extent[1][0]+x,n.extent[1][1]+S]]}let m={x:0,y:0};if(h){const v=i.get(h);m=co(v,a).positionAbsolute}const g=f&&f!=="parent"?Qu(o,f):o;return{position:{x:g.x-m.x,y:g.y-m.y},positionAbsolute:g}}function Su({nodeId:n,dragItems:o,nodeInternals:i}){const l=o.map(a=>({...i.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[n?l.find(a=>a.id===n):l[0],l]}const kp=(n,o,i,l)=>{const a=o.querySelectorAll(n);if(!a||!a.length)return null;const c=Array.from(a),d=o.getBoundingClientRect(),f={x:d.width*l[0],y:d.height*l[1]};return c.map(h=>{const m=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(m.left-d.left-f.x)/i,y:(m.top-d.top-f.y)/i,...Yu(h)}})};function ii(n,o,i){return i===void 0?i:l=>{const a=o().nodeInternals.get(n);a&&i(l,{...a})}}function Pu({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:f,onError:h}=o.getState(),m=f.get(n);if(!m){h?.("012",In.error012(n));return}o.setState({nodesSelectionActive:!1}),m.selected?(i||m.selected&&d)&&(c({nodes:[m],edges:[]}),requestAnimationFrame(()=>l?.current?.blur())):a([n])}function ew(){const n=pt();return b.useCallback(({sourceEvent:i})=>{const{transform:l,snapGrid:a,snapToGrid:c}=n.getState(),d=i.touches?i.touches[0].clientX:i.clientX,f=i.touches?i.touches[0].clientY:i.clientY,h={x:(d-l[0])/l[2],y:(f-l[1])/l[2]};return{xSnapped:c?a[0]*Math.round(h.x/a[0]):h.x,ySnapped:c?a[1]*Math.round(h.y/a[1]):h.y,...h}},[])}function Eu(n){return(o,i,l)=>n?.(o,l)}function Wh({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,selectNodesOnDrag:d}){const f=pt(),[h,m]=b.useState(!1),g=b.useRef([]),v=b.useRef({x:null,y:null}),x=b.useRef(0),S=b.useRef(null),C=b.useRef({x:0,y:0}),N=b.useRef(null),T=b.useRef(!1),_=b.useRef(!1),A=b.useRef(!1),D=ew();return b.useEffect(()=>{if(n?.current){const R=rn(n.current),L=({x:G,y:F})=>{const{nodeInternals:Y,onNodeDrag:U,onSelectionDrag:Q,updateNodePositions:K,nodeExtent:E,snapGrid:j,snapToGrid:I,nodeOrigin:H,onError:P}=f.getState();v.current={x:G,y:F};let $=!1,X={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&E){const O=ec(g.current,H);X=Ku(O)}if(g.current=g.current.map(O=>{const oe={x:G-O.distance.x,y:F-O.distance.y};I&&(oe.x=j[0]*Math.round(oe.x/j[0]),oe.y=j[1]*Math.round(oe.y/j[1]));const ie=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];g.current.length>1&&E&&!O.extent&&(ie[0][0]=O.positionAbsolute.x-X.x+E[0][0],ie[1][0]=O.positionAbsolute.x+(O.width??0)-X.x2+E[1][0],ie[0][1]=O.positionAbsolute.y-X.y+E[0][1],ie[1][1]=O.positionAbsolute.y+(O.height??0)-X.y2+E[1][1]);const ge=Uh(O,oe,Y,ie,H,P);return $=$||O.position.x!==ge.position.x||O.position.y!==ge.position.y,O.position=ge.position,O.positionAbsolute=ge.positionAbsolute,O}),!$)return;K(g.current,!0,!0),m(!0);const k=a?U:Eu(Q);if(k&&N.current){const[O,oe]=Su({nodeId:a,dragItems:g.current,nodeInternals:Y});k(N.current,O,oe)}},W=()=>{if(!S.current)return;const[G,F]=ph(C.current,S.current);if(G!==0||F!==0){const{transform:Y,panBy:U}=f.getState();v.current.x=(v.current.x??0)-G/Y[2],v.current.y=(v.current.y??0)-F/Y[2],U({x:G,y:F})&&L(v.current)}x.current=requestAnimationFrame(W)},V=G=>{const{nodeInternals:F,multiSelectionActive:Y,nodesDraggable:U,unselectNodesAndEdges:Q,onNodeDragStart:K,onSelectionDragStart:E}=f.getState();_.current=!0;const j=a?K:Eu(E);(!d||!c)&&!Y&&a&&(F.get(a)?.selected||Q()),a&&c&&d&&Pu({id:a,store:f,nodeRef:n});const I=D(G);if(v.current=I,g.current=qx(F,U,I,a),j&&g.current){const[H,P]=Su({nodeId:a,dragItems:g.current,nodeInternals:F});j(G.sourceEvent,H,P)}};if(o)R.on(".drag",null);else{const G=u1().on("start",F=>{const{domNode:Y,nodeDragThreshold:U}=f.getState();U===0&&V(F),A.current=!1;const Q=D(F);v.current=Q,S.current=Y?.getBoundingClientRect()||null,C.current=sr(F.sourceEvent,S.current)}).on("drag",F=>{const Y=D(F),{autoPanOnNodeDrag:U,nodeDragThreshold:Q}=f.getState();if(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1&&(A.current=!0),!A.current){if(!T.current&&_.current&&U&&(T.current=!0,W()),!_.current){const K=Y.xSnapped-(v?.current?.x??0),E=Y.ySnapped-(v?.current?.y??0);Math.sqrt(K*K+E*E)>Q&&V(F)}(v.current.x!==Y.xSnapped||v.current.y!==Y.ySnapped)&&g.current&&_.current&&(N.current=F.sourceEvent,C.current=sr(F.sourceEvent,S.current),L(Y))}}).on("end",F=>{if(!(!_.current||A.current)&&(m(!1),T.current=!1,_.current=!1,cancelAnimationFrame(x.current),g.current)){const{updateNodePositions:Y,nodeInternals:U,onNodeDragStop:Q,onSelectionDragStop:K}=f.getState(),E=a?Q:Eu(K);if(Y(g.current,!1,!1),E){const[j,I]=Su({nodeId:a,dragItems:g.current,nodeInternals:U});E(F.sourceEvent,j,I)}}}).filter(F=>{const Y=F.target;return!F.button&&(!i||!Cp(Y,`.${i}`,n))&&(!l||Cp(Y,l,n))});return R.call(G),()=>{R.on(".drag",null)}}}},[n,o,i,l,c,f,a,d,D]),h}function Xh(){const n=pt();return b.useCallback(i=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:c,getNodes:d,snapToGrid:f,snapGrid:h,onError:m,nodesDraggable:g}=n.getState(),v=d().filter(A=>A.selected&&(A.draggable||g&&typeof A.draggable>"u")),x=f?h[0]:5,S=f?h[1]:5,C=i.isShiftPressed?4:1,N=i.x*x*C,T=i.y*S*C,_=v.map(A=>{if(A.positionAbsolute){const D={x:A.positionAbsolute.x+N,y:A.positionAbsolute.y+T};f&&(D.x=h[0]*Math.round(D.x/h[0]),D.y=h[1]*Math.round(D.y/h[1]));const{positionAbsolute:R,position:L}=Uh(A,D,l,a,void 0,m);A.position=L,A.positionAbsolute=R}return A});c(_,!0,!1)},[])}const fo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var si=n=>{const o=({id:i,type:l,data:a,xPos:c,yPos:d,xPosOrigin:f,yPosOrigin:h,selected:m,onClick:g,onMouseEnter:v,onMouseMove:x,onMouseLeave:S,onContextMenu:C,onDoubleClick:N,style:T,className:_,isDraggable:A,isSelectable:D,isConnectable:R,isFocusable:L,selectNodesOnDrag:W,sourcePosition:V,targetPosition:G,hidden:F,resizeObserver:Y,dragHandle:U,zIndex:Q,isParent:K,noDragClassName:E,noPanClassName:j,initialized:I,disableKeyboardA11y:H,ariaLabel:P,rfId:$,hasHandleBounds:X})=>{const k=pt(),O=b.useRef(null),oe=b.useRef(null),ie=b.useRef(V),ge=b.useRef(G),q=b.useRef(l),le=D||A||g||v||x||S,me=Xh(),Ne=ii(i,k.getState,v),ye=ii(i,k.getState,x),Me=ii(i,k.getState,S),We=ii(i,k.getState,C),Ae=ii(i,k.getState,N),Ve=se=>{const{nodeDragThreshold:te}=k.getState();if(D&&(!W||!A||te>0)&&Pu({id:i,store:k,nodeRef:O}),g){const Se=k.getState().nodeInternals.get(i);Se&&g(se,{...Se})}},Fe=se=>{if(!Iu(se)&&!H)if(gh.includes(se.key)&&D){const te=se.key==="Escape";Pu({id:i,store:k,unselect:te,nodeRef:O})}else A&&m&&Object.prototype.hasOwnProperty.call(fo,se.key)&&(k.setState({ariaLiveMessage:`Moved selected node ${se.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),me({x:fo[se.key].x,y:fo[se.key].y,isShiftPressed:se.shiftKey}))};b.useEffect(()=>()=>{oe.current&&(Y?.unobserve(oe.current),oe.current=null)},[]),b.useEffect(()=>{if(O.current&&!F){const se=O.current;(!I||!X||oe.current!==se)&&(oe.current&&Y?.unobserve(oe.current),Y?.observe(se),oe.current=se)}},[F,I,X]),b.useEffect(()=>{const se=q.current!==l,te=ie.current!==V,Se=ge.current!==G;O.current&&(se||te||Se)&&(se&&(q.current=l),te&&(ie.current=V),Se&&(ge.current=G),k.getState().updateNodeDimensions([{id:i,nodeElement:O.current,forceUpdate:!0}]))},[i,l,V,G]);const ne=Wh({nodeRef:O,disabled:F||!A,noDragClassName:E,handleSelector:U,nodeId:i,isSelectable:D,selectNodesOnDrag:W});return F?null:re.createElement("div",{className:kt(["react-flow__node",`react-flow__node-${l}`,{[j]:A},_,{selected:m,selectable:D,parent:K,dragging:ne}]),ref:O,style:{zIndex:Q,transform:`translate(${f}px,${h}px)`,pointerEvents:le?"all":"none",visibility:I?"visible":"hidden",...T},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:Ne,onMouseMove:ye,onMouseLeave:Me,onContextMenu:We,onClick:Ve,onDoubleClick:Ae,onKeyDown:L?Fe:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":H?void 0:`${Dh}-${$}`,"aria-label":P},re.createElement(hx,{value:i},re.createElement(n,{id:i,data:a,type:l,xPos:c,yPos:d,selected:m,isConnectable:R,sourcePosition:V,targetPosition:G,dragging:ne,dragHandle:U,zIndex:Q})))};return o.displayName="NodeWrapper",b.memo(o)};const tw=n=>{const o=n.getNodes().filter(i=>i.selected);return{...ec(o,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function nw({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=pt(),{width:a,height:c,x:d,y:f,transformString:h,userSelectionActive:m}=tt(tw,Et),g=Xh(),v=b.useRef(null);if(b.useEffect(()=>{i||v.current?.focus({preventScroll:!0})},[i]),Wh({nodeRef:v}),m||!a||!c)return null;const x=n?C=>{const N=l.getState().getNodes().filter(T=>T.selected);n(C,N)}:void 0,S=C=>{Object.prototype.hasOwnProperty.call(fo,C.key)&&g({x:fo[C.key].x,y:fo[C.key].y,isShiftPressed:C.shiftKey})};return re.createElement("div",{className:kt(["react-flow__nodesselection","react-flow__container",o]),style:{transform:h}},re.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:i?void 0:-1,onKeyDown:i?void 0:S,style:{width:a,height:c,top:f,left:d}}))}var rw=b.memo(nw);const ow=n=>n.nodesSelectionActive,Yh=({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:f,onMove:h,onMoveStart:m,onMoveEnd:g,selectionKeyCode:v,selectionOnDrag:x,selectionMode:S,onSelectionStart:C,onSelectionEnd:N,multiSelectionKeyCode:T,panActivationKeyCode:_,zoomActivationKeyCode:A,elementsSelectable:D,zoomOnScroll:R,zoomOnPinch:L,panOnScroll:W,panOnScrollSpeed:V,panOnScrollMode:G,zoomOnDoubleClick:F,panOnDrag:Y,defaultViewport:U,translateExtent:Q,minZoom:K,maxZoom:E,preventScrolling:j,onSelectionContextMenu:I,noWheelClassName:H,noPanClassName:P,disableKeyboardA11y:$})=>{const X=tt(ow),k=vi(v),O=vi(_),oe=O||Y,ie=O||W,ge=k||x&&oe!==!0;return Vx({deleteKeyCode:f,multiSelectionKeyCode:T}),re.createElement(Yx,{onMove:h,onMoveStart:m,onMoveEnd:g,onPaneContextMenu:c,elementsSelectable:D,zoomOnScroll:R,zoomOnPinch:L,panOnScroll:ie,panOnScrollSpeed:V,panOnScrollMode:G,zoomOnDoubleClick:F,panOnDrag:!k&&oe,defaultViewport:U,translateExtent:Q,minZoom:K,maxZoom:E,zoomActivationKeyCode:A,preventScrolling:j,noWheelClassName:H,noPanClassName:P},re.createElement(Bh,{onSelectionStart:C,onSelectionEnd:N,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:oe,isSelecting:!!ge,selectionMode:S},n,X&&re.createElement(rw,{onSelectionContextMenu:I,noPanClassName:P,disableKeyboardA11y:$})))};Yh.displayName="FlowRenderer";var iw=b.memo(Yh);function sw(n){return tt(b.useCallback(i=>n?Eh(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[n]))}function lw(n){const o={input:si(n.input||Ah),default:si(n.default||zu),output:si(n.output||Ih),group:si(n.group||nc)},i={},l=Object.keys(n).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=si(n[c]||zu),a),i);return{...o,...l}}const aw=({x:n,y:o,width:i,height:l,origin:a})=>!i||!l?{x:n,y:o}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:n,y:o}:{x:n-i*a[0],y:o-l*a[1]},uw=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),Qh=n=>{const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:c,onError:d}=tt(uw,Et),f=sw(n.onlyRenderVisibleElements),h=b.useRef(),m=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(v=>{const x=v.map(S=>({id:S.target.getAttribute("data-id"),nodeElement:S.target,forceUpdate:!0}));c(x)});return h.current=g,g},[]);return b.useEffect(()=>()=>{h?.current?.disconnect()},[]),re.createElement("div",{className:"react-flow__nodes",style:rc},f.map(g=>{let v=g.type||"default";n.nodeTypes[v]||(d?.("003",In.error003(v)),v="default");const x=n.nodeTypes[v]||n.nodeTypes.default,S=!!(g.draggable||o&&typeof g.draggable>"u"),C=!!(g.selectable||a&&typeof g.selectable>"u"),N=!!(g.connectable||i&&typeof g.connectable>"u"),T=!!(g.focusable||l&&typeof g.focusable>"u"),_=n.nodeExtent?Qu(g.positionAbsolute,n.nodeExtent):g.positionAbsolute,A=_?.x??0,D=_?.y??0,R=aw({x:A,y:D,width:g.width??0,height:g.height??0,origin:n.nodeOrigin});return re.createElement(x,{key:g.id,id:g.id,className:g.className,style:g.style,type:v,data:g.data,sourcePosition:g.sourcePosition||xe.Bottom,targetPosition:g.targetPosition||xe.Top,hidden:g.hidden,xPos:A,yPos:D,xPosOrigin:R.x,yPosOrigin:R.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!g.selected,isDraggable:S,isSelectable:C,isConnectable:N,isFocusable:T,resizeObserver:m,dragHandle:g.dragHandle,zIndex:g[rt]?.z??0,isParent:!!g[rt]?.isParent,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!g.width&&!!g.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!g[rt]?.handleBounds})}))};Qh.displayName="NodeRenderer";var cw=b.memo(Qh);const dw=(n,o,i)=>i===xe.Left?n-o:i===xe.Right?n+o:n,fw=(n,o,i)=>i===xe.Top?n-o:i===xe.Bottom?n+o:n,_p="react-flow__edgeupdater",bp=({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:f})=>re.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:kt([_p,`${_p}-${f}`]),cx:dw(o,l,n),cy:fw(i,l,n),r:l,stroke:"transparent",fill:"transparent"}),pw=()=>!0;var io=n=>{const o=({id:i,className:l,type:a,data:c,onClick:d,onEdgeDoubleClick:f,selected:h,animated:m,label:g,labelStyle:v,labelShowBg:x,labelBgStyle:S,labelBgPadding:C,labelBgBorderRadius:N,style:T,source:_,target:A,sourceX:D,sourceY:R,targetX:L,targetY:W,sourcePosition:V,targetPosition:G,elementsSelectable:F,hidden:Y,sourceHandleId:U,targetHandleId:Q,onContextMenu:K,onMouseEnter:E,onMouseMove:j,onMouseLeave:I,reconnectRadius:H,onReconnect:P,onReconnectStart:$,onReconnectEnd:X,markerEnd:k,markerStart:O,rfId:oe,ariaLabel:ie,isFocusable:ge,isReconnectable:q,pathOptions:le,interactionWidth:me,disableKeyboardA11y:Ne})=>{const ye=b.useRef(null),[Me,We]=b.useState(!1),[Ae,Ve]=b.useState(!1),Fe=pt(),ne=b.useMemo(()=>`url('#${Du(O,oe)}')`,[O,oe]),se=b.useMemo(()=>`url('#${Du(k,oe)}')`,[k,oe]);if(Y)return null;const te=Ke=>{const{edges:Ht,addSelectedEdges:an,unselectNodesAndEdges:un,multiSelectionActive:Ln}=Fe.getState(),_t=Ht.find(Kt=>Kt.id===i);_t&&(F&&(Fe.setState({nodesSelectionActive:!1}),_t.selected&&Ln?(un({nodes:[],edges:[_t]}),ye.current?.blur()):an([i])),d&&d(Ke,_t))},Se=oi(i,Fe.getState,f),ce=oi(i,Fe.getState,K),pe=oi(i,Fe.getState,E),fe=oi(i,Fe.getState,j),Te=oi(i,Fe.getState,I),$e=(Ke,Ht)=>{if(Ke.button!==0)return;const{edges:an,isValidConnection:un}=Fe.getState(),Ln=Ht?A:_,_t=(Ht?Q:U)||null,Kt=Ht?"target":"source",lr=un||pw,ar=Ht,xn=an.find(dn=>dn.id===i);Ve(!0),$?.(Ke,xn,Kt);const cn=dn=>{Ve(!1),X?.(dn,xn,Kt)};bh({event:Ke,handleId:_t,nodeId:Ln,onConnect:dn=>P?.(xn,dn),isTarget:ar,getState:Fe.getState,setState:Fe.setState,isValidConnection:lr,edgeUpdaterType:Kt,onReconnectEnd:cn})},je=Ke=>$e(Ke,!0),Oe=Ke=>$e(Ke,!1),Ue=()=>We(!0),yt=()=>We(!1),Ge=!F&&!d,ht=Ke=>{if(!Ne&&gh.includes(Ke.key)&&F){const{unselectNodesAndEdges:Ht,addSelectedEdges:an,edges:un}=Fe.getState();Ke.key==="Escape"?(ye.current?.blur(),Ht({edges:[un.find(_t=>_t.id===i)]})):an([i])}};return re.createElement("g",{className:kt(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:h,animated:m,inactive:Ge,updating:Me}]),onClick:te,onDoubleClick:Se,onContextMenu:ce,onMouseEnter:pe,onMouseMove:fe,onMouseLeave:Te,onKeyDown:ge?ht:void 0,tabIndex:ge?0:void 0,role:ge?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":ie===null?void 0:ie||`Edge from ${_} to ${A}`,"aria-describedby":ge?`${$h}-${oe}`:void 0,ref:ye},!Ae&&re.createElement(n,{id:i,source:_,target:A,selected:h,animated:m,label:g,labelStyle:v,labelShowBg:x,labelBgStyle:S,labelBgPadding:C,labelBgBorderRadius:N,data:c,style:T,sourceX:D,sourceY:R,targetX:L,targetY:W,sourcePosition:V,targetPosition:G,sourceHandleId:U,targetHandleId:Q,markerStart:ne,markerEnd:se,pathOptions:le,interactionWidth:me}),q&&re.createElement(re.Fragment,null,(q==="source"||q===!0)&&re.createElement(bp,{position:V,centerX:D,centerY:R,radius:H,onMouseDown:je,onMouseEnter:Ue,onMouseOut:yt,type:"source"}),(q==="target"||q===!0)&&re.createElement(bp,{position:G,centerX:L,centerY:W,radius:H,onMouseDown:Oe,onMouseEnter:Ue,onMouseOut:yt,type:"target"})))};return o.displayName="EdgeWrapper",b.memo(o)};function hw(n){const o={default:io(n.default||fl),straight:io(n.bezier||qu),step:io(n.step||Gu),smoothstep:io(n.step||vl),simplebezier:io(n.simplebezier||Zu)},i={},l=Object.keys(n).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=io(n[c]||fl),a),i);return{...o,...l}}function Tp(n,o,i=null){const l=(i?.x||0)+o.x,a=(i?.y||0)+o.y,c=i?.width||o.width,d=i?.height||o.height;switch(n){case xe.Top:return{x:l+c/2,y:a};case xe.Right:return{x:l+c,y:a+d/2};case xe.Bottom:return{x:l+c/2,y:a+d};case xe.Left:return{x:l,y:a+d/2}}}function Rp(n,o){return n?n.length===1||!o?n[0]:o&&n.find(i=>i.id===o)||null:null}const gw=(n,o,i,l,a,c)=>{const d=Tp(i,n,o),f=Tp(c,l,a);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y}};function mw({sourcePos:n,targetPos:o,sourceWidth:i,sourceHeight:l,targetWidth:a,targetHeight:c,width:d,height:f,transform:h}){const m={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x+i,o.x+a),y2:Math.max(n.y+l,o.y+c)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const g=Ku({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:d/h[2],height:f/h[2]}),v=Math.max(0,Math.min(g.x2,m.x2)-Math.max(g.x,m.x)),x=Math.max(0,Math.min(g.y2,m.y2)-Math.max(g.y,m.y));return Math.ceil(v*x)>0}function jp(n){const o=n?.[rt]?.handleBounds||null,i=o&&n?.width&&n?.height&&typeof n?.positionAbsolute?.x<"u"&&typeof n?.positionAbsolute?.y<"u";return[{x:n?.positionAbsolute?.x||0,y:n?.positionAbsolute?.y||0,width:n?.width||0,height:n?.height||0},o,!!i]}const yw=[{level:0,isMaxLevel:!0,edges:[]}];function vw(n,o,i=!1){let l=-1;const a=n.reduce((d,f)=>{const h=Qt(f.zIndex);let m=h?f.zIndex:0;if(i){const g=o.get(f.target),v=o.get(f.source),x=f.selected||g?.selected||v?.selected,S=Math.max(v?.[rt]?.z||0,g?.[rt]?.z||0,1e3);m=(h?f.zIndex:0)+(x?S:0)}return d[m]?d[m].push(f):d[m]=[f],l=m>l?m:l,d},{}),c=Object.entries(a).map(([d,f])=>{const h=+d;return{edges:f,level:h,isMaxLevel:h===l}});return c.length===0?yw:c}function xw(n,o,i){const l=tt(b.useCallback(a=>n?a.edges.filter(c=>{const d=o.get(c.source),f=o.get(c.target);return d?.width&&d?.height&&f?.width&&f?.height&&mw({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:f.width,targetHeight:f.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[n,o]));return vw(l,o,i)}const ww=({color:n="none",strokeWidth:o=1})=>re.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Sw=({color:n="none",strokeWidth:o=1})=>re.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ap={[yi.Arrow]:ww,[yi.ArrowClosed]:Sw};function Ew(n){const o=pt();return b.useMemo(()=>Object.prototype.hasOwnProperty.call(Ap,n)?Ap[n]:(o.getState().onError?.("009",In.error009(n)),null),[n])}const Nw=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:f="auto-start-reverse"})=>{const h=Ew(o);return h?re.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:f,refX:"0",refY:"0"},re.createElement(h,{color:i,strokeWidth:d})):null},Cw=({defaultColor:n,rfId:o})=>i=>{const l=[];return i.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const f=Du(d,o);l.includes(f)||(a.push({id:f,color:d.color||n,...d}),l.push(f))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},Kh=({defaultColor:n,rfId:o})=>{const i=tt(b.useCallback(Cw({defaultColor:n,rfId:o}),[n,o]),(l,a)=>!(l.length!==a.length||l.some((c,d)=>c.id!==a[d].id)));return re.createElement("defs",null,i.map(l=>re.createElement(Nw,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};Kh.displayName="MarkerDefinitions";var kw=b.memo(Kh);const _w=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),Zh=({defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:i,rfId:l,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:m,onEdgeClick:g,onEdgeDoubleClick:v,onReconnect:x,onReconnectStart:S,onReconnectEnd:C,reconnectRadius:N,children:T,disableKeyboardA11y:_})=>{const{edgesFocusable:A,edgesUpdatable:D,elementsSelectable:R,width:L,height:W,connectionMode:V,nodeInternals:G,onError:F}=tt(_w,Et),Y=xw(o,G,i);return L?re.createElement(re.Fragment,null,Y.map(({level:U,edges:Q,isMaxLevel:K})=>re.createElement("svg",{key:U,style:{zIndex:U},width:L,height:W,className:"react-flow__edges react-flow__container"},K&&re.createElement(kw,{defaultColor:n,rfId:l}),re.createElement("g",null,Q.map(E=>{const[j,I,H]=jp(G.get(E.source)),[P,$,X]=jp(G.get(E.target));if(!H||!X)return null;let k=E.type||"default";a[k]||(F?.("011",In.error011(k)),k="default");const O=a[k]||a.default,oe=V===Rr.Strict?$.target:($.target??[]).concat($.source??[]),ie=Rp(I.source,E.sourceHandle),ge=Rp(oe,E.targetHandle),q=ie?.position||xe.Bottom,le=ge?.position||xe.Top,me=!!(E.focusable||A&&typeof E.focusable>"u"),Ne=E.reconnectable||E.updatable,ye=typeof x<"u"&&(Ne||D&&typeof Ne>"u");if(!ie||!ge)return F?.("008",In.error008(ie,E)),null;const{sourceX:Me,sourceY:We,targetX:Ae,targetY:Ve}=gw(j,ie,q,P,ge,le);return re.createElement(O,{key:E.id,id:E.id,className:kt([E.className,c]),type:k,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:Me,sourceY:We,targetX:Ae,targetY:Ve,sourcePosition:q,targetPosition:le,elementsSelectable:R,onContextMenu:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:m,onClick:g,onEdgeDoubleClick:v,onReconnect:x,onReconnectStart:S,onReconnectEnd:C,reconnectRadius:N,rfId:l,ariaLabel:E.ariaLabel,isFocusable:me,isReconnectable:ye,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:_})})))),T):null};Zh.displayName="EdgeRenderer";var bw=b.memo(Zh);const Tw=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function Rw({children:n}){const o=tt(Tw);return re.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}function jw(n){const o=mo(),i=b.useRef(!1);b.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const Aw={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top},Gh=({nodeId:n,handleType:o,style:i,type:l=or.Bezier,CustomComponent:a,connectionStatus:c})=>{const{fromNode:d,handleId:f,toX:h,toY:m,connectionMode:g}=tt(b.useCallback(W=>({fromNode:W.nodeInternals.get(n),handleId:W.connectionHandleId,toX:(W.connectionPosition.x-W.transform[0])/W.transform[2],toY:(W.connectionPosition.y-W.transform[1])/W.transform[2],connectionMode:W.connectionMode}),[n]),Et),v=d?.[rt]?.handleBounds;let x=v?.[o];if(g===Rr.Loose&&(x=x||v?.[o==="source"?"target":"source"]),!d||!x)return null;const S=f?x.find(W=>W.id===f):x[0],C=S?S.x+S.width/2:(d.width??0)/2,N=S?S.y+S.height/2:d.height??0,T=(d.positionAbsolute?.x??0)+C,_=(d.positionAbsolute?.y??0)+N,A=S?.position,D=A?Aw[A]:null;if(!A||!D)return null;if(a)return re.createElement(a,{connectionLineType:l,connectionLineStyle:i,fromNode:d,fromHandle:S,fromX:T,fromY:_,toX:h,toY:m,fromPosition:A,toPosition:D,connectionStatus:c});let R="";const L={sourceX:T,sourceY:_,sourcePosition:A,targetX:h,targetY:m,targetPosition:D};return l===or.Bezier?[R]=wh(L):l===or.Step?[R]=Lu({...L,borderRadius:0}):l===or.SmoothStep?[R]=Lu(L):l===or.SimpleBezier?[R]=xh(L):R=`M${T},${_} ${h},${m}`,re.createElement("path",{d:R,fill:"none",className:"react-flow__connection-path",style:i})};Gh.displayName="ConnectionLine";const Mw=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function Iw({containerStyle:n,style:o,type:i,component:l}){const{nodeId:a,handleType:c,nodesConnectable:d,width:f,height:h,connectionStatus:m}=tt(Mw,Et);return!(a&&c&&f&&d)?null:re.createElement("svg",{style:n,width:f,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},re.createElement("g",{className:kt(["react-flow__connection",m])},re.createElement(Gh,{nodeId:a,handleType:c,style:o,type:i,CustomComponent:l,connectionStatus:m})))}function Mp(n,o){return b.useRef(null),pt(),b.useMemo(()=>o(n),[n])}const qh=({nodeTypes:n,edgeTypes:o,onMove:i,onMoveStart:l,onMoveEnd:a,onInit:c,onNodeClick:d,onEdgeClick:f,onNodeDoubleClick:h,onEdgeDoubleClick:m,onNodeMouseEnter:g,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:S,onSelectionContextMenu:C,onSelectionStart:N,onSelectionEnd:T,connectionLineType:_,connectionLineStyle:A,connectionLineComponent:D,connectionLineContainerStyle:R,selectionKeyCode:L,selectionOnDrag:W,selectionMode:V,multiSelectionKeyCode:G,panActivationKeyCode:F,zoomActivationKeyCode:Y,deleteKeyCode:U,onlyRenderVisibleElements:Q,elementsSelectable:K,selectNodesOnDrag:E,defaultViewport:j,translateExtent:I,minZoom:H,maxZoom:P,preventScrolling:$,defaultMarkerColor:X,zoomOnScroll:k,zoomOnPinch:O,panOnScroll:oe,panOnScrollSpeed:ie,panOnScrollMode:ge,zoomOnDoubleClick:q,panOnDrag:le,onPaneClick:me,onPaneMouseEnter:Ne,onPaneMouseMove:ye,onPaneMouseLeave:Me,onPaneScroll:We,onPaneContextMenu:Ae,onEdgeContextMenu:Ve,onEdgeMouseEnter:Fe,onEdgeMouseMove:ne,onEdgeMouseLeave:se,onReconnect:te,onReconnectStart:Se,onReconnectEnd:ce,reconnectRadius:pe,noDragClassName:fe,noWheelClassName:Te,noPanClassName:$e,elevateEdgesOnSelect:je,disableKeyboardA11y:Oe,nodeOrigin:Ue,nodeExtent:yt,rfId:Ge})=>{const ht=Mp(n,lw),Ke=Mp(o,hw);return jw(c),re.createElement(iw,{onPaneClick:me,onPaneMouseEnter:Ne,onPaneMouseMove:ye,onPaneMouseLeave:Me,onPaneContextMenu:Ae,onPaneScroll:We,deleteKeyCode:U,selectionKeyCode:L,selectionOnDrag:W,selectionMode:V,onSelectionStart:N,onSelectionEnd:T,multiSelectionKeyCode:G,panActivationKeyCode:F,zoomActivationKeyCode:Y,elementsSelectable:K,onMove:i,onMoveStart:l,onMoveEnd:a,zoomOnScroll:k,zoomOnPinch:O,zoomOnDoubleClick:q,panOnScroll:oe,panOnScrollSpeed:ie,panOnScrollMode:ge,panOnDrag:le,defaultViewport:j,translateExtent:I,minZoom:H,maxZoom:P,onSelectionContextMenu:C,preventScrolling:$,noDragClassName:fe,noWheelClassName:Te,noPanClassName:$e,disableKeyboardA11y:Oe},re.createElement(Rw,null,re.createElement(bw,{edgeTypes:Ke,onEdgeClick:f,onEdgeDoubleClick:m,onlyRenderVisibleElements:Q,onEdgeContextMenu:Ve,onEdgeMouseEnter:Fe,onEdgeMouseMove:ne,onEdgeMouseLeave:se,onReconnect:te,onReconnectStart:Se,onReconnectEnd:ce,reconnectRadius:pe,defaultMarkerColor:X,noPanClassName:$e,elevateEdgesOnSelect:!!je,disableKeyboardA11y:Oe,rfId:Ge},re.createElement(Iw,{style:A,type:_,component:D,containerStyle:R})),re.createElement("div",{className:"react-flow__edgelabel-renderer"}),re.createElement(cw,{nodeTypes:ht,onNodeClick:d,onNodeDoubleClick:h,onNodeMouseEnter:g,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:S,selectNodesOnDrag:E,onlyRenderVisibleElements:Q,noPanClassName:$e,noDragClassName:fe,disableKeyboardA11y:Oe,nodeOrigin:Ue,nodeExtent:yt,rfId:Ge})))};qh.displayName="GraphView";var Lw=b.memo(qh);const Hu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],er={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Hu,nodeExtent:Hu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Rr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ax,isValidConnection:void 0},Dw=()=>Sm((n,o)=>({...er,setNodes:i=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:c}=o();n({nodeInternals:xu(i,l,a,c)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:l={}}=o();n({edges:i.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(i,l)=>{const a=typeof i<"u",c=typeof l<"u",d=a?xu(i,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;n({nodeInternals:d,edges:c?l:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:i=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:f,domNode:h,nodeOrigin:m}=o(),g=h?.querySelector(".react-flow__viewport");if(!g)return;const v=window.getComputedStyle(g),{m22:x}=new window.DOMMatrixReadOnly(v.transform),S=i.reduce((N,T)=>{const _=a.get(T.id);if(_?.hidden)a.set(_.id,{..._,[rt]:{..._[rt],handleBounds:void 0}});else if(_){const A=Yu(T.nodeElement);!!(A.width&&A.height&&(_.width!==A.width||_.height!==A.height||T.forceUpdate))&&(a.set(_.id,{..._,[rt]:{..._[rt],handleBounds:{source:kp(".source",T.nodeElement,x,m),target:kp(".target",T.nodeElement,x,m)}},...A}),N.push({id:_.id,type:"dimensions",dimensions:A}))}return N},[]);Ph(a,m);const C=d||c&&!d&&Hh(o,{initial:!0,...f});n({nodeInternals:new Map(a),fitViewOnInitDone:C}),S?.length>0&&l?.(S)},updateNodePositions:(i,l=!0,a=!1)=>{const{triggerNodeChanges:c}=o(),d=i.map(f=>{const h={id:f.id,type:"position",dragging:a};return l&&(h.positionAbsolute=f.positionAbsolute,h.position=f.position),h});c(d)},triggerNodeChanges:i=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:d,getNodes:f,elevateNodesOnSelect:h}=o();if(i?.length){if(c){const m=Fh(i,f()),g=xu(m,a,d,h);n({nodeInternals:g})}l?.(i)}},addSelectedNodes:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,f=null;l?d=i.map(h=>rr(h,!0)):(d=so(c(),i),f=so(a,[])),qs({changedNodes:d,changedEdges:f,get:o,set:n})},addSelectedEdges:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,f=null;l?d=i.map(h=>rr(h,!0)):(d=so(a,i),f=so(c(),[])),qs({changedNodes:f,changedEdges:d,get:o,set:n})},unselectNodesAndEdges:({nodes:i,edges:l}={})=>{const{edges:a,getNodes:c}=o(),d=i||c(),f=l||a,h=d.map(g=>(g.selected=!1,rr(g.id,!1))),m=f.map(g=>rr(g.id,!1));qs({changedNodes:h,changedEdges:m,get:o,set:n})},setMinZoom:i=>{const{d3Zoom:l,maxZoom:a}=o();l?.scaleExtent([i,a]),n({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:l,minZoom:a}=o();l?.scaleExtent([a,i]),n({maxZoom:i})},setTranslateExtent:i=>{o().d3Zoom?.translateExtent(i),n({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:l}=o(),c=l().filter(f=>f.selected).map(f=>rr(f.id,!1)),d=i.filter(f=>f.selected).map(f=>rr(f.id,!1));qs({changedNodes:c,changedEdges:d,get:o,set:n})},setNodeExtent:i=>{const{nodeInternals:l}=o();l.forEach(a=>{a.positionAbsolute=Qu(a.position,i)}),n({nodeExtent:i,nodeInternals:new Map(l)})},panBy:i=>{const{transform:l,width:a,height:c,d3Zoom:d,d3Selection:f,translateExtent:h}=o();if(!d||!f||!i.x&&!i.y)return!1;const m=ir.translate(l[0]+i.x,l[1]+i.y).scale(l[2]),g=[[0,0],[a,c]],v=d?.constrain()(m,g,h);return d.transform(f,v),l[0]!==v.x||l[1]!==v.y||l[2]!==v.k},cancelConnection:()=>n({connectionNodeId:er.connectionNodeId,connectionHandleId:er.connectionHandleId,connectionHandleType:er.connectionHandleType,connectionStatus:er.connectionStatus,connectionStartHandle:er.connectionStartHandle,connectionEndHandle:er.connectionEndHandle}),reset:()=>n({...er})}),Object.is),xl=({children:n})=>{const o=b.useRef(null);return o.current||(o.current=Dw()),re.createElement(ex,{value:o.current},n)};xl.displayName="ReactFlowProvider";const Jh=({children:n})=>b.useContext(yl)?re.createElement(re.Fragment,null,n):re.createElement(xl,null,n);Jh.displayName="ReactFlowWrapper";const $w={input:Ah,default:zu,output:Ih,group:nc},zw={default:fl,straight:qu,step:Gu,smoothstep:vl,simplebezier:Zu},Pw=[0,0],Hw=[15,15],Ow={x:0,y:0,zoom:1},Fw={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},oc=b.forwardRef(({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c=$w,edgeTypes:d=zw,onNodeClick:f,onEdgeClick:h,onInit:m,onMove:g,onMoveStart:v,onMoveEnd:x,onConnect:S,onConnectStart:C,onConnectEnd:N,onClickConnectStart:T,onClickConnectEnd:_,onNodeMouseEnter:A,onNodeMouseMove:D,onNodeMouseLeave:R,onNodeContextMenu:L,onNodeDoubleClick:W,onNodeDragStart:V,onNodeDrag:G,onNodeDragStop:F,onNodesDelete:Y,onEdgesDelete:U,onSelectionChange:Q,onSelectionDragStart:K,onSelectionDrag:E,onSelectionDragStop:j,onSelectionContextMenu:I,onSelectionStart:H,onSelectionEnd:P,connectionMode:$=Rr.Strict,connectionLineType:X=or.Bezier,connectionLineStyle:k,connectionLineComponent:O,connectionLineContainerStyle:oe,deleteKeyCode:ie="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:q=!1,selectionMode:le=mi.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:Ne=dl()?"Meta":"Control",zoomActivationKeyCode:ye=dl()?"Meta":"Control",snapToGrid:Me=!1,snapGrid:We=Hw,onlyRenderVisibleElements:Ae=!1,selectNodesOnDrag:Ve=!0,nodesDraggable:Fe,nodesConnectable:ne,nodesFocusable:se,nodeOrigin:te=Pw,edgesFocusable:Se,edgesUpdatable:ce,elementsSelectable:pe,defaultViewport:fe=Ow,minZoom:Te=.5,maxZoom:$e=2,translateExtent:je=Hu,preventScrolling:Oe=!0,nodeExtent:Ue,defaultMarkerColor:yt="#b1b1b7",zoomOnScroll:Ge=!0,zoomOnPinch:ht=!0,panOnScroll:Ke=!1,panOnScrollSpeed:Ht=.5,panOnScrollMode:an=_r.Free,zoomOnDoubleClick:un=!0,panOnDrag:Ln=!0,onPaneClick:_t,onPaneMouseEnter:Kt,onPaneMouseMove:lr,onPaneMouseLeave:ar,onPaneScroll:xn,onPaneContextMenu:cn,children:wn,onEdgeContextMenu:dn,onEdgeDoubleClick:ki,onEdgeMouseEnter:_i,onEdgeMouseMove:bi,onEdgeMouseLeave:Ti,onEdgeUpdate:yo,onEdgeUpdateStart:Ri,onEdgeUpdateEnd:ur,onReconnect:vo,onReconnectStart:cr,onReconnectEnd:wl,reconnectRadius:dr=10,edgeUpdaterRadius:jr=10,onNodesChange:Ar,onEdgesChange:xo,noDragClassName:Sl="nodrag",noWheelClassName:El="nowheel",noPanClassName:ji="nopan",fitView:Sn=!1,fitViewOptions:Ai,connectOnClick:Mi=!0,attributionPosition:Nl,proOptions:Ii,defaultEdgeOptions:Li,elevateNodesOnSelect:Di=!0,elevateEdgesOnSelect:$i=!1,disableKeyboardA11y:zi=!1,autoPanOnConnect:Cl=!0,autoPanOnNodeDrag:qe=!0,connectionRadius:kl=20,isValidConnection:wo,onError:Pi,style:Mr,id:Hi,nodeDragThreshold:Oi,...Ir},Ot)=>{const So=Hi||"1";return re.createElement("div",{...Ir,style:{...Mr,...Fw},ref:Ot,className:kt(["react-flow",a]),"data-testid":"rf__wrapper",id:Hi},re.createElement(Jh,null,re.createElement(Lw,{onInit:m,onMove:g,onMoveStart:v,onMoveEnd:x,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:A,onNodeMouseMove:D,onNodeMouseLeave:R,onNodeContextMenu:L,onNodeDoubleClick:W,nodeTypes:c,edgeTypes:d,connectionLineType:X,connectionLineStyle:k,connectionLineComponent:O,connectionLineContainerStyle:oe,selectionKeyCode:ge,selectionOnDrag:q,selectionMode:le,deleteKeyCode:ie,multiSelectionKeyCode:Ne,panActivationKeyCode:me,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Ae,selectNodesOnDrag:Ve,defaultViewport:fe,translateExtent:je,minZoom:Te,maxZoom:$e,preventScrolling:Oe,zoomOnScroll:Ge,zoomOnPinch:ht,zoomOnDoubleClick:un,panOnScroll:Ke,panOnScrollSpeed:Ht,panOnScrollMode:an,panOnDrag:Ln,onPaneClick:_t,onPaneMouseEnter:Kt,onPaneMouseMove:lr,onPaneMouseLeave:ar,onPaneScroll:xn,onPaneContextMenu:cn,onSelectionContextMenu:I,onSelectionStart:H,onSelectionEnd:P,onEdgeContextMenu:dn,onEdgeDoubleClick:ki,onEdgeMouseEnter:_i,onEdgeMouseMove:bi,onEdgeMouseLeave:Ti,onReconnect:vo??yo,onReconnectStart:cr??Ri,onReconnectEnd:wl??ur,reconnectRadius:dr??jr,defaultMarkerColor:yt,noDragClassName:Sl,noWheelClassName:El,noPanClassName:ji,elevateEdgesOnSelect:$i,rfId:So,disableKeyboardA11y:zi,nodeOrigin:te,nodeExtent:Ue}),re.createElement(Ax,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:S,onConnectStart:C,onConnectEnd:N,onClickConnectStart:T,onClickConnectEnd:_,nodesDraggable:Fe,nodesConnectable:ne,nodesFocusable:se,edgesFocusable:Se,edgesUpdatable:ce,elementsSelectable:pe,elevateNodesOnSelect:Di,minZoom:Te,maxZoom:$e,nodeExtent:Ue,onNodesChange:Ar,onEdgesChange:xo,snapToGrid:Me,snapGrid:We,connectionMode:$,translateExtent:je,connectOnClick:Mi,defaultEdgeOptions:Li,fitView:Sn,fitViewOptions:Ai,onNodesDelete:Y,onEdgesDelete:U,onNodeDragStart:V,onNodeDrag:G,onNodeDragStop:F,onSelectionDrag:E,onSelectionDragStart:K,onSelectionDragStop:j,noPanClassName:ji,nodeOrigin:te,rfId:So,autoPanOnConnect:Cl,autoPanOnNodeDrag:qe,onError:Pi,connectionRadius:kl,isValidConnection:wo,nodeDragThreshold:Oi}),re.createElement(Rx,{onSelectionChange:Q}),wn,re.createElement(nx,{proOptions:Ii,position:Nl}),re.createElement($x,{rfId:So,disableKeyboardA11y:zi})))});oc.displayName="ReactFlow";function e0(n){return o=>{const[i,l]=b.useState(o),a=b.useCallback(c=>l(d=>n(c,d)),[]);return[i,l,a]}}const t0=e0(Fh),n0=e0(Zx);function Bw(){return re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},re.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Vw(){return re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},re.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Uw(){return re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},re.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Ww(){return re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},re.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Xw(){return re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},re.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ci=({children:n,className:o,...i})=>re.createElement("button",{type:"button",className:kt(["react-flow__controls-button",o]),...i},n);ci.displayName="ControlButton";const Yw=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),r0=({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:f,onInteractiveChange:h,className:m,children:g,position:v="bottom-left"})=>{const x=pt(),[S,C]=b.useState(!1),{isInteractive:N,minZoomReached:T,maxZoomReached:_}=tt(Yw,Et),{zoomIn:A,zoomOut:D,fitView:R}=mo();if(b.useEffect(()=>{C(!0)},[]),!S)return null;const L=()=>{A(),c?.()},W=()=>{D(),d?.()},V=()=>{R(a),f?.()},G=()=>{x.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),h?.(!N)};return re.createElement(fh,{className:kt(["react-flow__controls",m]),position:v,style:n,"data-testid":"rf__controls"},o&&re.createElement(re.Fragment,null,re.createElement(ci,{onClick:L,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:_},re.createElement(Bw,null)),re.createElement(ci,{onClick:W,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:T},re.createElement(Vw,null))),i&&re.createElement(ci,{className:"react-flow__controls-fitview",onClick:V,title:"fit view","aria-label":"fit view"},re.createElement(Uw,null)),l&&re.createElement(ci,{className:"react-flow__controls-interactive",onClick:G,title:"toggle interactivity","aria-label":"toggle interactivity"},N?re.createElement(Xw,null):re.createElement(Ww,null)),g)};r0.displayName="Controls";var o0=b.memo(r0),sn;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(sn||(sn={}));function Qw({color:n,dimensions:o,lineWidth:i}){return re.createElement("path",{stroke:n,strokeWidth:i,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function Kw({color:n,radius:o}){return re.createElement("circle",{cx:o,cy:o,r:o,fill:n})}const Zw={[sn.Dots]:"#91919a",[sn.Lines]:"#eee",[sn.Cross]:"#e2e2e2"},Gw={[sn.Dots]:1,[sn.Lines]:1,[sn.Cross]:6},qw=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function i0({id:n,variant:o=sn.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=2,color:d,style:f,className:h}){const m=b.useRef(null),{transform:g,patternId:v}=tt(qw,Et),x=d||Zw[o],S=l||Gw[o],C=o===sn.Dots,N=o===sn.Cross,T=Array.isArray(i)?i:[i,i],_=[T[0]*g[2]||1,T[1]*g[2]||1],A=S*g[2],D=N?[A,A]:_,R=C?[A/c,A/c]:[D[0]/c,D[1]/c];return re.createElement("svg",{className:kt(["react-flow__background",h]),style:{...f,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:m,"data-testid":"rf__background"},re.createElement("pattern",{id:v+n,x:g[0]%_[0],y:g[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R[0]},-${R[1]})`},C?re.createElement(Kw,{color:x,radius:A/c}):re.createElement(Qw,{dimensions:D,color:x,lineWidth:a})),re.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+n})`}))}i0.displayName="Background";var s0=b.memo(i0);function l0({onStepBack:n,onStepForward:o,onStart:i,onStop:l,onSkipToStart:a,onSkipToEnd:c,onClear:d,isRunning:f,isFinished:h,canUndo:m}){return y.jsxs("div",{className:"playback-controls",children:[y.jsx("button",{onClick:a,disabled:f,title:"Skip to Start",children:""}),y.jsx("button",{onClick:n,disabled:f||!m,title:"Step Back",children:""}),y.jsx("button",{onClick:o,disabled:f||h,title:"Step Forward",children:""}),y.jsx("button",{onClick:c,disabled:f||h,title:"Skip to End",children:""}),y.jsx("button",{onClick:i,disabled:f||h,title:"Auto Run",children:"Start"}),y.jsx("button",{onClick:l,disabled:!f,title:"Stop",children:"Stop"}),y.jsx("button",{onClick:d,title:"Clear",children:"Clear"})]})}function ol({tape:n,head:o,activeLabel:i,cellSize:l=40,width:a="80vw",instantScroll:c=!1}){const d=b.useRef(o),f=b.useRef(null),h=Math.abs(o-d.current)>1;b.useEffect(()=>{d.current=o},[o]);const m=i===""?"":i||"START";return y.jsxs("div",{style:{position:"relative",width:a,display:"flex",flexDirection:"column",alignItems:"center"},children:[y.jsx("div",{className:"tape-header",children:y.jsxs("div",{className:"tape-pointer",children:[m&&y.jsx("div",{className:"tape-start-label",children:m}),y.jsx("div",{className:"tape-arrow",children:""})]})}),y.jsx("div",{ref:f,className:"tape-wrapper",style:{width:"100%"},children:y.jsx("div",{className:"tape",style:{left:`calc(50% - ${l/2}px)`,transform:`translateX(${-o*l}px)`,transition:c||h?"none":"transform 0.3s ease-in-out",height:`${l}px`},children:n.map((g,v)=>{const x=typeof g=="string"&&g.includes("^"),S=x?g.replace("^",""):g,C=S===""?" ":S;return y.jsx("div",{className:`cell ${v===o?"active":""}`,style:{width:`${l}px`,height:`${l}px`,fontSize:`${l*.45}px`},children:y.jsxs("div",{className:"cell-content-wrapper",children:[x&&y.jsx("span",{className:"diacritic-marker",children:"^"}),C||""]})},v)})})})]})}function Ci(n){return n.find(o=>o.type==="start")||null}function Jw(n){return n?.type==="accept"}function tr(n){return n?.data?.label||n?.id||""}function e3(n,o,i){const l=i.filter(a=>a.source===n);for(const a of l){const d=(a.data?.labels||[]).find(f=>f.read===o||f.read===""&&o==="");if(d)return{edgeId:a.id,toNodeId:a.target,rule:d}}return null}function t3(n){return n===null}function a0({currentNodeId:n,tape:o,head:i,nodes:l,edges:a,stepCount:c=0}){const d=o[i]||"",f=e3(n,d,a);if(t3(f))return{halted:!0,reason:"No transition defined",read:d,fromNodeId:n,stepCount:c};const{toNodeId:h,rule:m,edgeId:g}=f,v=l.find(x=>x.id===h);return{halted:!1,read:d,write:m.write,direction:m.direction,fromNodeId:n,toNodeId:h,edgeId:g,isAccept:Jw(v),rule:m,stepCount:c+1}}function n3(n){return n?.type==="accept"}function r3(n,o,i){const l=i.filter(c=>c.source===n),a=o.length;for(const c of l){const f=(c.data?.labels||[]).find(h=>{for(let m=0;m<a;m++){const g=`tape${m+1}`,v=h[g],x=o[m];if(v&&v.read!==x&&!(v.read===""&&x===""))return!1}return!0});if(f)return{edgeId:c.id,toNodeId:c.target,rule:f}}return null}function u0({currentNodeId:n,tapes:o,heads:i,nodes:l,edges:a,stepCount:c=0}){const d=i.map((C,N)=>o[N][C]||""),f=r3(n,d,a);if(!f)return{halted:!0,reason:"No transition defined",reads:d,fromNodeId:n,stepCount:c};const{toNodeId:h,rule:m,edgeId:g}=f,v=l.find(C=>C.id===h),x=[],S=[];for(let C=0;C<o.length;C++){const N=`tape${C+1}`,T=m[N];T?(x.push(T.write),S.push(T.direction)):(x.push(d[C]||""),S.push("N"))}return{halted:!1,reads:d,writes:x,directions:S,fromNodeId:n,toNodeId:h,edgeId:g,isAccept:n3(v),rule:m,stepCount:c+1}}const Nu=[[0,100,50],[180,100,40],[280,100,55],[60,100,40],[210,100,50],[120,100,40],[300,100,50],[30,100,50],[240,100,55],[150,100,40],[330,100,55],[190,100,45],[260,100,60],[15,100,50],[90,100,45],[200,100,50],[45,100,45],[315,100,55],[255,100,55],[345,100,50]];function o3(n){let o=2166136261;for(let i=0;i<n.length;i++)o^=n.charCodeAt(i),o=Math.imul(o,16777619);return o>>>0}function c0(n){const o=o3(n),l=n.split(".").length*11,a=(o+l)%Nu.length;let[c,d,f]=Nu[a];const h=Math.floor((o+l)/Nu.length);if(h>0){c=(c+h*137.5)%360;const m=h%2===0?15:-10;f=Math.max(35,Math.min(75,f+m))}return`hsl(${c}, ${d}%, ${f}%)`}function Ip(n){return n&&n.type==="accept"}function i3(n,o,i){const l=i.filter(c=>c.source===n),a=[];for(const c of l)(c.data?.labels||[]).forEach(f=>{(f.read===o||f.read===""&&o==="")&&a.push({edgeId:c.id,toNodeId:c.target,rule:f})});return a}function d0({threads:n,nodes:o,edges:i}){const l=[];let a=!1;return n.forEach(c=>{if(c.status!=="active"){l.push(c);return}const d=c.tape[c.head]||"",f=i3(c.currentNodeId,d,i);if(f.length===0)l.push({...c,status:"rejected",lastStepInfo:"No transition"});else if(f.length===1){const h=f[0],m=o.find(T=>T.id===h.toNodeId),g=Ip(m);g&&(a=!0);let v=[...c.tape];const x=h.rule.write;v[c.head]=x;let S=c.head;h.rule.direction==="R"&&S++,h.rule.direction==="L"&&S--;const C=15,N=20;if(S<C)v=[...Array(N).fill(""),...v],S+=N;else if(S>=v.length-C){const T=Array(N).fill("");v=[...v,...T]}l.push({...c,tape:v,head:S,currentNodeId:h.toNodeId,activeEdgeId:h.edgeId,lastRead:d,lastRule:h.rule,status:g?"accepted":"active",stepCount:(c.stepCount||0)+1,history:[...c.history||[],h.toNodeId],color:c.color})}else l.push({...c,status:"frozen"}),f.forEach((h,m)=>{const g=o.find(A=>A.id===h.toNodeId),v=Ip(g);v&&(a=!0);let x=[...c.tape];const S=h.rule.write===""?"":h.rule.write;x[c.head]=S;let C=c.head;h.rule.direction==="R"&&C++,h.rule.direction==="L"&&C--;const N=15,T=25;if(C<N)x=[...Array(T).fill(""),...x],C+=T;else if(C>=x.length-N){const A=Array(T).fill("");x=[...x,...A]}const _=`${c.id}.${m+1}`;l.push({id:_,parentId:c.id,tape:x,head:C,currentNodeId:h.toNodeId,activeEdgeId:h.edgeId,lastRead:d,lastRule:h.rule,status:v?"accepted":"active",stepCount:(c.stepCount||0)+1,history:[...c.history||[],h.toNodeId],color:c0(_)})})}),{threads:l,globalAccept:a}}const xi=200;function s3({tape:n,head:o,activeNodeId:i,activeEdgeId:l,lastRead:a,stepCount:c,nodes:d,edges:f}){const h=Ci(d);if(!h)return{error:"No Start Node"};let m=[...n],g=o,v=i||h.id,x=c,S=!1,C=!1,N=null,T=l,_=a;for(;!S&&x<xi;){const D=a0({currentNodeId:v,tape:m,head:g,nodes:d,edges:f,stepCount:x});if(D.halted){N=D.reason,x=D.stepCount||x,S=!0;break}m[g]=D.write;let R=g;D.direction==="R"&&R++,D.direction==="L"&&R--;const L=15,W=25;if(R<L?(m=[...Array(W).fill(""),...m],R+=W):R>=m.length-L&&(m=[...m,...Array(W).fill("")]),g=R,v=D.toNodeId,T=D.edgeId,_=D.read,x=D.stepCount,D.isAccept){C=!0,S=!0;break}}const A=!S&&x>=xi;return{tape:m,head:g,activeNodeId:v,activeEdgeId:T,lastRead:_,stepCount:x,success:C,error:N||(A?"Timeout: max steps reached":null)}}function l3({tapes:n,heads:o,activeNodeId:i,activeEdgeId:l,lastRead:a,stepCount:c,numTapes:d,nodes:f,edges:h}){const m=Ci(f);if(!m)return{error:"No Start Node"};let g=n.map(R=>[...R]),v=[...o],x=i||m.id,S=c,C=!1,N=!1,T=null,_=l,A=a;for(;!C&&S<xi;){const R=u0({currentNodeId:x,tapes:g,heads:v,nodes:f,edges:h,stepCount:S});if(R.halted){T=R.reason,S=R.stepCount||S,C=!0;break}for(let L=0;L<d;L++){g[L][v[L]]=R.writes[L],R.directions[L]==="R"&&v[L]++,R.directions[L]==="L"&&v[L]--;const W=6,V=6;v[L]<W?(g[L]=[...Array(V).fill(""),...g[L]],v[L]+=V):v[L]>=g[L].length-W&&(g[L]=[...g[L],...Array(V).fill("")])}if(x=R.toNodeId,_=R.edgeId,A=R.reads,S=R.stepCount,R.isAccept){N=!0,C=!0;break}}const D=!C&&S>=xi;return{tapes:g,heads:v,activeNodeId:x,activeEdgeId:_,lastRead:A,stepCount:S,success:N,error:T||(D?"Timeout: max steps reached":null)}}function a3({threads:n,stepCount:o,nodes:i,edges:l}){const a=i.find(h=>h.type==="start")||null;if(!a)return{threads:n.map(h=>({...h,status:"rejected",reason:"No Start Node"})),stepCount:o,success:!1};let c=n,d=o,f=!1;for(d===0&&c.length>0&&c[0].currentNodeId===null&&(c=[{...c[0],currentNodeId:a.id}]);d<xi&&c.filter(g=>g.status==="active").length!==0;){const m=d0({threads:c,nodes:i,edges:l});if(c=m.threads,d++,m.globalAccept){f=!0;break}}return{threads:c,stepCount:d,success:f}}const u3=(n=13)=>{const o=Math.floor(n/2),[i,l]=b.useState(Array(n).fill("")),[a,c]=b.useState(o),[d,f]=b.useState(null),[h,m]=b.useState(null),[g,v]=b.useState(null),[x,S]=b.useState(0),[C,N]=b.useState(null),[T,_]=b.useState(!1),[A,D]=b.useState([]),R=b.useCallback(()=>{l(Array(n).fill("")),c(o),f(null),m(null),v(null),S(0),N(null),_(!1),D([])},[n,o]),L=b.useCallback(()=>{D(G=>{if(G.length===0)return G;const F=G[G.length-1];return l(F.tape),c(F.head),f(F.activeNodeId),m(F.activeEdgeId),v(F.lastRead),S(F.stepCount),N(null),_(!1),G.slice(0,-1)})},[]),W=b.useCallback((G,F)=>{if(C||T)return;let Y=d;if(!Y){const I=Ci(G);if(!I){N("No Start Node");return}D(H=>[...H,{tape:[...i],head:a,activeNodeId:null,activeEdgeId:null,lastRead:null,stepCount:x}]),f(I.id);return}const U=a0({currentNodeId:Y,tape:i,head:a,nodes:G,edges:F,stepCount:x});if(U.halted){m(null),N(U.reason),S(U.stepCount||x);return}D(I=>[...I,{tape:[...i],head:a,activeNodeId:Y,activeEdgeId:h,lastRead:g,stepCount:x}]);let Q=[...i];Q[a]=U.write;let K=a;U.direction==="R"&&K++,U.direction==="L"&&K--;const E=15,j=25;K<E?(Q=[...Array(j).fill(""),...Q],K+=j):K>=Q.length-E&&(Q=[...Q,...Array(j).fill("")]),l(Q),c(K),f(U.toNodeId),m(U.edgeId),v(U.read),S(U.stepCount),U.isAccept&&_(!0)},[d,h,C,T,i,a,g,x]),V=b.useCallback(G=>{l(G.tape),c(G.head),f(G.activeNodeId),m(G.activeEdgeId),v(G.lastRead),S(G.stepCount),D([]),G.success?_(!0):G.error&&N(G.error)},[]);return{tape:i,head:a,activeNodeId:d,activeEdgeId:h,lastRead:g,stepCount:x,error:C,success:T,setTape:l,setHead:c,stepForward:W,stepBack:L,reset:R,flushRunToEnd:V,canUndo:A.length>0}},c3=(n=13,o=2)=>{const i=Math.floor(n/2),[l,a]=b.useState(Array.from({length:o},()=>Array(n).fill(""))),[c,d]=b.useState(Array(o).fill(i)),[f,h]=b.useState(null),[m,g]=b.useState(null),[v,x]=b.useState(Array(o).fill(null)),[S,C]=b.useState(0),[N,T]=b.useState(null),[_,A]=b.useState(!1),[D,R]=b.useState([]),L=b.useCallback(()=>{a(Array.from({length:o},()=>Array(n).fill(""))),d(Array(o).fill(i)),h(null),g(null),x(Array(o).fill(null)),C(0),T(null),A(!1),R([])},[n,i,o]),W=b.useCallback(()=>{R(F=>{if(F.length===0)return F;const Y=F[F.length-1];return a(Y.tapes),d(Y.heads),h(Y.activeNodeId),g(Y.activeEdgeId),x(Y.lastRead),C(Y.stepCount),T(null),A(!1),F.slice(0,-1)})},[]),V=b.useCallback((F,Y)=>{if(N||_)return;let U=f;if(!U){const j=Ci(F);if(!j){T("No Start Node");return}R(I=>[...I,{tapes:l.map(H=>[...H]),heads:[...c],activeNodeId:null,activeEdgeId:null,lastRead:Array(o).fill(null),stepCount:S}]),h(j.id);return}const Q=u0({currentNodeId:U,tapes:l,heads:c,nodes:F,edges:Y,stepCount:S});if(Q.halted){g(null),T(Q.reason),C(Q.stepCount||S);return}R(j=>[...j,{tapes:l.map(I=>[...I]),heads:[...c],activeNodeId:U,activeEdgeId:m,lastRead:v,stepCount:S}]);const K=l.map(j=>[...j]),E=[...c];for(let j=0;j<o;j++){K[j][E[j]]=Q.writes[j],Q.directions[j]==="R"&&E[j]++,Q.directions[j]==="L"&&E[j]--;const I=6,H=6;E[j]<I?(K[j]=[...Array(H).fill(""),...K[j]],E[j]+=H):E[j]>=K[j].length-I&&(K[j]=[...K[j],...Array(H).fill("")])}a(K),d(E),h(Q.toNodeId),g(Q.edgeId),x(Q.reads),C(Q.stepCount),Q.isAccept&&A(!0)},[f,m,N,_,l,c,v,S,o]),G=b.useCallback(F=>{a(F.tapes),d(F.heads),h(F.activeNodeId),g(F.activeEdgeId),x(F.lastRead),C(F.stepCount),R([]),F.success?A(!0):F.error&&T(F.error)},[]);return{tapes:l,heads:c,activeNodeId:f,activeEdgeId:m,lastRead:v,stepCount:S,error:N,success:_,setTapes:a,setHeads:d,stepForward:V,stepBack:W,reset:L,flushRunToEnd:G,canUndo:D.length>0}},d3=(n=13)=>{const[o,i]=b.useState([]),[l,a]=b.useState(0),[c,d]=b.useState(!1),[f,h]=b.useState([]),m=b.useCallback((C,N)=>{i([{id:"1",tape:[...C],head:N,currentNodeId:null,status:"active",stepCount:0,history:[],color:c0("1")}]),d(!1),a(0),h([])},[]),g=b.useCallback((C,N)=>{if(c)return;h(R=>[...R,{threads:o,stepCount:l,success:c}]);let T=o;const _=C.find(R=>R.type==="start")||null;if(l===0&&o.length>0&&o[0].currentNodeId===null){if(!_){i(R=>R.map(L=>({...L,status:"rejected",reason:"No Start Node"})));return}T=[{...o[0],currentNodeId:_.id}]}const{threads:A,globalAccept:D}=d0({threads:T,nodes:C,edges:N});i(A),a(R=>R+1),D&&d(!0)},[o,l,c]),v=b.useCallback(()=>{h(C=>{if(C.length===0)return C;const N=C[C.length-1];return i(N.threads),a(N.stepCount),d(N.success),C.slice(0,-1)})},[]),x=b.useCallback(()=>{i([]),a(0),d(!1),h([])},[]),S=b.useCallback(C=>{i(C.threads),a(C.stepCount),h([]),C.success&&d(!0)},[]);return{threads:o,setInitialThread:m,stepForward:g,stepBack:v,reset:x,flushRunToEnd:S,canUndo:f.length>0,success:c,stepCount:l}},Lp=40;function f3({nodes:n,edges:o,setNodes:i,activeNodeId:l,setActiveNodeId:a,setActiveEdgeId:c,setCurrentSymbol:d,setStepCount:f,loadedInput:h,validAlphabet:m,engine:g,isRunning:v,setIsRunning:x}){const S=g==="MultiTape",C=g==="NonDeterministic",[N,T]=b.useState(!1),[_,A]=b.useState(!1),D=b.useMemo(()=>{if(!S)return 1;let ce=2;return o.forEach(pe=>{pe.data?.labels?.forEach(fe=>{Object.keys(fe).forEach(Te=>{if(Te.startsWith("tape")){const $e=parseInt(Te.replace("tape",""),10);isNaN($e)||(ce=Math.max($e,ce))}})})}),ce},[o,S]),R=u3(13),L=c3(13,D),W=d3(13);let V;C?V=W:S?V=L:V=R;const{error:G,success:F,stepForward:Y,stepBack:U,reset:Q,flushRunToEnd:K,canUndo:E,stepCount:j}=V,{setTape:I,setHead:H}=R,{setTapes:P,setHeads:$}=L,{setInitialThread:X}=W,[k,O]=b.useState(h||""),[oe,ie]=b.useState(!1),[ge,q]=b.useState(null),[le,me]=b.useState(1),Ne=!!(G||F||oe);b.useEffect(()=>{h!==void 0&&(O(h),Q())},[h,Q]),b.useEffect(()=>{if(!k){q(null);return}const pe=k.split("").filter(fe=>!m.has(fe));pe.length>0?q(`Invalid: ${[...new Set(pe)].join(", ")}`):q(null)},[k,m]),b.useEffect(()=>{if(n&&i&&!v){const ce=n.find(pe=>pe.type==="start");ce&&ce.data.input!==k&&i(pe=>pe.map(fe=>fe.type==="start"?{...fe,data:{...fe.data,input:k}}:fe))}},[k,n,i,v]),b.useEffect(()=>{if(C)a(V.threads),c(null),d(""),f(j);else{a(V.activeNodeId),c(V.activeEdgeId);const ce=S&&Array.isArray(V.lastRead)?V.lastRead.join(","):V.lastRead!==null?V.lastRead:"";d(ce),f(j)}},[V.activeNodeId,V.threads,V.activeEdgeId,V.lastRead,j,a,c,d,f,S,C]);const ye=b.useCallback(()=>{if(ge)return;const ce=50,pe=Math.floor(ce/2),fe=k.split(""),Te=Math.max(ce,pe+fe.length),$e=Array(Te).fill("");if(fe.forEach((je,Oe)=>{$e[pe+Oe]=je}),C)X($e,pe);else if(S){const je=[$e];for(let Oe=1;Oe<D;Oe++)je.push(Array(Te).fill(""));P(je),$(Array(D).fill(pe))}else I($e),H(pe)},[k,ge,S,C,D,X,P,$,I,H]);b.useEffect(()=>{!E&&j===0&&ye()},[k,ye,E,j]),b.useEffect(()=>{if(!v)return;const ce=1e3/le,pe=setInterval(()=>{if(j>=200){x(!1),ie(!0);return}C?V.success||!V.threads.some(fe=>fe.status==="active")&&j>0?x(!1):Y(n,o):!G&&!F?Y(n,o):x(!1)},ce);return()=>clearInterval(pe)},[v,G,F,j,Y,n,o,le,C,V.threads,V.success]);const Me=ce=>{if(!ce)return"START";const pe=n.find(fe=>fe.id===ce);return tr(pe)||"S?"},We=()=>{x(!1),ie(!1),Q(),setTimeout(ye,0)},Ae=200,Ve=b.useCallback(()=>{x(!1),ie(!1);const ce=pe=>{if(C){const fe=a3({threads:pe.threads,stepCount:pe.stepCount,nodes:n,edges:o});K(fe),(fe.threads?fe.threads.some($e=>$e.status==="active")&&fe.stepCount>=Ae:fe.stepCount>=Ae)&&ie(!0)}else if(S){const fe=l3({tapes:pe.tapes,heads:pe.heads,activeNodeId:pe.activeNodeId,activeEdgeId:pe.activeEdgeId,lastRead:pe.lastRead,stepCount:pe.stepCount,numTapes:D,nodes:n,edges:o});K(fe),fe.stepCount>=Ae&&!fe.halted&&!fe.isAccept&&ie(!0)}else{const fe=s3({tape:pe.tape,head:pe.head,activeNodeId:pe.activeNodeId,activeEdgeId:pe.activeEdgeId,lastRead:pe.lastRead,stepCount:pe.stepCount,nodes:n,edges:o});K(fe),fe.stepCount>=Ae&&!fe.halted&&!fe.isAccept&&ie(!0)}};j===0&&!E?(ye(),setTimeout(()=>ce(V),0)):ce(V)},[V,C,S,D,n,o,K,j,E,ye,x]),Fe=()=>{x(!1),ie(!1),O(""),Q();const ce=Array(50).fill(""),pe=25;C?X(ce,pe):S?(P(Array.from({length:D},()=>[...ce])),$(Array(D).fill(pe))):(I(ce),H(pe))},ne=()=>{alert(oe?"Rejected: Execution timed out (Max steps reached).":G?`Rejected: ${G}`:"Rejected: Machine halted in a non-accepting state.")},se=m.size>0?[...m].sort().join(", "):"",te=()=>{let ce="active",pe="Ready";return F?(ce="accepted",pe=" Accepted"):G||oe?(ce="rejected",pe=" Rejected "):v&&(ce="active",pe=" Running"),y.jsx("div",{className:"thread-list-container",style:{width:"90%",border:"none",gap:"20px"},children:S?V.tapes.map((fe,Te)=>y.jsx("div",{className:"thread-tree-row",style:{width:"100%"},children:y.jsxs("div",{className:`thread-card ${ce} tree-card`,style:{width:"100%",marginTop:"0px"},children:[y.jsxs("div",{className:"thread-header",children:[y.jsxs("div",{className:"thread-id-info",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:"#e8d71a",border:"1px solid rgba(0,0,0,0.1)"}}),y.jsxs("span",{className:"thread-name",children:["Tape ",Te+1]})]}),y.jsxs("span",{className:"thread-meta",children:["(Step ",j,")"]})]}),y.jsx("span",{className:`thread-status-badge ${ce}`,style:{cursor:ce==="rejected"?"pointer":"default"},onClick:()=>ce==="rejected"&&ne(),title:ce==="rejected"?"Click for reason":"",children:pe})]}),y.jsx(ol,{tape:fe,head:V.heads[Te],activeLabel:Me(V.activeNodeId),cellSize:Lp,width:"100%"})]})},Te)):y.jsx("div",{className:"thread-tree-row",style:{width:"100%"},children:y.jsxs("div",{className:`thread-card ${ce} tree-card`,style:{width:"100%",marginTop:"0"},children:[y.jsxs("div",{className:"thread-header",children:[y.jsxs("div",{className:"thread-id-info",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:"#e8d71a",border:"1px solid rgba(0,0,0,0.1)"}}),y.jsx("span",{className:"thread-name",children:"Tape"})]}),y.jsxs("span",{className:"thread-meta",children:["(Step ",j,")"]})]}),y.jsx("span",{className:`thread-status-badge ${ce}`,style:{cursor:ce==="rejected"?"pointer":"default"},onClick:()=>ce==="rejected"&&ne(),title:ce==="rejected"?"Click for reason":"",children:pe})]}),y.jsx(ol,{tape:V.tape,head:V.head,activeLabel:Me(V.activeNodeId),cellSize:Lp,width:"100%"})]})})})},Se=()=>{const pe=V.threads.filter(fe=>!!(fe.status==="active"||fe.status==="accepted"||fe.status==="frozen"&&N||fe.status==="rejected"&&_)).sort((fe,Te)=>fe.id.localeCompare(Te.id,void 0,{numeric:!0}));return y.jsxs("div",{className:"thread-list-wrapper",style:{width:"90%"},children:[y.jsxs("div",{className:"ntm-view-controls",style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"0.9rem",color:"#555",width:"90%",maxWidth:"1200px",margin:"0 auto 10px auto"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:N,onChange:fe=>T(fe.target.checked),style:{marginRight:"6px"}}),"Show History (Frozen)"]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:_,onChange:fe=>A(fe.target.checked),style:{marginRight:"6px"}}),"Show Rejected"]})]}),y.jsxs("div",{className:"thread-list-container",style:{padding:"15px"},children:[!_&&V.threads.some(fe=>fe.reason==="No Start Node")?y.jsx("div",{className:"empty-threads",children:"No Start Node found in diagram."}):!_&&pe.length===0&&j>0&&y.jsx("div",{className:"empty-threads",children:"All threads rejected (Hidden)."}),pe.map(fe=>{const Te=fe.id.split(".").length-1,$e=Te*35,je=Te>0,Oe=fe.status==="active"&&oe,Ue=Oe?"rejected":fe.status;return y.jsxs("div",{className:"thread-tree-row",style:{marginLeft:`${$e}px`},children:[je&&y.jsx("div",{className:"tree-connector"}),y.jsxs("div",{className:`thread-card ${Ue} tree-card`,children:[y.jsxs("div",{className:"thread-header",children:[y.jsxs("div",{className:"thread-id-info",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:fe.color||"#e6194b",border:"1px solid rgba(0,0,0,0.1)"}}),y.jsxs("span",{className:"thread-name",children:["Thread ",fe.id]})]}),y.jsx("span",{className:"thread-meta",children:fe.status==="frozen"?` (Split at Step ${fe.stepCount})`:` (Step ${fe.stepCount})`})]}),y.jsx("span",{className:`thread-status-badge ${Ue==="active"?"active":Ue}`,style:{cursor:Ue==="rejected"?"pointer":"default"},onClick:()=>{Oe?alert("Rejected: Execution timed out (Max steps reached)."):fe.status==="rejected"&&alert(fe.reason||"Thread halted at non-accepting state.")},children:Oe?" TIME OUT":fe.status==="active"?j===0&&!v?"READY":" RUNNING":fe.status==="frozen"?" SPLIT":fe.status==="accepted"?" ACCEPTED":" REJECTED"})]}),y.jsx(ol,{tape:fe.tape,head:fe.head,activeLabel:Me(fe.currentNodeId),cellSize:40,width:"100%"})]})]},fe.id)})]})]})};return y.jsxs("div",{className:"tape-container",children:[C?Se():te(),y.jsxs("div",{className:"controls-row",children:[y.jsxs("div",{className:"input-wrapper",children:[y.jsx("input",{className:`tape-input ${ge?"error":""}`,type:"text",value:k,onChange:ce=>O(ce.target.value),disabled:v||Ne||E,placeholder:"Input string..."}),y.jsxs("div",{className:"alphabet-label",children:[": ",y.jsx("span",{children:`{ ${se} }`})]})]}),y.jsx(l0,{onStepForward:()=>{x(!1),oe||Y(n,o)},onStepBack:()=>{x(!1),ie(!1),U()},onStart:()=>{!Ne&&!ge&&x(!0)},onStop:()=>x(!1),onSkipToStart:We,onSkipToEnd:Ve,onClear:Fe,isRunning:v,isFinished:Ne||!!ge,canUndo:E}),y.jsxs("div",{className:"speed-control",children:[y.jsxs("label",{children:["Speed: ",le,"x"]}),y.jsx("input",{type:"range",min:"0.25",max:"2",step:"0.25",value:le,onChange:ce=>me(Number(ce.target.value))})]})]})]})}function p3(){return y.jsxs("div",{className:"node-menu",children:[y.jsxs("div",{className:"node-container",draggable:!0,onDragStart:n=>n.dataTransfer.setData("node-type","start"),children:[y.jsx("span",{className:"arrow",children:""}),y.jsx("div",{className:"node start"})]}),y.jsx("div",{className:"node-container",draggable:!0,onDragStart:n=>n.dataTransfer.setData("node-type","normal"),children:y.jsx("div",{className:"node normal"})}),y.jsx("div",{className:"node-container",draggable:!0,onDragStart:n=>n.dataTransfer.setData("node-type","accept"),children:y.jsx("div",{className:"node accept",children:y.jsx("div",{className:"inner-circle"})})})]})}function h3({handleClearAll:n,Undo:o,Redo:i,handleExport:l,handleImport:a,canUndo:c,canRedo:d,isLocked:f,engine:h,onConvert:m}){const g=b.useRef(null),v=()=>{f||g.current?.click()},x=S=>{const C=S.target.files?.[0];if(!C)return;const N=new FileReader;N.onload=T=>{try{const _=JSON.parse(T.target.result);a(_)}catch(_){console.error("Error parsing JSON:",_),alert("Failed to load file. Please ensure it is a valid JSON file.")}},N.readAsText(C),S.target.value=""};return y.jsxs("div",{className:"diagram-controls",children:[y.jsxs("div",{className:"history-controls",children:[y.jsx("button",{onClick:o,disabled:!c||f,children:""}),y.jsx("button",{onClick:i,disabled:!d||f,children:""})]}),y.jsx("button",{onClick:n,disabled:f,style:f?{opacity:.5,cursor:"not-allowed"}:{},children:"Clear All"}),y.jsx("button",{onClick:l,disabled:f,children:"Export JSON"}),y.jsx("button",{onClick:v,disabled:f,children:"Import JSON"}),y.jsx("input",{type:"file",accept:".json",ref:g,style:{display:"none"},onChange:x}),h==="MultiTape"&&y.jsx("button",{onClick:()=>m("combined"),className:"Convert-btn",children:"Single-Tape View"})]})}function ic(n,o){b.useEffect(()=>{const i=requestAnimationFrame(()=>{const l=n.current,a=l?.parentElement;if(!l||!a||a.clientWidth===0||a.clientHeight===0)return;const c=8,d=16;let f=c,h=d,m=c;for(;f<=h;){const g=(f+h)/2;l.style.fontSize=`${g}px`,l.scrollWidth<=a.clientWidth&&l.scrollHeight<=a.clientHeight?(m=g,f=g+.5):h=g-.5}l.style.fontSize=`${m}px`});return()=>cancelAnimationFrame(i)},[o])}function sc({showLeft:n}){return y.jsxs(y.Fragment,{children:[n&&y.jsx(st,{type:"target",position:xe.Left,id:"L",style:{left:"4%",top:"50%",transform:"translate(-50%, -50%)"}}),n&&y.jsx(st,{type:"source",position:xe.Left,id:"L",style:{left:"4%",top:"50%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Right,id:"R",style:{left:"96%",top:"50%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Right,id:"R",style:{left:"96%",top:"50%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Top,id:"T",style:{left:"50%",top:"4%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Top,id:"T",style:{left:"50%",top:"4%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Bottom,id:"B",style:{left:"50%",top:"96%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Bottom,id:"B",style:{left:"50%",top:"96%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Top,id:"TL",style:{left:"18%",top:"18%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Top,id:"TL",style:{left:"18%",top:"18%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Top,id:"TR",style:{left:"82%",top:"18%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Top,id:"TR",style:{left:"82%",top:"18%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Bottom,id:"BL",style:{left:"18%",top:"82%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Bottom,id:"BL",style:{left:"18%",top:"82%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"target",position:xe.Bottom,id:"BR",style:{left:"82%",top:"82%",transform:"translate(-50%, -50%)"}}),y.jsx(st,{type:"source",position:xe.Bottom,id:"BR",style:{left:"82%",top:"82%",transform:"translate(-50%, -50%)"}})]})}function f0({data:n={}}){const o=b.useRef(null);ic(o,n.label);const i=n.threadColors||[];let l={};return n.isActive&&(i.length===0?l={borderColor:"#e8d71a",borderWidth:"3px"}:i.length===1?l={borderColor:i[0],borderWidth:"3px"}:l={borderColor:"black",borderWidth:"2px"}),y.jsxs("div",{className:`node start ${n.isActive?"active":""}`,style:l,children:[y.jsx("span",{className:"arrow",children:""}),i.length>1&&i.map((a,c)=>y.jsx("div",{className:"node-ring",style:{borderColor:a,width:`${50+c*8}px`,height:`${50+c*8}px`,zIndex:-c}},c)),y.jsx("div",{className:"node-body",children:n?.label&&y.jsx("div",{ref:o,className:"node-label",children:n.label})}),y.jsx(sc,{showLeft:!1})]})}function p0({data:n={}}){const o=b.useRef(null);ic(o,n.label);const i=n.threadColors||[];let l={};return n.isActive&&(i.length===0?l={borderColor:"#e8d71a",borderWidth:"3px"}:i.length===1?l={borderColor:i[0],borderWidth:"3px"}:l={borderColor:"black",borderWidth:"2px"}),y.jsxs("div",{className:`node normal ${n.isActive?"active":""}`,style:l,children:[i.length>1&&i.map((a,c)=>y.jsx("div",{className:"node-ring",style:{borderColor:a,width:`${50+c*8}px`,height:`${50+c*8}px`,zIndex:-c}},c)),y.jsx("div",{className:"node-body",children:n?.label&&y.jsx("div",{ref:o,className:"node-label",children:n.label})}),y.jsx(sc,{showLeft:!0})]})}function h0({data:n={}}){const o=b.useRef(null);ic(o,n.label);const i=n.threadColors||[];let l={};return n.isActive&&(i.length===0?l={borderColor:"#e8d71a",borderWidth:"3px"}:i.length===1?l={borderColor:i[0],borderWidth:"3px"}:l={borderColor:"black",borderWidth:"2px"}),y.jsxs("div",{className:`node accept ${n.isActive?"active":""}`,style:l,children:[i.length>1&&i.map((a,c)=>y.jsx("div",{className:"node-ring",style:{borderColor:a,width:`${50+c*8}px`,height:`${50+c*8}px`,zIndex:-c}},c)),y.jsx("div",{className:"node-body",children:y.jsx("div",{className:"inner-circle",children:n?.label&&y.jsx("div",{ref:o,className:"node-label",children:n.label})})}),y.jsx(sc,{showLeft:!0})]})}const g0=b.createContext(null);function g3(n){return n?n.includes("B")?"bottom":n.includes("T")?"top":n.includes("L")?"left":n.includes("R")?"right":"top":"top"}function m3(n,o,i,l,a,c,d){if(n===i&&o===l)return{cx:a,cy:c};const f=(a-(1-d)**2*n-d**2*i)/(2*d*(1-d)),h=(c-(1-d)**2*o-d**2*l)/(2*d*(1-d));return{cx:f,cy:h}}function m0({id:n,source:o,target:i,sourceX:l,sourceY:a,targetX:c,targetY:d,sourceHandleId:f,markerEnd:h,data:m,selected:g}){const{setEdges:v,getZoom:x,getEdge:S}=mo(),C=b.useContext(g0),N=S(n),T=o===i,_=T?g3(f):"top",A=N?.data?.t??.5,D=N?.data?.dxOffset??0,R=N?.data?.dyOffset??0,L=m?.stepCount,W=m?.threadColors||[],V=m?.activeThreads||[];let G,F,Y;if(T){let j=l,I=a;_==="top"&&(I-=60),_==="bottom"&&(I+=60),_==="left"&&(j-=60),_==="right"&&(j+=60),G=j+D,F=I+R;const H={x:l,y:a},P={x:c,y:d},$={x:G,y:F},X=45;let k={x:$.x,y:$.y};const O=H.x>P.x,oe=H.y>P.y;_==="top"||_==="bottom"?O?k.x+=X:k.x-=X:oe?k.y+=X:k.y-=X;const ie={x:($.x-.125*H.x-.375*k.x-.125*P.x)/.375,y:($.y-.125*H.y-.375*k.y-.125*P.y)/.375};Y=`M${H.x},${H.y} C${k.x},${k.y} ${ie.x},${ie.y} ${P.x},${P.y}`}else{G=N?.data?.px!==void 0?N.data.px+D:l*(1-A)+c*A+D,F=N?.data?.py!==void 0?N.data.py+R:a*(1-A)+d*A+R;const{cx:E,cy:j}=m3(l,a,c,d,G,F,A);Y=`M${l},${a} Q${E},${j} ${c},${d}`}const U=b.useCallback(E=>{E.stopPropagation();const j=E.target;j.setPointerCapture(E.pointerId);const I=x(),H=E.clientX,P=E.clientY,$=D,X=R;C&&C();const k=oe=>{const ie=(oe.clientX-H)/I,ge=(oe.clientY-P)/I;v(q=>q.map(le=>le.id!==n?le:{...le,data:{...le.data,dxOffset:$+ie,dyOffset:X+ge}}))},O=oe=>{j.releasePointerCapture(oe.pointerId),j.removeEventListener("pointermove",k),j.removeEventListener("pointerup",O)};j.addEventListener("pointermove",k),j.addEventListener("pointerup",O)},[n,D,R,v,x,C]),Q=N?.data?.labels??[],K=16;return y.jsxs(y.Fragment,{children:[W.length>0?W.map((E,j)=>{const I=3+(W.length-1-j)*3,H=j===W.length-1;return y.jsx("path",{d:Y,className:"edge-path active-thread",style:{stroke:E,strokeWidth:I,transition:"stroke-width 0.2s, stroke 0.2s",fill:"none"},markerEnd:H?h:void 0},`edge-${j}`)}):y.jsx("path",{d:Y,className:`edge-path ${g?"selected":""} ${m?.isActive?"active":""}`,markerEnd:h},`path-${n}-${L}`),y.jsx("path",{d:Y,className:"edge-hitbox"}),Q.map((E,j)=>{let I="",H=!1,P=[];const $=Object.keys(E).filter(q=>q.startsWith("tape")).sort();if($.length>0?I=`(${$.map(le=>{const me=E[le];return`${me.read},${me.write},${me.direction}`}).join(" : ")})`:I=`${E.read}, ${E.write}, ${E.direction}`,V.length>0){const q=V.filter(le=>le.lastRule?JSON.stringify(le.lastRule)===JSON.stringify(E):!1);q.length>0&&(H=!0,P=q.map(le=>le.color))}else if(m?.isActive)if($.length>0){if(m.activeSymbol){const q=m.activeSymbol.split(",");let le=!0;$.forEach((me,Ne)=>{const ye=E[me],Me=q[Ne]||"";ye.read!==Me&&!(ye.read===""&&Me==="")&&(le=!1)}),H=le}}else H=E.read===m.activeSymbol||E.read===""&&m.activeSymbol==="";let X=G,k=F;const O=Q.length*K,oe=F-O/2+j*K+K/2;_==="top"?k=F-15-j*K:_==="bottom"?k=F+25+j*K:_==="left"?(X=G-25,k=oe):_==="right"?(X=G+25,k=oe):k=F-15-j*K;const ie=I.length*7,ge=X+ie/2+8;return y.jsxs("g",{style:{pointerEvents:"none",userSelect:"none"},children:[y.jsx("text",{x:X,y:k,textAnchor:"middle",stroke:"white",strokeWidth:"4",fontSize:12,fontWeight:H?"bold":"normal",children:I}),y.jsx("text",{x:X,y:k,textAnchor:"middle",fill:H&&P.length===0?"#e8d71a":"black",fontSize:12,fontWeight:H?"bold":"normal",children:I}),H&&P.length>0&&y.jsx("g",{children:P.map((q,le)=>y.jsx("circle",{cx:ge+le*10,cy:k-4,r:4,fill:q,stroke:"white",strokeWidth:"1"},`badge-${le}`))})]},`${j}-${L}`)}),g&&y.jsx("circle",{className:"edge-handle",cx:G,cy:F,onPointerDown:U,r:5})]})}function y3({node:n,onClose:o,onSave:i}){const l=n?.data?.label||"",[a,c]=b.useState(l),d=a.trim()==="",f=m=>{m.key==="Enter"&&!d?h():m.key==="Escape"&&o()},h=()=>{d||(i(n.id,a,n?.type),o())};return y.jsx("div",{className:"popup-overlay",onClick:o,children:y.jsxs("div",{className:"popup-menu",style:{maxWidth:"350px"},onClick:m=>m.stopPropagation(),children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("h3",{children:"Edit Node"}),y.jsx("button",{className:"close-btn",onClick:o,children:""})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Node Label:"}),y.jsx("input",{type:"text",value:a,onChange:m=>c(m.target.value),onKeyDown:f,placeholder:"e.g. S0, Accept, etc.",autoFocus:!0})]}),y.jsxs("div",{className:"popup-actions",children:[y.jsx("button",{className:"window-toggle-btn",style:{backgroundColor:d?"#f0f0f0":"#e3f2fd",color:"#000000"},onClick:h,disabled:d,children:"Save Changes"}),y.jsx("button",{className:"window-toggle-btn",onClick:o,children:"Cancel"})]})]})})}function v3({edge:n,onClose:o,onSave:i,onDelete:l,engine:a,globalTapeCount:c=2}){const d=a==="MultiTape",f=n?.data?.labels||[],[h,m]=b.useState([]),g=()=>{if(f.length>0){let Y=2;return f.forEach(U=>{Object.keys(U).forEach(Q=>{if(Q.startsWith("tape")){const K=parseInt(Q.replace("tape",""),10);isNaN(K)||(Y=Math.max(Y,K))}})}),Math.max(c,Y)}return Math.max(2,c)},[v,x]=b.useState(()=>d?g():1),[S,C]=b.useState(()=>{if(f.length>0)return f;if(d){const Y={};for(let U=1;U<=v;U++)Y[`tape${U}`]={read:"",write:"",direction:""};return[Y]}return[{read:"",write:"",direction:""}]}),N=()=>{const Y=v+1;x(Y);const U=`tape${Y}`;m(Q=>[...Q,{type:"ADD"}]),C(Q=>Q.map(K=>({...K,[U]:{read:"",write:"",direction:"N"}})))},T=Y=>{v<=2||(m(U=>[...U,{type:"DELETE",index:Y}]),x(U=>U-1),C(U=>U.map(Q=>{const K={};Object.keys(Q).forEach(j=>{j.startsWith("tape")||(K[j]=Q[j])});let E=1;for(let j=1;j<=v;j++){if(j===Y)continue;const I=`tape${j}`,H=`tape${E}`;Q[I]?K[H]=Q[I]:K[H]={read:"",write:"",direction:""},E++}return K})))},_=(Y,U,Q)=>{C(K=>K.map((E,j)=>j===Y?{...E,[U]:Q}:E))},A=(Y,U,Q,K)=>{C(E=>E.map((j,I)=>I!==Y?j:{...j,[U]:{...j[U]||{read:"",write:"",direction:""},[Q]:K}}))},D=(Y,U,Q,K=null)=>{const E=Q===""?"":"";K?A(Y,K,U,E):_(Y,U,E)},R=()=>{if(d){const Y={};for(let U=1;U<=v;U++)Y[`tape${U}`]={read:"",write:"",direction:""};C(U=>[...U,Y])}else C(Y=>[...Y,{read:"",write:"",direction:""}])},L=Y=>{S.length!==1&&C(U=>U.filter((Q,K)=>K!==Y))},W=S.every(Y=>{if(d){for(let U=1;U<=v;U++){const Q=Y[`tape${U}`];if(!Q||Q.read===""||Q.write===""||Q.direction==="")return!1}return!0}else return Y.read!==""&&Y.write!==""&&Y.direction!==""}),V=()=>{W&&(i(n.id,S,h),o())},G=()=>{!f||f.length===0?l(n.id):C(f),o()},F=({selected:Y,onClick:U,text:Q})=>y.jsx("button",{className:Y?"selected":"",onClick:U,style:{flex:1,padding:"4px",minWidth:"30px"},children:Q});return y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-menu",style:{maxWidth:d?"90vw":"320px",width:"auto"},children:[y.jsxs("h3",{children:["Edit Edge ",d]}),y.jsx("h4",{children:"check box to indicate blank"}),y.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:S.map((Y,U)=>y.jsxs("div",{className:"label-row",style:{borderBottom:"2px solid #ccc",paddingBottom:"15px",marginBottom:"15px"},children:[!d&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{children:["Read:",y.jsx("input",{type:"text",value:Y.read,onChange:Q=>_(U,"read",Q.target.value)}),y.jsx("input",{type:"checkbox",checked:Y.read==="",onChange:()=>D(U,"read",Y.read)})]}),y.jsxs("label",{children:["Write:",y.jsx("input",{type:"text",value:Y.write,onChange:Q=>_(U,"write",Q.target.value)}),y.jsx("input",{type:"checkbox",checked:Y.write==="",onChange:()=>D(U,"write",Y.write)})]}),y.jsxs("div",{className:"direction-buttons",children:[y.jsx(F,{selected:Y.direction==="L",onClick:()=>_(U,"direction","L"),text:"Left"}),a!=="Deterministic"&&y.jsx(F,{selected:Y.direction==="N",onClick:()=>_(U,"direction","N"),text:"None"}),y.jsx(F,{selected:Y.direction==="R",onClick:()=>_(U,"direction","R"),text:"Right"})]})]}),d&&y.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto",paddingBottom:"10px"},children:Array.from({length:v}).map((Q,K)=>{const E=K+1,j=`tape${E}`,I=Y[j]||{read:"",write:"",direction:""},H=v>2;return y.jsxs("div",{style:{minWidth:"150px",borderRight:K<v-1?"1px solid #ccc":"none",paddingRight:"15px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[y.jsxs("h5",{style:{margin:0},children:["Tape ",E]}),H&&y.jsx("button",{onClick:()=>T(E),title:"Delete this tape (Saved on close)",style:{background:"none",border:"none",color:"#d9534f",cursor:"pointer",fontSize:"1.2rem",fontWeight:"bold",padding:"0 5px",lineHeight:"1"},children:""})]}),y.jsxs("label",{children:["Read:",y.jsx("input",{type:"text",value:I.read,onChange:P=>A(U,j,"read",P.target.value)}),y.jsx("input",{type:"checkbox",checked:I.read==="",onChange:()=>D(U,"read",I.read,j)})]}),y.jsxs("label",{children:["Write:",y.jsx("input",{type:"text",value:I.write,onChange:P=>A(U,j,"write",P.target.value)}),y.jsx("input",{type:"checkbox",checked:I.write==="",onChange:()=>D(U,"write",I.write,j)})]}),y.jsxs("div",{className:"direction-buttons",style:{marginTop:"5px"},children:[y.jsx(F,{selected:I.direction==="L",onClick:()=>A(U,j,"direction","L"),text:"L"}),y.jsx(F,{selected:I.direction==="N",onClick:()=>A(U,j,"direction","N"),text:"N"}),y.jsx(F,{selected:I.direction==="R",onClick:()=>A(U,j,"direction","R"),text:"R"})]})]},j)})}),y.jsx("button",{className:"remove-button",onClick:()=>L(U),disabled:S.length===1,style:{marginTop:"10px"},children:"Remove Rule"})]},U))}),y.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[y.jsx("button",{className:"add-label-button",onClick:R,children:"Add new rule"}),d&&y.jsx("button",{className:"add-label-button",onClick:N,style:{backgroundColor:"#e2e6ea"},children:"+ Add Tape"})]}),!W&&y.jsx("p",{className:"warning-text",style:{visibility:W?"hidden":"visible"},children:"All boxes (Read, Write, Direction) must be filled to save."}),y.jsxs("div",{className:"popup-actions",children:[y.jsx("button",{onClick:V,disabled:!W,children:"Save"}),y.jsx("button",{onClick:G,children:"Cancel"})]})]})})}const x3=({fromX:n,fromY:o,toX:i,toY:l,fromHandleId:a})=>{const c=Math.abs(n-i)<5&&Math.abs(o-l)<5;let d;if(c){let m=n,g=o;a?.includes("T")?g-=60:a?.includes("B")?g+=60:a?.includes("L")?m-=60:a?.includes("R")?m+=60:g-=60;const v=a?.includes("T")||a?.includes("B")||!a,x={x:v?m-45:m,y:v?g:g-45},S={x:v?m+45:m,y:v?g:g+45};d=`M${n},${o} C${x.x},${x.y} ${S.x},${S.y} ${i},${l}`}else d=`M${n},${o} L${i},${l}`;return y.jsxs("g",{children:[y.jsx("path",{fill:"none",stroke:"#333",strokeWidth:2,d}),y.jsx("circle",{cx:i,cy:l,fill:"#fff",r:3,stroke:"#333",strokeWidth:1.5})]})},Yt="",De="|",li="";function w3(n,o,i="normal",l=0,a=0){return{id:n,type:i,position:{x:l,y:a},data:{label:o}}}function S3(n,o,i){return{id:`e_${n}_${o}_${Math.random().toString(36).slice(2,7)}`,type:"draggable",source:n,target:o,markerEnd:{type:"arrowclosed",color:"#333"},data:{labels:i,t:.5}}}function He(n,o,i){return{read:n,write:o,direction:i}}const lt={scan:(n,o)=>`scan__${n}__${o.join(",")}`,rewindDec:(n,o,i)=>`rwdDec__${n}__${o.join("")}__${i}`,update:(n,o,i,l)=>`update__${n}__${o}__${i.join("")}__${l}`,placeHat:(n,o,i,l)=>`placeHat__${n}__${o}__${i.join("")}__${l}`,afterUpdate:(n,o,i,l)=>`afterUpdate__${n}__${o}__${i.join("")}__${l}`,rewindFinal:(n,o)=>`rewind__${n}__${o}`,shiftMark:n=>`shiftMark__${n}`,shiftMarkL:n=>`shiftMarkL__${n}`,shiftCarry:(n,o,i)=>`shiftCarry_${o}_D${i}__${n}`,shiftFinish:n=>`shiftFinish__${n}`,shiftReturn:(n,o)=>`shiftReturn_D${o}__${n}`,shiftDone:n=>`shiftDone__${n}`};function E3(n){let o=1;for(const i of n)for(const l of i.data?.labels||[])for(const a of Object.keys(l))if(a.startsWith("tape")){const c=parseInt(a.replace("tape",""),10);isNaN(c)||(o=Math.max(o,c))}return o}function N3(n){return Object.fromEntries(n.map(o=>[o.id,o]))}function C3(n,o){const i=Object.fromEntries(n.map(l=>[l.id,[]]));for(const l of o)for(const a of l.data?.labels||[])i[l.source]||(i[l.source]=[]),i[l.source].push({edgeId:l.id,target:l.target,label:a});return i}function k3(n,o){const i=new Set([Yt]);for(const a of n)for(const c of a.data?.labels||[])for(let d=1;d<=o;d++){const f=c[`tape${d}`];f?.read&&i.add(f.read),f?.write&&i.add(f.write)}const l=new Set([...i].map(a=>"^"+a));return{alphabet:i,hatSymbols:l}}class _3{constructor(){this.nodes=[],this.edges=[],this._created=new Set}addNode(o,i,l="normal"){this._created.has(o)||(this.nodes.push(w3(o,i,l)),this._created.add(o))}addEdge(o,i,l){this.edges.push(S3(o,i,l))}addLoop(o,i,l="R"){this.addEdge(o,o,[He(i,i,l)])}mergeParallelEdges(){const o=new Map,i=new Map;for(const l of this.edges){const a=`${l.source}||${l.target}`;o.has(a)||(o.set(a,{...l,data:{...l.data,labels:[]}}),i.set(a,new Set));const c=o.get(a),d=i.get(a);for(const f of l.data.labels||[]){const h=JSON.stringify(f);d.has(h)||(d.add(h),c.data.labels.push(f))}}this.edges=[...o.values()]}applyLayout(o){const i={[o]:0},l=[o],a={};for(const f of this.edges)(a[f.source]||=[]).push(f.target);for(;l.length>0;){const f=l.shift();for(const h of a[f]||[])i[h]===void 0&&(i[h]=i[f]+1,l.push(h))}const c={},d={};for(const f of this.nodes){const h=i[f.id]??0;c[h]=(c[h]||0)+1}for(const f of this.nodes){const h=i[f.id]??0,m=d[h]=d[h]??0,g=c[h];f.position={x:(m-(g-1)/2)*220,y:h*150-100},d[h]++}}}function b3({origStateId:n,scannedSoFar:o,origNodeMap:i,origTransitions:l,numTapes:a,alphabet:c,hatSymbols:d,graph:f,queue:h,visited:m}){const g=o.length,v=lt.scan(n,o),x=i[n]?.data?.label||n,S=new Set((l[n]||[]).map(({label:C})=>C[`tape${g+1}`]?.read).filter(Boolean));for(const C of[...c,...d,De]){const N=C.startsWith("^"),T=N?C.slice(1):null;if(N&&S.has(T)){const _=[...o,T],A=lt.scan(n,_),D=`${n}|${_.join(",")}`;m.has(D)||(m.add(D),h.push({origStateId:n,scannedSoFar:_})),f.addNode(A,`scan
${x}
[${_.join(",")}]`),f.addEdge(v,A,[He(C,C,"R")])}else f.addLoop(v,C,"R")}}function T3(n,o,i,l){return(i[n]||[]).find(({label:a})=>Array.from({length:l},(c,d)=>{const f=a[`tape${d+1}`],h=o[d]??Yt;return f&&(f.read===h||f.read===Yt&&h===Yt)}).every(Boolean))}function R3({lastScanId:n,origStateId:o,readTuple:i,upIds:l,numTapes:a,alphabet:c,hatSymbols:d,graph:f}){const h=lt.rewindDec(o,i,"scanToEnd");f.addNode(h,`scanToEnd
t${a}`);for(const g of[...c,...d])f.addEdge(n,h,[He(g,g,"R")]),f.addLoop(h,g,"R");let m=h;for(let g=1;g<=a+1;g++){const v=g===a+1,x=v?l[0]:lt.rewindDec(o,i,g);if(v||f.addNode(x,`rewind
t${a+1-g}`),f.addEdge(m,x,[He(De,De,v?"R":"L")]),g===1&&f.addEdge(n,x,[He(De,De,v?"R":"L")]),!v)for(const S of[...c,...d])f.addLoop(x,S,"L");m=x}}function j3({origStateId:n,edgeId:o,tapeIdx:i,readTuple:l,readSym:a,writeVal:c,dir:d,nextStateId:f,isLastTape:h,numTapes:m,alphabet:g,hatSymbols:v,graph:x}){const S=lt.update(n,o,l,i);for(const N of[...g,De])N.startsWith("^")||x.addLoop(S,N,"R");let C;if(h)C=f;else{const N=lt.afterUpdate(n,o,l,i);x.addNode(N,`crossToNext
t${i+1}`);for(const T of[...g,...v])x.addLoop(N,T,"R");x.addEdge(N,f,[He(De,De,"R")]),C=N}if(d==="N")x.addEdge(S,C,[He("^"+a,"^"+c,"N")]);else{const N=lt.placeHat(n,o,l,i);x.addNode(N,`placeHat
t${i+1}:${d}`),x.addEdge(S,N,[He("^"+a,c,d)]);for(const _ of g)x.addEdge(N,C,[He(_,"^"+_,"N")]);const T=d==="R"?i+2:i+1;A3({placeHatId:N,nextStateId:C,tapeIdx:i,delimHit:T,dir:d,origStateId:n,edgeId:o,readTuple:l,numTapes:m,alphabet:g,hatSymbols:v,graph:x})}}function A3({placeHatId:n,nextStateId:o,tapeIdx:i,delimHit:l,dir:a,origStateId:c,edgeId:d,readTuple:f,numTapes:h,alphabet:m,hatSymbols:g,graph:v}){const x=`${c}__${d}__${f.join("")}__${i}__d${l}`,S=l,C=h+1,N=[...m,...g],T=(L,W)=>lt.shiftCarry(x,L,W),_=L=>lt.shiftReturn(x,L),A=lt.shiftMark(x),D=lt.shiftFinish(x),R=lt.shiftDone(x);if(v.addNode(A,`shiftMark
t${i+1}`),a==="R")if(v.addEdge(n,A,[He(De,li,"R")]),S===C)v.addNode(_(C),`shiftReturn
D${C}`),v.addEdge(A,_(C),[He(Yt,De,"L")]);else{for(const L of N)v.addEdge(A,T(L,S),[He(L,De,"R")]);v.addEdge(A,T(De,S+1),[He(De,De,"R")])}else{const L=lt.shiftMarkL(x);if(v.addNode(L,`shiftMarkL
t${i+1}`),v.addEdge(n,L,[He(De,De,"R")]),S===C)v.addNode(_(C),`shiftReturn
D${C}`),v.addEdge(L,_(C),[He(Yt,De,"L")]);else{for(const W of N)v.addEdge(L,T(W,S),[He(W,li,"R")]);v.addEdge(L,T(De,S+1),[He(Yt,li,"R")])}}for(let L=S;L<=C;L++){const W=L===C;for(const V of N){const G=T(V,L);if(v.addNode(G,`carry:${V}
D${L}`),W)v.addNode(D,`shiftFinish
t${i+1}`),v.addNode(_(L),`shiftReturn
D${L}`),v.addEdge(G,D,[He(Yt,V,"R")]),v.addEdge(D,_(L),[He(Yt,De,"L")]);else{for(const F of N)v.addEdge(G,T(F,L),[He(F,V,"R")]);v.addEdge(G,T(De,L+1),[He(De,V,"R")])}}}for(let L=S;L<=C;L++){const W=L===C,V=T(De,L);if(v.addNode(V,`carry:${De}
D${L}${W?"(final)":""}`),W)v.addNode(_(L),`shiftReturn
D${L}`),v.addEdge(V,_(L),[He(Yt,De,"L")]);else{for(const G of N)v.addEdge(V,T(G,L),[He(G,De,"R")]);v.addEdge(V,T(De,L+1),[He(De,De,"R")])}}for(let L=C;L>=S;L--){const W=_(L);v.addNode(W,`shiftReturn
D${L}`);for(const V of N)v.addLoop(W,V,"L");L>S?v.addEdge(W,_(L-1),[He(De,De,"L")]):v.addLoop(W,De,"L"),v.addNode(R,`shiftDone
t${i+1}`),v.addEdge(W,R,[He(li,"^"+Yt,"R")])}for(const L of[...N,De,li])v.addEdge(R,o,[He(L,L,"N")])}function M3({rewindStartId:n,targetId:o,nextScanId:i,numTapes:l,alphabet:a,hatSymbols:c,graph:d}){const f=lt.rewindFinal(o,"scan");d.addNode(f,`rewind
scanend`);for(const m of[...a,...c])d.addEdge(n,f,[He(m,m,"R")]),d.addLoop(f,m,"R");let h=f;for(let m=1;m<=l+1;m++){const g=m===l+1,v=g?i:lt.rewindFinal(o,m);g||d.addNode(v,`rewind
t${l+1-m}`),m===1&&d.addEdge(n,v,[He(De,De,g?"R":"L")]),d.addEdge(h,v,[He(De,De,g?"R":"L")]);for(const x of[...a,...c])d.addLoop(h,x,"L");h=v}}function I3(n,o){const i=E3(o),l=N3(n),a=C3(n,o),{alphabet:c,hatSymbols:d}=k3(o,i),f=n.find(A=>A.type==="start");if(!f)return{nodes:[],edges:[]};const h=new Set(n.filter(A=>A.type==="accept").map(A=>A.id)),m=new _3,g="q_init";m.addNode(g,"q_init","start");const v=lt.scan(f.id,[]),x=l[f.id]?.data?.label||f.id;m.addNode(v,`scan
${x}
[]`),m.addEdge(g,v,[He(De,De,"R")]);const S=[{origStateId:f.id,scannedSoFar:[]}],C=new Set([`${f.id}|`]);for(;S.length>0;){const{origStateId:A,scannedSoFar:D}=S.shift();if(D.length<i)b3({origStateId:A,scannedSoFar:D,origNodeMap:l,origTransitions:a,numTapes:i,alphabet:c,hatSymbols:d,graph:m,queue:S,visited:C});else{const L=D,W=lt.scan(A,L),V=T3(A,L,a,i);if(!V)continue;const{edgeId:G,target:F,label:Y}=V,U=[],Q=[];for(let H=0;H<i;H++){const P=Y[`tape${H+1}`];U.push(P?.write||Yt),Q.push(P?.direction||"N")}const K=Array.from({length:i},(H,P)=>{const $=lt.update(A,G,L,P),X=l[A]?.data?.label||A;return m.addNode($,`update
${X}
t${P+1}:${U[P]},${Q[P]}`),$});R3({lastScanId:W,origStateId:A,readTuple:L,upIds:K,numTapes:i,alphabet:c,hatSymbols:d,graph:m});const E=lt.rewindFinal(F,0),j=l[F]?.data?.label||F,I=h.has(F)?"accept":"normal";m.addNode(E,`rewind
${j}`,I);for(let H=0;H<i;H++){const P=H===i-1,$=P?E:K[H+1];j3({origStateId:A,edgeId:G,tapeIdx:H,readTuple:L,readSym:L[H],writeVal:U[H],dir:Q[H],nextStateId:$,isLastTape:P,numTapes:i,alphabet:c,hatSymbols:d,graph:m})}if(!h.has(F)){const H=lt.scan(F,[]);m.addNode(H,`scan
${j}
[]`),M3({rewindStartId:E,targetId:F,nextScanId:H,numTapes:i,alphabet:c,hatSymbols:d,graph:m});const P=`${F}|`;C.has(P)||(C.add(P),S.push({origStateId:F,scannedSoFar:[]}))}}}m.mergeParallelEdges();const N=new Set,T=[g];N.add(g);const _={};for(const A of m.edges)(_[A.source]||=[]).push(A.target);for(;T.length>0;){const A=T.shift();for(const D of _[A]||[])N.has(D)||(N.add(D),T.push(D))}return m.nodes=m.nodes.filter(A=>N.has(A.id)),m.edges=m.edges.filter(A=>N.has(A.source)&&N.has(A.target)&&m.nodes.find(D=>D.id===A.source)?.type!=="accept"),m.applyLayout(g),{nodes:m.nodes,edges:m.edges}}const L3={start:f0,normal:p0,accept:h0},D3={draggable:m0},$3=40,lo=60;function z3(n,o){let i=2;(o||[]).forEach(d=>{(d.data?.labels||[]).forEach(f=>{Object.keys(f).forEach(h=>{if(h.startsWith("tape")){const m=parseInt(h.replace("tape",""),10);isNaN(m)||(i=Math.max(i,m))}})})});const l=n?n.split(""):[],a=Array(lo).fill("");let c=[...a,"|"];if(l.length>0){const d=l[0]===" "?"":l[0];c.push("^"+d),c.push(...l.slice(1).map(f=>f===" "?"":f))}else c.push("^");for(let d=1;d<i;d++)c.push("|"),c.push("^");return c.push("|"),c.push(...a),{tape:c,head:lo}}function P3(n,o){const{setCenter:i,getNodes:l}=mo();b.useEffect(()=>{if(!n)return;const a=l().find(m=>m.id===n);if(!a)return;const{x:c,y:d}=a.position,f=a.width??150,h=a.height??50;i(c+f/2,d+h/2,{duration:0,zoom:1})},[n,o,i,l])}const H3=50;function O3({rawNodes:n,rawEdges:o,activeNodeId:i,activeEdgeId:l,activeSymbol:a,stepCount:c,onReady:d}){const f=b.useMemo(()=>n.map(V=>({...V,style:{...V.style||{},border:"none",boxShadow:"none",background:"transparent",transition:"none"}})),[n]),h=b.useMemo(()=>o.map(V=>({...V,markerEnd:{...V.markerEnd,color:"#333"},data:{...V.data,isActive:!1,activeSymbol:null}})),[o]),[m,g]=b.useState(0),v=m>=f.length;b.useEffect(()=>{g(0)},[f]),b.useEffect(()=>{if(v){d?.();return}const V=requestAnimationFrame(()=>{g(G=>Math.min(G+H3,f.length))});return()=>cancelAnimationFrame(V)},[m,v,f.length,d]);const x=b.useMemo(()=>f.slice(0,m),[f,m]),S=v?h:[],[C,N,T]=t0(x),[_,A,D]=n0(S);b.useEffect(()=>{N(x)},[x,N]),b.useEffect(()=>{v&&A(h)},[v,h,A]);const R=b.useRef(null),L=b.useRef(null),W=b.useRef(null);return b.useEffect(()=>{if(!v)return;const V=R.current;R.current=i,N(G=>G.map(F=>F.id===V&&F.id!==i?{...F,data:{...F.data,isActive:!1},style:{...F.style,border:"none",boxShadow:"none",background:"transparent"}}:F.id===i?{...F,data:{...F.data,isActive:!0},style:{...F.style,border:"none",boxShadow:"none",background:"transparent"}}:F))},[i,v,N]),b.useEffect(()=>{if(!v)return;const V=L.current,G=V!==l;L.current=l,W.current=a,A(F=>F.map(Y=>G&&Y.id===V&&Y.id!==l?{...Y,markerEnd:{...Y.markerEnd,color:"#333"},data:{...Y.data,isActive:!1,activeSymbol:null}}:Y.id===l?{...Y,markerEnd:{...Y.markerEnd,color:"#e8d71a"},data:{...Y.data,isActive:!0,activeSymbol:a}}:Y))},[l,a,c,v,A]),P3(v?i:null,c),y.jsxs(oc,{nodes:C,edges:_,nodeTypes:L3,edgeTypes:D3,onNodesChange:T,onEdgesChange:D,fitView:!0,fitViewOptions:{padding:1.2},minZoom:.05,children:[y.jsx(s0,{}),y.jsx(o0,{})]})}function F3(n,o,i){const l=Ci(n);if(!l)return null;const{tape:a,head:c}=z3(i,o);return{tape:a,head:c,currentNodeId:l.id,activeEdgeId:null,stepCount:0,status:"IDLE",statusMessage:"Initialized. Press Start or Step."}}function B3(n,o){switch(o.type){case"INIT":return{...o.payload,history:[]};case"STEP":{const{result:i,PAD:l}=o,a={tape:n.tape,head:n.head,currentNodeId:n.currentNodeId,activeEdgeId:n.activeEdgeId,stepCount:n.stepCount,status:n.status,statusMessage:n.statusMessage};if(i.halted)return{...n,status:"REJECTED",statusMessage:`Halted: ${i.reason}`,activeEdgeId:null,activeRead:null,history:[...n.history,a]};const c=[...n.tape];c[n.head]=i.write;let d=n.head;for(i.direction==="R"&&d++,i.direction==="L"&&d--,d<0&&(c.unshift(...Array(l).fill("")),d+=l);d>=c.length;)c.push("");return{...n,tape:c,head:d,currentNodeId:i.toNodeId,activeEdgeId:i.edgeId,activeRead:i.read,stepCount:i.stepCount,status:i.isAccept?"ACCEPTED":"RUNNING",statusMessage:i.isAccept?"ACCEPTED!":n.statusMessage,history:[...n.history,a]}}case"UNDO":{if(n.history.length===0)return n;const i=n.history[n.history.length-1];return{...n,...i,history:n.history.slice(0,-1)}}case"FLUSH":return{...o.payload,history:[]};default:return n}}function V3(n,o,i,l){const[a,c]=b.useState(l||""),[d,f]=b.useState(!1),[h,m]=b.useState(1),[g,v]=b.useReducer(B3,null,()=>({tape:[],head:0,currentNodeId:null,activeEdgeId:null,stepCount:0,status:"IDLE",statusMessage:"Ready.",history:[]})),x=b.useMemo(()=>{const T=Object.fromEntries(n.map(A=>[A.id,A])),_={};for(const A of o){const D={...A,_targetIsAccept:T[A.target]?.type==="accept"};(_[A.source]||=[]).push(D)}return _},[n,o]),S=b.useCallback(()=>{const T=F3(n,i,a);T&&(v({type:"INIT",payload:T}),f(!1))},[n,i,a]);b.useEffect(()=>{S()},[S]);const C=b.useCallback(()=>{if(g.status==="ACCEPTED"||g.status==="REJECTED")return;const T=x[g.currentNodeId]||[],_=g.tape[g.head]||"";let A=null;for(const L of T){const W=(L.data?.labels||[]).find(V=>V.read===_||V.read===""&&_==="");if(W){A={edge:L,rule:W};break}}if(!A){v({type:"STEP",result:{halted:!0,reason:"No transition defined",read:_,fromNodeId:g.currentNodeId,stepCount:g.stepCount},PAD:lo});return}const{edge:D,rule:R}=A;v({type:"STEP",result:{halted:!1,read:_,write:R.write,direction:R.direction,fromNodeId:g.currentNodeId,toNodeId:D.target,edgeId:D.id,isAccept:D._targetIsAccept,rule:R,stepCount:g.stepCount+1},PAD:lo})},[g,x]);b.useEffect(()=>{if(!d||g.status==="ACCEPTED"||g.status==="REJECTED"){(g.status==="ACCEPTED"||g.status==="REJECTED")&&f(!1);return}const T=setInterval(C,1e3/h);return()=>clearInterval(T)},[d,C,h,g.status]);const N=b.useCallback(()=>{if(g.status==="ACCEPTED"||g.status==="REJECTED")return;f(!1);let T=[...g.tape],_=g.head,A=g.currentNodeId,D=g.activeEdgeId,R=g.activeRead,L=g.stepCount,W="RUNNING",V=g.statusMessage;for(;W==="RUNNING";){const G=x[A]||[],F=T[_]||"";let Y=null;for(const E of G){const j=(E.data?.labels||[]).find(I=>I.read===F||I.read===""&&F==="");if(j){Y={edge:E,rule:j};break}}if(!Y){W="REJECTED",V="Halted: No transition defined",D=null;break}const{edge:U,rule:Q}=Y;T[_]=Q.write;let K=_;for(Q.direction==="R"&&K++,Q.direction==="L"&&K--,K<0&&(T.unshift(...Array(lo).fill("")),K+=lo);K>=T.length;)T.push("");if(_=K,R=F,D=U.id,A=U.target,L++,U._targetIsAccept){W="ACCEPTED",V="ACCEPTED!";break}}v({type:"FLUSH",payload:{tape:T,head:_,currentNodeId:A,activeEdgeId:D,activeRead:R,stepCount:L,status:W,statusMessage:V}})},[g,x]);return{localInput:a,setLocalInput:c,tape:g.tape,head:g.head,currentNodeId:g.currentNodeId,activeEdgeId:g.activeEdgeId,activeRead:g.activeRead,stepCount:g.stepCount,status:g.status,statusMessage:g.statusMessage,isRunning:d,setIsRunning:f,speed:h,setSpeed:m,history:g.history,initialize:S,undo:()=>{v({type:"UNDO"}),f(!1)},step:C,runToEnd:N,handleClear:()=>c("")}}function U3({nodes:n,edges:o,onClose:i}){const l=n.find(D=>D.type==="start")?.data?.input||"",[a,c]=b.useState(null),[d,f]=b.useState(!1);b.useEffect(()=>{c(null),f(!1);const D=setTimeout(()=>{const R=I3(n,o);c(R),f(!0)},0);return()=>clearTimeout(D)},[n,o]);const h=a?.nodes??[],m=a?.edges??[],g=a===null||d,v=V3(h,m,o,l),x=v.activeRead??null,S=b.useMemo(()=>h.find(R=>R.id===v.currentNodeId)?.data?.label||v.currentNodeId||"",[h,v.currentNodeId]),C=v.status==="ACCEPTED",N=v.status==="REJECTED",T=C||N,_=C?"accepted":N?"rejected":"active",A=C?" ACCEPTED":N?" REJECTED":v.isRunning?" RUNNING":"READY";return y.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.80)",zIndex:2e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:y.jsxs("div",{style:{background:"#fff",borderRadius:10,width:"96vw",height:"94vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 8px 40px rgba(0,0,0,0.45)"},children:[g&&y.jsxs("div",{style:{position:"absolute",inset:0,zIndex:10,background:"rgba(249,249,249,0.97)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:14,borderRadius:10,fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[y.jsx("style",{children:"@keyframes cdm-spin { to { transform: rotate(360deg); } }"}),y.jsx("button",{onClick:i,style:{position:"absolute",top:10,right:12,padding:"6px 13px",borderRadius:6,cursor:"pointer",background:"transparent",border:"1px solid #ccc",fontSize:20,lineHeight:1,color:"#555"},children:""}),y.jsx("div",{style:{width:44,height:44,borderRadius:"50%",border:"4px solid #eee",borderTopColor:"#e8d71a",animation:"cdm-spin 0.8s linear infinite"}}),y.jsx("div",{style:{fontSize:14,fontWeight:500,color:"#555"},children:a===null?"Converting":"Rendering"})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 18px",borderBottom:"1px solid #e0e0e0",background:"#fafafa",flexShrink:0},children:[y.jsx("span",{style:{fontWeight:600,fontSize:14,color:"#333"}}),y.jsx("button",{onClick:i,style:{padding:"6px 13px",borderRadius:6,cursor:"pointer",background:"transparent",border:"1px solid #ccc",fontSize:20,lineHeight:1,color:"#555"},children:""})]}),y.jsxs("div",{style:{flexShrink:0,borderBottom:"2px solid #e0e0e0",padding:"12px 18px 10px",background:"#fdfdfd",display:"flex",flexDirection:"column",gap:10},children:[y.jsxs("div",{className:`thread-card ${_} tree-card`,style:{width:"100%",marginTop:0},children:[y.jsxs("div",{className:"thread-header",children:[y.jsxs("div",{className:"thread-id-info",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[y.jsx("div",{style:{width:14,height:14,borderRadius:3,backgroundColor:"#333",border:"1px solid rgba(0,0,0,0.1)"}}),y.jsx("span",{className:"thread-name",children:"Sipser Single-Tape Equivalent"})]}),y.jsxs("span",{className:"thread-meta",children:["Step: ",v.stepCount]})]}),y.jsx("span",{className:`thread-status-badge ${_}`,onClick:()=>N&&alert(v.statusMessage),title:N?"Click to see reason":"",style:{cursor:N?"pointer":"default"},children:A})]}),y.jsx(ol,{tape:v.tape,head:v.head,activeLabel:S,cellSize:$3,width:"100%",instantScroll:!0})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:22,flexWrap:"wrap"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[y.jsx("label",{style:{fontWeight:500,color:"#555",fontSize:13},children:"Input:"}),y.jsx("input",{type:"text",value:v.localInput,onChange:D=>v.setLocalInput(D.target.value),disabled:v.isRunning,style:{padding:"5px 8px",borderRadius:4,border:"1px solid #ccc",fontSize:13,width:160,fontFamily:"monospace"}})]}),y.jsx(l0,{onStepForward:v.step,onStart:()=>v.setIsRunning(!0),onStop:()=>v.setIsRunning(!1),onSkipToStart:v.initialize,onSkipToEnd:v.runToEnd,onClear:v.handleClear,onStepBack:v.undo,isRunning:v.isRunning,isFinished:T,canUndo:v.history.length>0}),y.jsxs("div",{className:"speed-control",style:{display:"flex",alignItems:"center",gap:8,fontSize:13},children:[y.jsxs("label",{children:["Speed: ",v.speed,"x"]}),y.jsx("input",{type:"range",min:"0.25",max:"2",step:"0.25",value:v.speed,onChange:D=>v.setSpeed(Number(D.target.value))})]})]})]}),y.jsxs("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{display:"flex",gap:20,flexWrap:"wrap",padding:"5px 14px",background:"#f8f8f8",borderBottom:"1px solid #e8e8e8",fontSize:12,alignItems:"center",flexShrink:0},children:[y.jsxs("span",{style:{color:"#555"},children:["States: ",y.jsx("strong",{children:h.length})]}),y.jsxs("span",{style:{color:"#555"},children:["Transitions: ",y.jsx("strong",{children:m.length})]})]}),y.jsxs("div",{style:{flex:1,minHeight:0},children:[y.jsx("style",{children:`
              .cdm-no-transition .node,
              .cdm-no-transition .node-ring,
              .cdm-no-transition .edge-path,
              .cdm-no-transition .react-flow__edge-path,
              .cdm-no-transition .react-flow__node,
              .cdm-no-transition .react-flow__handle,
              .cdm-no-transition svg path,
              .cdm-no-transition svg text {
                transition: none !important;
                animation: none !important;
              }
            `}),y.jsx("div",{className:"cdm-no-transition",style:{width:"100%",height:"100%"},children:y.jsx(xl,{children:y.jsx(O3,{rawNodes:h,rawEdges:m,activeNodeId:v.currentNodeId,activeEdgeId:v.activeEdgeId,activeSymbol:x,stepCount:v.stepCount,onReady:()=>f(!1)})})})]})]})]})})}const W3={start:f0,normal:p0,accept:h0},X3={draggable:m0};function Y3({nodes:n,edges:o,onNodesChange:i,onEdgesChange:l,setNodes:a,setEdges:c,activeNodeId:d,activeEdgeId:f,currentSymbol:h,stepCount:m,engine:g,onClear:v,isLocked:x}){const[S,C]=b.useState(!1),{project:N,fitView:T}=mo(),_=b.useMemo(()=>{if(g!=="MultiTape")return 1;let ne=2;return o.forEach(se=>{se.data?.labels&&se.data.labels.forEach(te=>{Object.keys(te).forEach(Se=>{if(Se.startsWith("tape")){const ce=parseInt(Se.replace("tape",""),10);isNaN(ce)||(ne=Math.max(ne,ce))}})})}),ne},[o,g]);b.useEffect(()=>{const ne=setTimeout(()=>{T({padding:.4,duration:0})},100);return()=>clearTimeout(ne)},[T]);const[A,D]=b.useState(null),[R,L]=b.useState(null),[W,V]=b.useState([]),[G,F]=b.useState([]),Y=b.useRef(0),U=b.useCallback((ne="Unknown Action",se=null)=>{Y.current+=1;const te=Y.current,Se=se?se.nodes:n,ce=se?se.edges:o,pe=Se.map(Te=>({...Te,data:{...Te.data}})),fe=ce.map(Te=>({...Te,data:{...Te.data,labels:JSON.parse(JSON.stringify(Te.data.labels||[]))}}));V(Te=>[...Te,{nodes:pe,edges:fe,metadata:{id:te,label:ne}}].slice(-50)),F([])},[n,o]),Q=b.useRef(null),K=b.useCallback(ne=>{Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{U(ne),Q.current=null},200)},[U]),E=()=>{if(x||W.length===0)return;const ne=W[W.length-1],se={nodes:n.map(te=>({...te,data:{...te.data}})),edges:o.map(te=>({...te,data:{...te.data,labels:JSON.parse(JSON.stringify(te.data.labels||[]))}}))};V(te=>te.slice(0,-1)),F(te=>[...te,{...se,metadata:ne.metadata}]),a(ne.nodes),c(ne.edges)},j=()=>{if(x||G.length===0)return;const ne=G[G.length-1],se={nodes:n.map(te=>({...te,data:{...te.data}})),edges:o.map(te=>({...te,data:{...te.data,labels:JSON.parse(JSON.stringify(te.data.labels||[]))}}))};F(te=>te.slice(0,-1)),V(te=>[...te,{...se,metadata:ne.metadata}]),a(ne.nodes),c(ne.edges)},I=b.useRef({x:0,y:0}),H=b.useRef(null),P=b.useCallback((ne,se)=>{x||(I.current={x:se.position.x,y:se.position.y},H.current={nodes:n,edges:o})},[n,o,x]),$=b.useCallback((ne,se)=>{if(x)return;const te=se.position.x-I.current.x,Se=se.position.y-I.current.y;Math.sqrt(te*te+Se*Se)>5&&H.current&&U("Node Moved",H.current),H.current=null},[U,x]),X=b.useCallback(()=>{x||(H.current={nodes:n,edges:o})},[n,o,x]),k=b.useCallback(()=>{x||H.current&&(U("Group Moved",H.current),H.current=null)},[U,x]),O=b.useCallback(ne=>{if(x)return;U("Edge Created");const se=ne.source===ne.target;let te,Se,ce,pe,fe,Te;if(se){const je=n.find(Ge=>Ge.id===ne.source);if(!je)return;const Oe=je.width||40,Ue=je.height||40;ce=je.position.x+Oe*.25,fe=je.position.x+Oe*.75,pe=je.position.y+Ue/2,Te=je.position.y+Ue/2;const yt=Ue*1.5;Se=je.position.y-yt,te=je.position.x+Oe/2}const $e={...ne,id:`edge-${Date.now()}`,type:"draggable",markerEnd:{type:yi.ArrowClosed,color:"#333"},data:se?{px:te,py:Se,t:.5,sourceX:ce,sourceY:pe,targetX:fe,targetY:Te,labels:[]}:{px:void 0,py:void 0,t:.5,labels:[]}};c(je=>[...je,$e]),L($e)},[n,U,c,x]),oe=b.useCallback(ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},[]),ie=b.useCallback(ne=>{if(ne.preventDefault(),x)return;const se=ne.dataTransfer.getData("node-type");if(!se)return;const te=ne.currentTarget.getBoundingClientRect(),Se=N({x:ne.clientX-te.left,y:ne.clientY-te.top});Se.x-=20,Se.y-=20;const ce={id:`${Date.now()}`,type:se,position:Se,data:{label:`S${n.length}`}};U("Node Created"),a(pe=>[...pe,ce])},[N,U,a,n.length,x]),ge=(ne,se)=>{ne.preventDefault(),!x&&(se.type!=="normal"&&se.type!=="accept"||(U("Node Type Changed"),a(te=>te.map(Se=>Se.id===se.id?{...Se,type:Se.type==="normal"?"accept":"normal"}:Se))))},q=(ne,se)=>{ne.preventDefault(),!x&&(D(se),L(null))},le=(ne,se)=>{ne.preventDefault(),!x&&(L(se),D(null))},me=(ne,se,te)=>{U("Node Edited"),a(Se=>Se.map(ce=>ce.id===ne?{...ce,type:te,data:{...ce.data,label:se}}:ce)),D(null)},Ne=(ne,se,te=[])=>{U("Edge Edited"),c(Se=>Se.map(ce=>{if(ce.id===ne)return{...ce,data:{...ce.data,labels:se}};if(g==="MultiTape"&&te.length>0){let pe=(ce.data.labels||[]).map(fe=>{let Te={...fe};return te.forEach($e=>{if($e.type==="ADD"){let je=0;Object.keys(Te).forEach(Oe=>{if(Oe.startsWith("tape")){const Ue=parseInt(Oe.replace("tape",""),10);isNaN(Ue)||(je=Math.max(je,Ue))}}),Te[`tape${je+1}`]={read:"",write:"",direction:"N"}}else if($e.type==="DELETE"){const je=$e.index,Oe={};Object.keys(Te).forEach(Ge=>{Ge.startsWith("tape")||(Oe[Ge]=Te[Ge])});let Ue=0;Object.keys(Te).forEach(Ge=>{if(Ge.startsWith("tape")){const ht=parseInt(Ge.replace("tape",""),10);isNaN(ht)||(Ue=Math.max(Ue,ht))}});let yt=1;for(let Ge=1;Ge<=Ue;Ge++){if(Ge===je)continue;const ht=`tape${Ge}`,Ke=`tape${yt}`;Te[ht]&&(Oe[Ke]=Te[ht]),yt++}Te=Oe}}),Te});return{...ce,data:{...ce.data,labels:pe}}}return ce})),L(null)},ye=ne=>{U("Edge Deleted"),c(se=>se.filter(te=>te.id!==ne)),L(null)},Me=()=>{x||(U("Cleared All"),v?v():(a([]),c([])))},We=()=>{let ne=window.prompt("Enter a filename for the export:","turing_machine_diagram");if(ne===null)return;ne.trim()===""&&(ne="turing_machine_diagram"),ne.toLowerCase().endsWith(".json")||(ne+=".json");const te=JSON.stringify({nodes:n,edges:o},null,2),Se=new Blob([te],{type:"application/json"}),ce=URL.createObjectURL(Se),pe=document.createElement("a");pe.href=ce,pe.download=ne,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(ce)},Ae=b.useCallback(ne=>{if(!x){if(!ne||typeof ne!="object"){alert("Invalid file format.");return}if(!Array.isArray(ne.nodes)||!Array.isArray(ne.edges)){alert("Invalid JSON: File must contain 'nodes' and 'edges' arrays.");return}U("Imported Diagram"),a(ne.nodes),c(ne.edges),D(null),L(null)}},[U,a,c,x]),Ve=n.map(ne=>{let se=[];return g==="NonDeterministic"&&Array.isArray(d)&&(se=d.filter(te=>te.currentNodeId===ne.id&&(te.status==="active"||te.status==="accepted")).map(te=>te.color)),{...ne,data:{...ne.data,isActive:g==="NonDeterministic"?se.length>0:ne.id===d,threadColors:se}}}),Fe=o.map(ne=>{let se=ne.id===f,te=[],Se=[];return g==="NonDeterministic"&&Array.isArray(d)&&(Se=d.filter(ce=>ce.activeEdgeId===ne.id&&(ce.status==="active"||ce.status==="accepted")),Se.length>0&&(se=!0,te=Se.map(ce=>ce.color))),{...ne,markerEnd:{...ne.markerEnd,color:te.length>0?te[te.length-1]:se?"#e8d71a":"#333"},data:{...ne.data,isActive:se,activeSymbol:se?h:null,stepCount:se?m:null,threadColors:te,activeThreads:Se}}});return b.useCallback(ne=>{U(`Deleted Symbol: ${ne}`),c(se=>se.map(te=>({...te,data:{...te.data,labels:te.data.labels.filter(Se=>g==="MultiTape"?!Object.keys(Se).some(ce=>ce.startsWith("tape")&&Se[ce].read===ne):Se.read!==ne)}})).filter(te=>te.data.labels.length>0))},[g,c,U]),b.useCallback((ne,se)=>{U(`Replaced ${ne} with ${se}`),c(te=>te.map(Se=>({...Se,data:{...Se.data,labels:Se.data.labels.map(ce=>{const pe={...ce};return g==="MultiTape"?Object.keys(pe).forEach(fe=>{fe.startsWith("tape")&&(pe[fe].read===ne&&(pe[fe].read=se),pe[fe].write===ne&&(pe[fe].write=se))}):(pe.read===ne&&(pe.read=se),pe.write===ne&&(pe.write=se)),pe})}})))},[g,c,U]),y.jsx(g0.Provider,{value:U,children:y.jsxs("div",{className:"diagram-container",children:[y.jsx(p3,{}),y.jsx("div",{className:`reactflow-wrapper ${x?"locked":""}`,children:y.jsxs(oc,{nodes:Ve,edges:Fe,nodeTypes:W3,edgeTypes:X3,connectionLineComponent:x3,onNodesChange:i,onEdgesChange:l,onNodeDoubleClick:ge,onNodeContextMenu:q,onEdgeDoubleClick:le,onConnect:O,onDrop:ie,onDragOver:oe,nodesDraggable:!x,nodesConnectable:!x,deleteKeyCode:x?null:["Backspace","Delete"],onNodeDragStart:P,onNodeDragStop:$,onSelectionDragStart:X,onSelectionDragStop:k,onNodesDelete:()=>!x&&K("Nodes Deleted"),onEdgesDelete:()=>!x&&K("Edges Deleted"),fitView:!0,children:[y.jsx(s0,{}),y.jsx(o0,{})]})}),y.jsx(h3,{handleClearAll:Me,Undo:E,Redo:j,handleExport:We,handleImport:Ae,canUndo:!x&&W.length>0,canRedo:!x&&G.length>0,isLocked:x,engine:g,onConvert:ne=>{g==="MultiTape"&&ne==="combined"&&C(!0)}}),S&&y.jsx(U3,{nodes:n,edges:o,onClose:()=>C(!1)}),A&&y.jsx(y3,{node:A,onClose:()=>D(null),onSave:me}),R&&y.jsx(v3,{edge:R,onClose:()=>L(null),onSave:Ne,onDelete:ye,engine:g,globalTapeCount:_})]})})}function Q3({nodes:n,edges:o,manualSymbols:i,setManualSymbols:l,onClose:a,onDeleteSymbol:c,onReplaceSymbol:d}){const[f,h]=b.useState(""),[m,g]=b.useState(!1),[v,x]=b.useState("matrix"),[S,C]=b.useState({x:50,y:100}),[N,T]=b.useState(!1),_=b.useRef({x:0,y:0}),[A,D]=b.useState({width:600,height:400}),[R,L]=b.useState(!1),W=b.useRef({x:0,y:0,width:0,height:0}),[V,G]=b.useState(""),[F,Y]=b.useState(null),U=q=>{m&&(T(!0),_.current={x:q.clientX-S.x,y:q.clientY-S.y})},Q=q=>{q.stopPropagation(),q.preventDefault(),L(!0),W.current={x:q.clientX,y:q.clientY,width:A.width,height:A.height}};b.useEffect(()=>{const q=me=>{if(N){const ye=me.clientX-_.current.x,Me=me.clientY-_.current.y;C({x:Math.min(Math.max(ye,-(A.width-120)),window.innerWidth-120),y:Math.min(Math.max(Me,0),window.innerHeight-42)})}if(R){const Ne=me.clientX-W.current.x,ye=me.clientY-W.current.y;D({width:Math.max(320,W.current.width+Ne),height:Math.max(200,W.current.height+ye)})}},le=()=>{T(!1),L(!1)};return(N||R)&&(document.addEventListener("mousemove",q),document.addEventListener("mouseup",le)),()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",le)}},[N,R,A]);const{symbols:K,matrix:E,sortedNodes:j,derivedSymbols:I,isMultiTape:H,multiTapeRules:P,multiTapeColumns:$,multiTapeMatrix:X}=b.useMemo(()=>{const q=new Set,le={};n.forEach(ye=>{le[ye.id]=ye});const me=o.some(ye=>ye.data?.labels?.some(Me=>Object.keys(Me).some(We=>We.startsWith("tape")))),Ne=[...n].sort((ye,Me)=>{if(ye.type==="start")return-1;if(Me.type==="start")return 1;const We=tr(ye),Ae=tr(Me);return We.localeCompare(Ae,void 0,{numeric:!0})});if(me){const ye=[];let Me=2;o.forEach(ne=>ne.data?.labels?.forEach(se=>{Object.keys(se).forEach(te=>{if(te.startsWith("tape")){const Se=parseInt(te.replace("tape",""),10);isNaN(Se)||(Me=Math.max(Me,Se))}})})),o.forEach(ne=>{const se=le[ne.source];if(!se)return;const te=tr(se),Se=le[ne.target]?tr(le[ne.target]):"?";ne.data?.labels?.forEach(ce=>{const pe=[],fe=[],Te=[];for(let $e=1;$e<=Me;$e++){const je=ce[`tape${$e}`]||{read:"",write:"",direction:"N"};pe.push(je.read),fe.push(je.write),Te.push(je.direction),je.read&&je.read!==""&&je.read!==""&&q.add(je.read),je.write&&je.write!==""&&je.write!==""&&q.add(je.write)}ye.push({start:te,startId:ne.source,read:pe.join(","),write:fe.join(", "),direction:Te.join(", "),end:Se,rawWrites:fe,rawDirs:Te,sortKey:`${te}-${pe.join(",")}`})})}),ye.sort((ne,se)=>ne.sortKey.localeCompare(se.sortKey,void 0,{numeric:!0}));const We=Array.from(new Set(ye.map(ne=>ne.read))).sort(),Ae={};ye.forEach(ne=>{Ae[ne.startId]||(Ae[ne.startId]={});const se=`(${ne.rawWrites.map((te,Se)=>`${te},${ne.rawDirs[Se]}`).join(" : ")}) -> ${ne.end}`;Ae[ne.startId][ne.read]?Ae[ne.startId][ne.read]+=` | ${se}`:Ae[ne.startId][ne.read]=se});const Ve=new Set([...q,...i]);return{symbols:Array.from(Ve).sort(),matrix:{},sortedNodes:Ne,derivedSymbols:q,isMultiTape:!0,multiTapeRules:ye,multiTapeColumns:We,multiTapeMatrix:Ae}}else{const ye={};Ne.forEach(Ae=>ye[Ae.id]={}),o.forEach(Ae=>{const Ve=Ae.source,Fe=le[Ae.target]?tr(le[Ae.target]):"?";(Ae.data?.labels||[]).forEach(se=>{if(se.read===void 0)return;q.add(se.read),se.write&&q.add(se.write);const te=`${se.write}, ${se.direction}, ${Fe}`;ye[Ve]||(ye[Ve]={}),ye[Ve][se.read]?ye[Ve][se.read]+=` | ${te}`:ye[Ve][se.read]=te})});const Me=new Set([...q,...i]);return{symbols:Array.from(Me).sort(),matrix:ye,sortedNodes:Ne,derivedSymbols:q,isMultiTape:!1,multiTapeRules:[],multiTapeColumns:[],multiTapeMatrix:{}}}},[n,o,i]),k=q=>{q.preventDefault();const le=f.trim();le&&(i.includes(le)||l(me=>[...me,le]),h(""))},O=q=>{I.has(q)?Y(q):l(le=>le.filter(me=>me!==q))},oe=q=>{q==="delete"?c(F):q==="replace"&&d(F,V),Y(null),G("")},ie=m?"popup-menu table-popup modeless-window":"popup-menu table-popup",ge=m?{left:`${S.x}px`,top:`${S.y}px`,width:`${A.width}px`,height:`${A.height}px`,margin:0,position:"fixed"}:{};return y.jsxs("div",{className:m?"":"popup-overlay",onClick:m?void 0:a,children:[y.jsxs("div",{className:ie,style:ge,onClick:q=>q.stopPropagation(),children:[y.jsxs("div",{className:"popup-header",style:{cursor:m?"grab":"default"},onMouseDown:U,children:[y.jsx("h3",{children:"Transition Table"}),y.jsxs("div",{className:"header-actions",children:[H&&y.jsx("button",{className:"window-toggle-btn",onClick:()=>x(v==="list"?"matrix":"list"),onMouseDown:q=>q.stopPropagation(),children:v==="list"?"Matrix View":"List View"}),y.jsx("button",{className:"window-toggle-btn",onClick:()=>g(!m),onMouseDown:q=>q.stopPropagation(),children:m?"Modal View":"Float Window"}),y.jsx("button",{className:"close-btn",onClick:a,onMouseDown:q=>q.stopPropagation(),children:""})]})]}),H?y.jsxs("div",{className:"multitape-alphabet-display",children:[y.jsx("div",{className:"sigma-box",children:" :"}),y.jsxs("div",{className:"symbol-list",children:[K.map(q=>y.jsxs("span",{className:`symbol-tag ${I.has(q)?"derived":"manual"}`,children:[q,y.jsx("button",{className:"remove-symbol-btn",onClick:()=>O(q),children:""})]},q)),y.jsx("form",{onSubmit:k,style:{display:"inline-flex"},children:y.jsx("input",{type:"text",value:f,onChange:q=>h(q.target.value),placeholder:"+",maxLength:1,className:"symbol-input-inline",title:"Type and press Enter to add symbol"})})]})]}):y.jsxs("form",{className:"alphabet-controls",onSubmit:k,children:[y.jsx("label",{children:"Alphabet (): "}),y.jsx("input",{type:"text",value:f,onChange:q=>h(q.target.value),placeholder:"Add char...",maxLength:1,className:"symbol-input"}),y.jsx("button",{type:"submit",disabled:!f.trim(),children:"Add"})]}),y.jsx("div",{className:"table-wrapper",children:y.jsx("table",{className:"transition-table",children:H?v==="list"?y.jsxs(y.Fragment,{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{textAlign:"left",borderRight:"none"},children:"Start State"}),y.jsx("th",{style:{textAlign:"center"},children:"Read"}),y.jsx("th",{style:{textAlign:"center"},children:"Write"}),y.jsx("th",{style:{textAlign:"center"},children:"Direction"}),y.jsx("th",{style:{textAlign:"center"},children:"Next State"})]})}),y.jsx("tbody",{children:P.map((q,le)=>y.jsxs("tr",{children:[y.jsx("td",{style:{textAlign:"left",fontWeight:"bold"},children:q.start}),y.jsx("td",{children:q.read.replace(/,/g,", ")}),y.jsx("td",{children:q.write}),y.jsx("td",{children:q.direction}),y.jsx("td",{style:{fontStyle:"italic"},children:q.end})]},le))})]}):y.jsxs(y.Fragment,{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsxs("th",{className:"diagonal-cell",children:[y.jsx("span",{className:"diagonal-top",children:"Read"}),y.jsx("span",{className:"diagonal-bottom",children:"Q"})]}),$.map(q=>y.jsx("th",{className:"symbol-header",children:q},q))]})}),y.jsx("tbody",{children:j.map(q=>y.jsxs("tr",{children:[y.jsx("td",{className:"row-header",children:tr(q)}),$.map(le=>{const me=X[q.id]?.[le];return y.jsx("td",{children:me?y.jsx("span",{className:"rule-cell",style:{fontSize:"0.85rem"},children:me}):y.jsx("span",{className:"empty-cell",children:"/"})},`${q.id}-${le}`)})]},q.id))})]}):y.jsxs(y.Fragment,{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsxs("th",{className:"diagonal-cell",children:[y.jsx("span",{className:"diagonal-top",children:""}),y.jsx("span",{className:"diagonal-bottom",children:"Q"})]}),K.map(q=>y.jsxs("th",{className:"symbol-header",style:{position:"relative"},children:[y.jsx("span",{style:{color:I.has(q)?"#1565c0":"#a21f1f"},children:q}),y.jsx("button",{className:"delete-symbol-btn",onClick:()=>O(q),children:""})]},q))]})}),y.jsx("tbody",{children:j.map(q=>y.jsxs("tr",{children:[y.jsx("td",{className:"row-header",children:tr(q)}),K.map(le=>{const me=E[q.id]?.[le];return y.jsx("td",{children:me?y.jsx("span",{className:"rule-cell",children:me}):y.jsx("span",{className:"empty-cell",children:"/"})},`${q.id}-${le}`)})]},q.id))})]})})}),m&&y.jsx("div",{className:"resize-handle",onMouseDown:Q})]}),F&&y.jsx("div",{className:"popup-overlay",style:{zIndex:3e3},onClick:q=>q.stopPropagation(),children:y.jsxs("div",{className:"popup-menu",style:{maxWidth:"400px",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[y.jsxs("h3",{children:['Manage Symbol: "',F,'"']}),y.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"20px",textAlign:"center"},children:"This symbol is used in the diagram. Deleting it will remove all rules that read this character."}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Replace with another character?"}),y.jsx("input",{type:"text",maxLength:1,value:V,onChange:q=>G(q.target.value),placeholder:"New char...",className:"symbol-input",style:{width:"80%",margin:"0 auto"}})]}),y.jsxs("div",{className:"popup-actions",style:{flexDirection:"column",gap:"10px"},children:[y.jsx("button",{className:"add-label-button",style:{backgroundColor:"#d1e7dd",width:"100%",color:"#0f5132"},onClick:()=>oe("replace"),disabled:!V.trim(),children:"Replace Everywhere"}),y.jsxs("button",{className:"remove-button",style:{width:"100%",margin:0},onClick:()=>oe("delete"),children:['Delete All Rules with "',F,'"']}),y.jsx("button",{className:"window-toggle-btn",style:{width:"100%"},onClick:()=>{Y(null),G("")},children:"Cancel"})]})]})})]})}const K3="aabbaa",Z3=[{id:"1767729035491",type:"start",position:{x:221.36712341185802,y:74.2449226678741},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:221.36712341185802,y:74.2449226678741},dragging:!1},{id:"1767729040312",type:"accept",position:{x:223.87699866178912,y:-70.28085418390305},data:{label:"S1"},width:59,height:59,selected:!1,positionAbsolute:{x:223.87699866178912,y:-70.28085418390305},dragging:!1},{id:"1767729044317",type:"normal",position:{x:5.656113212958246,y:41.666253874867095},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:5.656113212958246,y:41.666253874867095},dragging:!1},{id:"1767729046669",type:"normal",position:{x:481.38833215736753,y:56.258899945885105},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:481.38833215736753,y:56.258899945885105},dragging:!1},{id:"1767729048778",type:"normal",position:{x:3.3693528287274717,y:267.6110701274309},data:{label:"S4"},width:57,height:57,selected:!1,dragging:!1,positionAbsolute:{x:3.3693528287274717,y:267.6110701274309}},{id:"1767729055048",type:"normal",position:{x:223.3082550803263,y:259.2875621510783},data:{label:"S5"},width:57,height:57,selected:!0,positionAbsolute:{x:223.3082550803263,y:259.2875621510783},dragging:!1},{id:"1767729057614",type:"normal",position:{x:449.3826572271382,y:266.1850444100668},data:{label:"S6"},width:57,height:57,selected:!1,positionAbsolute:{x:449.3826572271382,y:266.1850444100668},dragging:!1},{id:"1767729063212",type:"normal",position:{x:205.53225955787028,y:406.867285909216},data:{label:"S7"},width:57,height:57,selected:!1,positionAbsolute:{x:205.53225955787028,y:406.867285909216},dragging:!1}],G3=[{source:"1767729035491",sourceHandle:"T",target:"1767729040312",targetHandle:"B",id:"edge-1767729094272",type:"draggable",markerEnd:{type:"arrowclosed",color:"#c7b52a"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!0,activeSymbol:"",stepCount:8}},{source:"1767729035491",sourceHandle:"R",target:"1767729046669",targetHandle:"L",id:"edge-1767729126552",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"b",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729035491",sourceHandle:"TL",target:"1767729044317",targetHandle:"R",id:"edge-1767729153787",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"a",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:-2.1840876233579753,dyOffset:-4.368203018896861},selected:!1},{source:"1767729044317",sourceHandle:"TL",target:"1767729044317",targetHandle:"T",id:"edge-1767729205000",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:34.156113212958246,py:-43.833746125132905,t:.5,sourceX:19.906113212958246,sourceY:70.1662538748671,targetX:48.406113212958246,targetY:70.1662538748671,labels:[{read:"a",write:"a",direction:"R"},{read:"b",write:"b",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729044317",sourceHandle:"B",target:"1767729048778",targetHandle:"T",id:"edge-1767729215648",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1767729048778",sourceHandle:"TR",target:"1767729040312",targetHandle:"BL",id:"edge-1767729242199",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729048778",sourceHandle:"R",target:"1767729055048",targetHandle:"L",id:"edge-1767729256814",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"a",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:2.6501562257756888,dyOffset:0},selected:!1},{source:"1767729048778",sourceHandle:"BR",target:"1767729063212",targetHandle:"L",id:"edge-1767729269171",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"b",write:"b",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729055048",sourceHandle:"BL",target:"1767729055048",targetHandle:"B",id:"edge-1767729278690",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:240.069107563892,py:184.96312156215913,t:.5,sourceX:225.819107563892,sourceY:298.96312156215913,targetX:254.319107563892,targetY:298.96312156215913,labels:[{read:"a",write:"a",direction:"L"},{read:"b",write:"b",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:-3.640155296323596,dyOffset:-31.305329993946742},selected:!1},{source:"1767729055048",sourceHandle:"T",target:"1767729035491",targetHandle:"B",id:"edge-1767729296355",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729057614",sourceHandle:"B",target:"1767729063212",targetHandle:"R",id:"edge-1767729312642",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"a",write:"a",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729057614",sourceHandle:"L",target:"1767729055048",targetHandle:"R",id:"edge-1767729320662",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"b",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729046669",sourceHandle:"B",target:"1767729057614",targetHandle:"T",id:"edge-1767729335727",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729057614",sourceHandle:"TL",target:"1767729040312",targetHandle:"BR",id:"edge-1767729348420",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:35.673533012843606,dyOffset:49.50610647556472},selected:!1},{source:"1767729046669",sourceHandle:"T",target:"1767729046669",targetHandle:"TR",id:"edge-1767729398719",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:509.88833215736753,py:-29.241100054114895,t:.5,sourceX:495.63833215736753,sourceY:84.7588999458851,targetX:524.1383321573676,targetY:84.7588999458851,labels:[{read:"a",write:"a",direction:"R"},{read:"b",write:"b",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}}],q3={defaultInput:K3,nodes:Z3,edges:G3},J3="1011",e2=[{id:"1767730162245",type:"start",position:{x:-628.9474162860629,y:145.6121871134109},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-628.9474162860629,y:145.6121871134109},dragging:!1},{id:"1767730166691",type:"normal",position:{x:-505.7669816820013,y:146.4234303846272},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-505.7669816820013,y:146.4234303846272},dragging:!1},{id:"1767730170107",type:"accept",position:{x:-373.12632385414076,y:146.029398202495},data:{label:"S2"},width:57,height:57,selected:!0,dragging:!1,positionAbsolute:{x:-373.12632385414076,y:146.029398202495}}],t2=[{source:"1767730162245",sourceHandle:"R",target:"1767730166691",targetHandle:"L",id:"edge-1767730173906",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730162245",sourceHandle:"T",target:"1767730162245",targetHandle:"TR",id:"edge-1767730183498",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-592.6124444165695,py:54.627706804765495,t:.5,sourceX:-606.8624444165695,sourceY:168.6277068047655,targetX:-578.3624444165695,targetY:168.6277068047655,labels:[{read:"1",write:"1",direction:"R"},{read:"0",write:"0",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:10,dyOffset:27.599990844726562},selected:!1},{source:"1767730166691",sourceHandle:"R",target:"1767730170107",targetHandle:"L",id:"edge-1767730193993",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"0",write:"1",direction:"L"},{read:"",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730166691",sourceHandle:"T",target:"1767730166691",targetHandle:"TR",id:"edge-1767730210381",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-481.184467616748,py:59.356436010728515,t:.5,sourceX:-495.434467616748,sourceY:173.35643601072852,targetX:-466.934467616748,targetY:173.35643601072852,labels:[{read:"1",write:"0",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:7.20001220703125,dyOffset:24},selected:!1}],n2={defaultInput:J3,nodes:e2,edges:t2},r2="",o2=[{id:"1767730468038",type:"start",position:{x:-676.1633330049825,y:103.61632340007677},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-676.1633330049825,y:103.61632340007677},dragging:!1},{id:"1767730471172",type:"normal",position:{x:-548.3255928253445,y:1.7616890966623941},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-548.3255928253445,y:1.7616890966623941},dragging:!1},{id:"1767730473634",type:"normal",position:{x:-445.6667465274849,y:98.91534027838071},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:-445.6667465274849,y:98.91534027838071},dragging:!1},{id:"1767730476323",type:"accept",position:{x:-560.8339280732059,y:185.13455552196814},data:{label:"S3"},width:57,height:57,selected:!0,dragging:!1,positionAbsolute:{x:-560.8339280732059,y:185.13455552196814}}],i2=[{source:"1767730468038",sourceHandle:"T",target:"1767730471172",targetHandle:"L",id:"edge-1767730574765",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"1",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730471172",sourceHandle:"T",target:"1767730471172",targetHandle:"TR",id:"edge-1767730587293",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-472.88481096670415,py:-48.0633166907709,t:.5,sourceX:-487.13481096670415,sourceY:65.9366833092291,targetX:-458.63481096670415,targetY:65.9366833092291,labels:[{read:"1",write:"1",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.949518245763723,dyOffset:32.94335876766441},selected:!1},{source:"1767730471172",sourceHandle:"BL",target:"1767730468038",targetHandle:"TR",id:"edge-1767730597614",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:11.90914289536801,dyOffset:11.282378620419795},selected:!1},{source:"1767730468038",sourceHandle:"R",target:"1767730473634",targetHandle:"L",id:"edge-1767730616556",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"1",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730473634",sourceHandle:"T",target:"1767730471172",targetHandle:"R",id:"edge-1767730625097",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730473634",sourceHandle:"BL",target:"1767730476323",targetHandle:"TR",id:"edge-1767730636793",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"1",write:"1",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}}],s2={defaultInput:r2,nodes:o2,edges:i2},l2="aabbaa",a2=[{id:"1768845757853",type:"start",position:{x:-330.886326644982,y:-40.06562833010889},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-330.886326644982,y:-40.06562833010889},dragging:!1},{id:"1768845759686",type:"normal",position:{x:-159.96525835153832,y:-41.989483239438414},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-159.96525835153832,y:-41.989483239438414},dragging:!1},{id:"1768845761935",type:"normal",position:{x:-13.979036438922634,y:-44.077840915681975},data:{label:"S2"},width:59,height:59,selected:!1,positionAbsolute:{x:-13.979036438922634,y:-44.077840915681975},dragging:!1},{id:"1768845763550",type:"accept",position:{x:158.98021123712698,y:-44.976571065769235},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:158.98021123712698,y:-44.976571065769235},dragging:!1}],u2=[{source:"1768845757853",sourceHandle:"T",target:"1768845757853",targetHandle:"TR",id:"edge-1768845774795",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-307.2972693806422,py:-119.42694991053364,t:.5,sourceX:-321.5472693806422,sourceY:-5.4269499105336365,targetX:-293.0472693806422,targetY:-5.4269499105336365,labels:[{tape1:{read:"a",write:"a",direction:"R"},tape2:{read:"",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"R"},tape2:{read:"",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:22.590366558052825},selected:!1},{source:"1768845757853",sourceHandle:"R",target:"1768845759686",targetHandle:"L",id:"edge-1768846440934",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1768845759686",sourceHandle:"T",target:"1768845759686",targetHandle:"TR",id:"edge-1768846500551",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-130.50333089687354,py:-125.5656283301089,t:.5,sourceX:-144.75333089687354,sourceY:-11.565628330108893,targetX:-116.25333089687354,targetY:-11.565628330108893,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"a",write:"a",direction:"L"}},{tape1:{read:"",write:"",direction:"N"},tape2:{read:"b",write:"b",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:5.89319123082373,dyOffset:19.643770942640963},selected:!1},{source:"1768845759686",sourceHandle:"R",target:"1768845761935",targetHandle:"L",id:"edge-1768846534078",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"L"},tape2:{read:"",write:"",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!0},{source:"1768845761935",sourceHandle:"T",target:"1768845761935",targetHandle:"TR",id:"edge-1768846622466",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:15.520963561077366,py:-132.57784091568197,t:.5,sourceX:.770963561077366,sourceY:-14.577840915681975,targetX:30.270963561077366,targetY:-14.577840915681975,labels:[{tape1:{read:"a",write:"a",direction:"L"},tape2:{read:"a",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"L"},tape2:{read:"b",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:21.608118062889336},selected:!1},{source:"1768845761935",sourceHandle:"R",target:"1768845763550",targetHandle:"L",id:"edge-1768846647715",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:.9821735601241878,dyOffset:-.9821735601241878},selected:!1}],c2={defaultInput:l2,nodes:a2,edges:u2},d2="aabb#aabb",f2=[{id:"1768845757853",type:"start",position:{x:-330.886326644982,y:-40.06562833010889},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-330.886326644982,y:-40.06562833010889},dragging:!1},{id:"1768845759686",type:"normal",position:{x:-159.96525835153832,y:-41.989483239438414},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-159.96525835153832,y:-41.989483239438414},dragging:!1},{id:"1768845761935",type:"normal",position:{x:-13.979036438922634,y:-44.077840915681975},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:-13.979036438922634,y:-44.077840915681975},dragging:!1},{id:"1768845763550",type:"accept",position:{x:158.98021123712698,y:-44.976571065769235},data:{label:"S3"},width:59,height:59,selected:!1,positionAbsolute:{x:158.98021123712698,y:-44.976571065769235},dragging:!1}],p2=[{source:"1768845757853",sourceHandle:"T",target:"1768845757853",targetHandle:"TR",id:"edge-1768845774795",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-307.2972693806422,py:-119.42694991053364,t:.5,sourceX:-321.5472693806422,sourceY:-5.4269499105336365,targetX:-293.0472693806422,targetY:-5.4269499105336365,labels:[{tape1:{read:"a",write:"a",direction:"R"},tape2:{read:"",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"R"},tape2:{read:"",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:22.590366558052825},selected:!1},{source:"1768845757853",sourceHandle:"R",target:"1768845759686",targetHandle:"L",id:"edge-1768846440934",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"#",write:"",direction:"N"},tape2:{read:"",write:"",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1768845759686",sourceHandle:"T",target:"1768845759686",targetHandle:"TR",id:"edge-1768846500551",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-130.50333089687354,py:-125.5656283301089,t:.5,sourceX:-144.75333089687354,sourceY:-11.565628330108893,targetX:-116.25333089687354,targetY:-11.565628330108893,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"a",write:"a",direction:"L"}},{tape1:{read:"",write:"",direction:"N"},tape2:{read:"b",write:"b",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:5.89319123082373,dyOffset:19.643770942640963},selected:!1},{source:"1768845759686",sourceHandle:"R",target:"1768845761935",targetHandle:"L",id:"edge-1768846534078",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"R"},tape2:{read:"",write:"",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1768845761935",sourceHandle:"T",target:"1768845761935",targetHandle:"TR",id:"edge-1768846622466",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:15.520963561077366,py:-132.57784091568197,t:.5,sourceX:.770963561077366,sourceY:-14.577840915681975,targetX:30.270963561077366,targetY:-14.577840915681975,labels:[{tape1:{read:"a",write:"a",direction:"R"},tape2:{read:"a",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"R"},tape2:{read:"b",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:21.608118062889336},selected:!0},{source:"1768845761935",sourceHandle:"R",target:"1768845763550",targetHandle:"L",id:"edge-1768846647715",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:.9821735601241878,dyOffset:-.9821735601241878},selected:!1}],h2={defaultInput:d2,nodes:f2,edges:p2},g2="1011+10",m2=[{id:"1768850787231",type:"start",position:{x:-794.1175096790427,y:108.95197339888205},data:{label:"S0"},width:57,height:57},{id:"1768850801767",type:"normal",position:{x:-653.8715132151108,y:130.10639744651417},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-653.8715132151108,y:130.10639744651417},dragging:!1},{id:"1768850802817",type:"normal",position:{x:-495.6050814513438,y:123.83841995091944},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:-495.6050814513438,y:123.83841995091944},dragging:!1},{id:"1768850804031",type:"normal",position:{x:-605.4073701620664,y:288.5904915550781},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:-605.4073701620664,y:288.5904915550781},dragging:!1},{id:"1768850805060",type:"normal",position:{x:-873.3539802139617,y:318.5729916368649},data:{label:"S4"},width:57,height:57,selected:!1,positionAbsolute:{x:-873.3539802139617,y:318.5729916368649},dragging:!1},{id:"1768851283751",type:"accept",position:{x:-605.9435922519613,y:437.5119483283645},data:{label:"S5"},width:59,height:59,selected:!1,positionAbsolute:{x:-605.9435922519613,y:437.5119483283645},dragging:!1}],y2=[{source:"1768850787231",sourceHandle:"T",target:"1768850787231",targetHandle:"TR",id:"edge-1768850815211",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-765.6175096790427,py:23.451973398882046,t:.5,sourceX:-779.8675096790427,sourceY:137.45197339888205,targetX:-751.3675096790427,targetY:137.45197339888205,labels:[{tape1:{read:"0",write:"0",direction:"R"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"1",write:"1",direction:"R"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850787231",sourceHandle:"R",target:"1768850801767",targetHandle:"TL",id:"edge-1768850884650",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"+",write:"",direction:"R"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850801767",sourceHandle:"T",target:"1768850801767",targetHandle:"TR",id:"edge-1768850922659",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-625.3715132151108,py:44.606397446514165,t:.5,sourceX:-639.6215132151108,sourceY:158.60639744651417,targetX:-611.1215132151108,targetY:158.60639744651417,labels:[{tape1:{read:"0",write:"",direction:"R"},tape2:{read:"",write:"0",direction:"R"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"1",write:"",direction:"R"},tape2:{read:"",write:"1",direction:"R"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850801767",sourceHandle:"R",target:"1768850802817",targetHandle:"L",id:"edge-1768850993328",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850802817",sourceHandle:"T",target:"1768850802817",targetHandle:"TR",id:"edge-1768851020628",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-467.1050814513438,py:38.338419950919445,t:.5,sourceX:-481.3550814513438,sourceY:152.33841995091944,targetX:-452.8550814513438,targetY:152.33841995091944,labels:[{tape1:{read:"",write:"",direction:"L"},tape2:{read:"0",write:"0",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"1",write:"1",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850802817",sourceHandle:"B",target:"1768850804031",targetHandle:"TR",id:"edge-1768851080008",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"1",write:"1",direction:"N"},tape2:{read:"0",write:"0",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"1",write:"1",direction:"N"},tape2:{read:"1",write:"1",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"0",write:"0",direction:"N"},tape2:{read:"1",write:"1",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"0",write:"0",direction:"N"},tape2:{read:"0",write:"0",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:-5.098373335565389,dyOffset:29.084675279091883},selected:!0},{source:"1768850804031",sourceHandle:"R",target:"1768850804031",targetHandle:"BR",id:"edge-1768851198325",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-576.9073701620664,py:203.09049155507807,t:.5,sourceX:-591.1573701620664,sourceY:317.0904915550781,targetX:-562.6573701620664,targetY:317.0904915550781,labels:[{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"0",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:24.02504717348046,dyOffset:8.736378265612812},selected:!1},{source:"1768850804031",sourceHandle:"L",target:"1768850805060",targetHandle:"R",id:"edge-1768851256883",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"0",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:.6267881853848272,dyOffset:19.43076849304223},selected:!1},{source:"1768850804031",sourceHandle:"B",target:"1768851283751",targetHandle:"T",id:"edge-1768851290036",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850805060",sourceHandle:"TR",target:"1768850804031",targetHandle:"TL",id:"edge-1768851421114",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"1",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:3.760800843618803,dyOffset:-24.44509788655746},selected:!1},{source:"1768850805060",sourceHandle:"TL",target:"1768850805060",targetHandle:"T",id:"edge-1768851449192",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-776.6010684078943,py:204.86178809035698,t:.5,sourceX:-790.8510684078943,sourceY:318.861788090357,targetX:-762.3510684078943,targetY:318.861788090357,labels:[{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"0",direction:"L"}}]},selected:!1},{source:"1768850805060",sourceHandle:"BR",target:"1768851283751",targetHandle:"L",id:"edge-1768851578319",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"1",direction:"N"}}]}}],v2={defaultInput:g2,nodes:m2,edges:y2},x2="110110",w2=[{id:"1769959666460",type:"start",position:{x:38.35241041254963,y:35.45600945936451},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:38.35241041254963,y:35.45600945936451},dragging:!1},{id:"1769959667738",type:"normal",position:{x:185.6806924823568,y:33.000538091534395},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:185.6806924823568,y:33.000538091534395},dragging:!1},{id:"1769959668695",type:"normal",position:{x:328.0980318165038,y:23.17865262021394},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:328.0980318165038,y:23.17865262021394},dragging:!1},{id:"1769959669622",type:"normal",position:{x:497.5255561967821,y:8.44582441323314},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:497.5255561967821,y:8.44582441323314},dragging:!1},{id:"1769959670585",type:"normal",position:{x:314.592939293438,y:231.89371888577404},data:{label:"S4"},width:57,height:57,selected:!1,positionAbsolute:{x:314.592939293438,y:231.89371888577404},dragging:!1},{id:"1769959672052",type:"normal",position:{x:501.2087632485272,y:235.57692593751926},data:{label:"S5"},width:57,height:57,selected:!1,positionAbsolute:{x:501.2087632485272,y:235.57692593751926},dragging:!1},{id:"1769959762505",type:"accept",position:{x:146.72151139835478,y:204.15718738834596},data:{label:"S6"},width:57,height:57,selected:!1,positionAbsolute:{x:146.72151139835478,y:204.15718738834596},dragging:!1},{id:"1769977614997",type:"normal",position:{x:34.60002304290401,y:203.51780219096577},data:{label:"S7"},width:57,height:57,selected:!1,positionAbsolute:{x:34.60002304290401,y:203.51780219096577},dragging:!1}],S2=[{source:"1769959666460",sourceHandle:"T",target:"1769959666460",targetHandle:"R",id:"edge-1769959710294",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:68.08014609646469,py:-75.82643990285175,t:.5,sourceX:53.83014609646469,sourceY:38.173560097148254,targetX:82.33014609646469,targetY:38.173560097148254,labels:[{read:"0",write:"A",direction:"R"},{read:"1",write:"B",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:25.536905972185213,dyOffset:20.625944502765147},selected:!1},{source:"1769959666460",sourceHandle:"R",target:"1769959667738",targetHandle:"L",id:"edge-1769959734046",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"0",write:"0",direction:"L"},{read:"1",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959667738",sourceHandle:"T",target:"1769959667738",targetHandle:"TR",id:"edge-1769959797656",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:214.1806924823568,py:-52.499461908465605,t:.5,sourceX:199.9306924823568,sourceY:61.500538091534395,targetX:228.4306924823568,targetY:61.500538091534395,labels:[{read:"A",write:"A",direction:"L"},{read:"B",write:"B",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:10.804059031444668,dyOffset:23.572502650657363},selected:!1},{source:"1769959667738",sourceHandle:"R",target:"1769959668695",targetHandle:"L",id:"edge-1769959828519",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959668695",sourceHandle:"T",target:"1769959668695",targetHandle:"R",id:"edge-1769959851706",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:376.2418027591448,py:-48.81625485672038,t:.5,sourceX:361.9918027591448,sourceY:65.18374514327962,targetX:390.4918027591448,targetY:65.18374514327962,labels:[{read:"X",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:25.53688723842539,dyOffset:25.53688723842539},selected:!1},{source:"1769959668695",sourceHandle:"R",target:"1769959669622",targetHandle:"L",id:"edge-1769959887189",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"A",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959668695",sourceHandle:"BL",target:"1769959762505",targetHandle:"TR",id:"edge-1769959936828",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"N"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959669622",sourceHandle:"T",target:"1769959669622",targetHandle:"TR",id:"edge-1769959955522",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:526.0255561967821,py:-77.05417558676686,t:.5,sourceX:511.7755561967821,sourceY:36.94582441323314,targetX:540.2755561967821,targetY:36.94582441323314,labels:[{read:"A",write:"A",direction:"R"},{read:"B",write:"B",direction:"R"},{read:"X",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959668695",sourceHandle:"B",target:"1769959670585",targetHandle:"T",id:"edge-1769959995423",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"B",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959669622",sourceHandle:"B",target:"1769959672052",targetHandle:"T",id:"edge-1769960027798",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"0",write:"X",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959670585",sourceHandle:"TR",target:"1769959670585",targetHandle:"R",id:"edge-1769960047964",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:351.68708908084346,py:78.86825627044573,t:.5,sourceX:337.43708908084346,sourceY:192.86825627044573,targetX:365.93708908084346,targetY:192.86825627044573,labels:[{read:"A",write:"A",direction:"R"},{read:"B",write:"B",direction:"R"},{read:"X",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:39.287541885281925,dyOffset:46.16290667622984},selected:!1},{source:"1769959670585",sourceHandle:"R",target:"1769959672052",targetHandle:"L",id:"edge-1769960079990",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"1",write:"X",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959672052",sourceHandle:"TR",target:"1769959672052",targetHandle:"R",id:"edge-1769960131615",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:526.025556196782,py:80.0959919543609,t:.5,sourceX:511.775556196782,sourceY:194.0959919543609,targetX:540.275556196782,targetY:194.0959919543609,labels:[{read:"A",write:"A",direction:"L"},{read:"B",write:"B",direction:"L"},{read:"1",write:"1",direction:"L"},{read:"0",write:"0",direction:"L"},{read:"X",write:"X",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:52.05602297201427,dyOffset:52.055985504494615},selected:!1},{source:"1769959672052",sourceHandle:"TL",target:"1769959668695",targetHandle:"BR",id:"edge-1769960169956",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}]},selected:!1},{source:"1769959666460",sourceHandle:"B",target:"1769977614997",targetHandle:"T",id:"edge-1769977632154",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}]},selected:!1},{source:"1769977614997",sourceHandle:"R",target:"1769959762505",targetHandle:"L",id:"edge-1769977647191",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}]},selected:!0}],E2={defaultInput:x2,nodes:w2,edges:S2},N2="#",C2=[{id:"1770043036391",type:"start",position:{x:-2.8709644562864582,y:158.92006393886834},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-2.8709644562864582,y:158.92006393886834},dragging:!1},{id:"1770043042082",type:"normal",position:{x:139.90314829187986,y:106.4747301833176},data:{label:"S1"},width:57,height:57},{id:"1770043043847",type:"normal",position:{x:141.9268020933894,y:237.33767601426837},data:{label:"S2"},width:57,height:57},{id:"1770043066132",type:"accept",position:{x:280.20981186320853,y:165.16069042709452},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:280.20981186320853,y:165.16069042709452},dragging:!1}],k2=[{source:"1770043036391",sourceHandle:"R",target:"1770043042082",targetHandle:"L",id:"edge-1770043046655",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"V",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043036391",sourceHandle:"R",target:"1770043043847",targetHandle:"L",id:"edge-1770043057213",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"V",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043042082",sourceHandle:"R",target:"1770043066132",targetHandle:"L",id:"edge-1770043072966",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"#",write:"#",direction:"N"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043043847",sourceHandle:"R",target:"1770043066132",targetHandle:"L",id:"edge-1770043085212",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"#",write:"#",direction:"N"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043042082",sourceHandle:"TL",target:"1770043042082",targetHandle:"T",id:"edge-1770043124385",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:168.40314829187986,py:20.974730183317604,t:.5,sourceX:154.15314829187986,sourceY:134.9747301833176,targetX:182.65314829187986,targetY:134.9747301833176,labels:[{read:"",write:"V",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:2.184059851177065,dyOffset:16.016688858260004},selected:!1},{source:"1770043043847",sourceHandle:"TL",target:"1770043043847",targetHandle:"T",id:"edge-1770043138578",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:170.4268020933894,py:151.83767601426837,t:.5,sourceX:156.1768020933894,sourceY:265.83767601426837,targetX:184.6768020933894,targetY:265.83767601426837,labels:[{read:"",write:"V",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:7.857463416032804,dyOffset:21.608118062889336},selected:!0}],_2={defaultInput:N2,nodes:C2,edges:k2},Dp={palindrome:q3,binary_increment:n2,busy_beaver:s2,palindrome_multi:c2,is_equal_multi:h2,binary_addition:v2,is_equal_NTM:E2,Find_hash:_2};function b2({engine:n,selectedExample:o,showTable:i,setShowTable:l}){const[a,c,d]=t0([]),[f,h,m]=n0([]),[g,v]=b.useState(null),[x,S]=b.useState(null),[C,N]=b.useState(""),[T,_]=b.useState(0),[A,D]=b.useState(""),[R,L]=b.useState([]),[W,V]=b.useState(!1);b.useEffect(()=>{c([]),h([]),D(""),L([]),_(0),N(""),v(null),S(null),V(!1)},[n,c,h]),b.useEffect(()=>{if(o&&Dp[o]){const{nodes:Q,edges:K,defaultInput:E}=Dp[o];c(Q),h(K),D(E||""),v(null),S(null),_(0),N(""),L([]),V(!1)}},[o,c,h]);const G=b.useCallback(()=>{c([]),h([]),D(""),L([]),_(0),N(""),v(null),S(null),V(!1)},[c,h]),F=b.useMemo(()=>{const Q=new Set;return f.forEach(K=>{K.data?.labels?.forEach(E=>{E.read!==void 0&&E.read!==""&&Q.add(E.read),E.write!==void 0&&E.write!==""&&Q.add(E.write),Object.keys(E).forEach(j=>{if(j.startsWith("tape")){const I=E[j];I.read&&Q.add(I.read),I.write&&Q.add(I.write)}})})}),new Set([...Q,...R])},[f,R]),Y=b.useCallback(Q=>{L(K=>K.filter(E=>E!==Q)),h(K=>K.map(E=>({...E,data:{...E.data,labels:(E.data.labels||[]).filter(j=>n==="MultiTape"?!Object.keys(j).some(I=>I.startsWith("tape")?j[I].read===Q||j[I].write===Q:!1):j.read!==Q&&j.write!==Q)}})).filter(E=>E.data.labels&&E.data.labels.length>0)),S(null),N("")},[n,h,L,S,N]),U=b.useCallback((Q,K)=>{h(E=>E.map(j=>({...j,data:{...j.data,labels:j.data.labels.map(I=>{const H={...I};return n==="MultiTape"?Object.keys(H).forEach(P=>{P.startsWith("tape")&&(H[P].read===Q&&(H[P].read=K),H[P].write===Q&&(H[P].write=K))}):(H.read===Q&&(H.read=K),H.write===Q&&(H.write=K)),H})}})))},[n,h]);return y.jsx(xl,{children:y.jsxs("div",{className:"visualiser",children:[i&&y.jsx(Q3,{nodes:a,edges:f,manualSymbols:R,setManualSymbols:L,onClose:()=>l(!1),onDeleteSymbol:Y,onReplaceSymbol:U}),y.jsx("div",{className:"tape-container-wrapper",children:y.jsx(f3,{nodes:a,edges:f,setNodes:c,activeNodeId:g,setActiveNodeId:v,setActiveEdgeId:S,setCurrentSymbol:N,setStepCount:_,loadedInput:A,validAlphabet:F,engine:n,isRunning:W,setIsRunning:V})}),y.jsx("div",{className:"diagram-container-wrapper",children:y.jsx(Y3,{nodes:a,edges:f,onNodesChange:d,onEdgesChange:m,setNodes:c,setEdges:h,activeNodeId:g,activeEdgeId:x,currentSymbol:C,stepCount:T,engine:n,onClear:G,isLocked:W},o)})]})})}function T2({onClose:n}){const o=[{category:"Turing Machines",id:"cat-tm",items:[{id:"dtm",title:"Deterministic Turing Machine (DTM)",hasVideo:!1,content:y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["A ",y.jsx("strong",{children:"Deterministic Turing Machine (DTM)"})," is the standard model of computation. In a DTM, the set of rules prescribes exactly ",y.jsx("em",{children:"one"})," action to be performed for any given situation. The machine consists of a finite control, an infinite tape, and a read/write head."]}),y.jsxs("div",{className:"formal-def-box",children:[y.jsx("h4",{children:"Formal Definition"}),y.jsxs("p",{children:["A DTM is a 7-tuple ",y.jsx("strong",{children:"M = (Q, , b, , , q, F)"})," where:"]}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Q"}),": A finite non-empty set of states."]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": A finite non-empty set of the tape alphabet symbols (includes  and the blank symbol )."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"b"}),": The blank symbol ."]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": The set of input symbols."]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": The Transition function (further explained below)."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"q"}),": The initial state."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"F"}),": The set of final states or accepting states."]})]}),y.jsx("h4",{children:"Transition Function ()"}),y.jsxs("div",{className:"math-block",children:[" : Q    Q    ","{L, R}"]}),y.jsx("p",{children:"This means: Given a current state (Q) and the symbol currently under the head (), the machine moves to a new state (Q), writes a symbol (), and moves the head Left (L) or Right (R)."})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"In this simulator:"})," If you define multiple transitions for the same symbol the transition defined first will be the one simulated. To simulate multiple transitions for the same symbol switch engine mode to Non-Deterministic."]})]})},{id:"ntm",title:"Non-Deterministic Turing Machine (NTM)",hasVideo:!1,content:y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["A ",y.jsx("strong",{children:"Non-Deterministic Turing Machine (NTM)"})," allows for multiple possible moves from the same configuration."]}),y.jsxs("div",{className:"formal-def-box",children:[y.jsx("h4",{children:"Formal Difference"}),y.jsxs("p",{children:["The definition is identical to a DTM, except for the ",y.jsx("strong",{children:"transition function"}),". Instead of returning a single next move, it returns a ",y.jsx("em",{children:"set"})," of possible next moves."]}),y.jsx("h4",{children:"Transition Function"}),y.jsxs("div",{className:"math-block",children:[" : Q    (Q    ","{L, R, N}",")"]}),y.jsxs("p",{children:["Where ",y.jsx("strong",{children:""})," denotes the power set. This means for a given state and tape symbol, there can be zero, one, or multiple valid transitions."]})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"In this simulator:"}),' When the machine encounters a non-deterministic choice, it "branches." The visualiser creates a new thread for every possible path. If ',y.jsx("em",{children:"any"})," thread reaches the Accept state, the input is accepted."]})]})},{id:"multitape",title:"Multi-Tape Turing Machine",hasVideo:!1,content:y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["A ",y.jsx("strong",{children:"Multi-Tape Turing Machine"})," uses ",y.jsx("em",{children:"k"})," independent tapes, each with its own read/write head. The input is initially placed on the first tape, while the others are blank."]}),y.jsxs("div",{className:"formal-def-box",children:[y.jsx("h4",{children:"Formal Definition"}),y.jsxs("p",{children:["The definition is identical to a DTM, except for the ",y.jsx("strong",{children:"transition function"})," which now depends on k tape symbols simultaneously."]}),y.jsx("h4",{children:"Transition Function"}),y.jsxs("div",{className:"math-block",children:[" : Q    Q    ","{L, R, N}",""]}),y.jsxs("p",{children:["This means: Based on the current state and the ",y.jsx("em",{children:"k"})," symbols read from the tapes, the machine transitions to a new state, writes ",y.jsx("em",{children:"k"})," new symbols (one on each tape), and moves each head independently (Left, Right, or None)."]})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Note:"})," It has been proven that a Single-Tape machine can simulate a Multi-Tape machine, but Multi-Tape machines are often more efficient. If you are interested in seeing how a single-tape machine can simulate a multitape machine check out the 'Simulate on single tape' button in Multi-Tape mode."]})]})}]},{category:"Type of States",id:"cat-state-info",items:[{id:"state-info",title:"States",hasVideo:!1,content:y.jsxs(y.Fragment,{children:[y.jsx("h4",{children:"Start State"}),y.jsxs("p",{children:["The ",y.jsx("strong",{children:"Start State"})," is the initial state of the machine. Computation always begins here, with the read/write head positioned at the start of the input on the tape."]}),y.jsxs("p",{children:["Formally, this corresponds to ",y.jsx("strong",{children:"q"})," in the 7-tuple definition."]}),y.jsx("img",{src:"p",alt:"Start State image"}),y.jsx("h4",{children:"Normal State"}),y.jsxs("p",{children:["A ",y.jsx("strong",{children:"Normal State"})," represents an intermediate step in the computation. The machine transitions between normal states as it reads symbols, writes new symbols, and moves the tape head."]}),y.jsxs("p",{children:["These states belong to the set ",y.jsx("strong",{children:"Q"}),"."]}),y.jsx("img",{src:"p",alt:"Normal State image"}),y.jsx("h4",{children:"Accept State"}),y.jsxs("p",{children:["An ",y.jsx("strong",{children:"Accept State"})," indicates that the input has been accepted. When the machine enters this state, the computation halts and the input is considered valid."]}),y.jsxs("p",{children:["Formally, accept states belong to the set ",y.jsx("strong",{children:"F  Q"}),"."]}),y.jsxs("p",{children:["In this simulator, reaching an Accept State immediately stops execution. For Non-Deterministic machines, if ",y.jsx("em",{children:"any"})," thread reaches an Accept State, the input is accepted."]}),y.jsx("img",{src:"p",alt:"Accept State image"})]})}]},{category:"Edit States",id:"cat-states-edit",items:[{id:"create-state",title:"Creating a State",hasVideo:!0,content:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:"To create a new state in the diagram drag any node from the left-hand toolbar and drop it onto the canvas."}),y.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"delete-state",title:"Deleting a State",hasVideo:!0,content:y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Click on a state to select it and press the ",y.jsx("strong",{children:"Backspace"})," key on your keyboard.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("em",{children:"Warning:"})," This will also delete any transition edges connected to this state."]}),y.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"rename-state",title:"Renaming a State",hasVideo:!0,content:y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["right-click the state you want to rename. A pop-up will appear. Type your new name and press ",y.jsx("strong",{children:"save changes"})," to save."]}),y.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"change-props",title:"Change from Normal to Accept State",hasVideo:!0,content:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:"double-click on a state to change it from a normal state to accept and vice versa"}),y.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})}]},{category:"Transitions",id:"cat-edges",items:[{id:"create-edge",title:"Creating Transitions",hasVideo:!0,content:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:"Hover over the state too see the black dots surrounding the state, hover over the dot of your choice and your cursor will change. Click and drag the line to a target state. To create a self-loop, drag the line back to a dot on the source state itself."}),y.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"edit-edge",title:"Editing Symbols",hasVideo:!0,content:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:"double-click on the line of the rule you want to edit ."}),y.jsxs("div",{className:"formal-def-box",children:[y.jsx("h4",{children:"Syntax Format"}),y.jsx("p",{children:y.jsx("strong",{children:"Read, Write, Direction"})}),y.jsxs("p",{children:["Example: ",y.jsx("code",{children:"a, b, R"})]}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Read:"})," The symbol on the tape."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Write:"})," The symbol to overwrite with."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Direction:"})," L (Left), R (Right), or N (None)."]})]})]}),y.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})}]}],[i,l]=b.useState("cat-tm"),[a,c]=b.useState("dtm"),f=(()=>{for(const x of o){const S=x.items.find(C=>C.id===a);if(S)return S}return null})(),h=o.flatMap(x=>x.items),m=h.findIndex(x=>x.id===a),g=()=>{if(m<h.length-1){const x=h[m+1];c(x.id);const S=o.find(C=>C.items.some(N=>N.id===x.id));S&&l(S.id)}},v=()=>{if(m>0){const x=h[m-1];c(x.id);const S=o.find(C=>C.items.some(N=>N.id===x.id));S&&l(S.id)}};return y.jsx("div",{className:"popup-overlay",onClick:n,style:{zIndex:3e3},children:y.jsxs("div",{className:"help-modal-container",onClick:x=>x.stopPropagation(),children:[y.jsxs("div",{className:"help-modal-header",children:[y.jsx("h3",{children:"Help Guide"}),y.jsx("button",{className:"help-close-btn",onClick:n,children:""})]}),y.jsxs("div",{className:"help-modal-body",children:[y.jsx("div",{className:"help-sidebar",children:o.map(x=>{const S=i===x.id;return y.jsxs("div",{className:"help-category-group",children:[y.jsxs("div",{className:`help-category-header ${S?"active":""}`,onClick:()=>l(S?null:x.id),children:[y.jsx("span",{children:x.category}),y.jsx("span",{children:S?"":""})]}),S&&y.jsx("div",{className:"help-subitems",children:x.items.map(C=>y.jsxs("div",{className:`help-item-row ${a===C.id?"selected":""}`,onClick:()=>c(C.id),children:[y.jsx("span",{className:"bullet",children:""}),C.title.includes("(")?C.title.split("(")[0]:C.title]},C.id))})]},x.id)})}),y.jsx("div",{className:"help-content",children:f&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"help-title",children:f.title}),y.jsx("div",{className:"help-text-body",children:f.content})]})})]}),y.jsxs("div",{className:"help-modal-footer",children:[y.jsx("button",{className:"nav-btn",onClick:v,disabled:m===0,children:" Previous"}),y.jsxs("span",{className:"page-count",children:[m+1," / ",h.length]}),y.jsx("button",{className:"nav-btn",onClick:g,disabled:m===h.length-1,children:"Next "})]})]})})}const R2={Deterministic:[{value:"palindrome",label:"Palindrome Detector"},{value:"binary_increment",label:"Binary Increment"},{value:"busy_beaver",label:"Busy Beaver (3-state)"}],MultiTape:[{value:"palindrome_multi",label:"Palindrome (2-Tape)"},{value:"is_equal_multi",label:"Is Equal (2-Tape)"},{value:"binary_addition",label:"Binary Addition (3-Tape)"}],NonDeterministic:[{value:"palindrome",label:"Palindrome (DTM)"},{value:"binary_increment",label:"Binary Increment (DTM)"},{value:"Find_hash",label:"Find hash (NTM)"},{value:"is_equal_NTM",label:"Is Equal (NTM)"}]};function j2(){const[n,o]=b.useState("Deterministic"),[i,l]=b.useState(""),[a,c]=b.useState(!1),[d,f]=b.useState(!1);b.useEffect(()=>{l("")},[n]);const h=g=>{o(g.target.value)},m=R2[n]||[];return y.jsxs("div",{className:"app",children:[y.jsxs("div",{className:"app-header",children:[y.jsxs("div",{className:"header-left",children:[y.jsx("h1",{children:"Turing Machine Simulator"}),y.jsxs("div",{className:"header-controls",children:[y.jsxs("div",{className:"selector-group",children:[y.jsx("label",{htmlFor:"engine-select",children:"Engine:"}),y.jsxs("select",{id:"engine-select",value:n,onChange:h,children:[y.jsx("option",{value:"Deterministic",children:"Deterministic"}),y.jsx("option",{value:"NonDeterministic",children:"Non-Deterministic"}),y.jsx("option",{value:"MultiTape",children:"Multi-Tape"})]})]}),y.jsxs("div",{className:"selector-group",children:[y.jsx("label",{htmlFor:"example-select",children:"Examples:"}),y.jsxs("select",{id:"example-select",value:i,onChange:g=>l(g.target.value),disabled:m.length===0,children:[y.jsx("option",{value:"",children:"-- Select an Example --"}),m.map(g=>y.jsx("option",{value:g.value,children:g.label},g.value))]})]})]})]}),y.jsxs("div",{className:"header-right",children:[y.jsx("button",{className:"header-button",onClick:()=>f(!0),children:"? Help"}),y.jsx("button",{className:"header-button",onClick:()=>c(!0),children:"Transition Table"})]})]}),y.jsx(b2,{engine:n,selectedExample:i,showTable:a,setShowTable:c}),d&&y.jsx(T2,{onClose:()=>f(!1)})]})}um.createRoot(document.getElementById("root")).render(y.jsx(re.StrictMode,{children:y.jsx(j2,{})}));
