(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function Pu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ru={exports:{}},ei={},ou={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function Gg(){if(jf)return je;jf=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function T(k,H,ie){this.props=k,this.context=H,this.refs=N,this.updater=ie||E}T.prototype.isReactComponent={},T.prototype.setState=function(k,H){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,H,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=T.prototype;function j(k,H,ie){this.props=k,this.context=H,this.refs=N,this.updater=ie||E}var z=j.prototype=new C;z.constructor=j,_(z,T.prototype),z.isPureReactComponent=!0;var I=Array.isArray,P=Object.prototype.hasOwnProperty,Y={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function q(k,H,ie){var se,pe={},J=null,ue=null;if(H!=null)for(se in H.ref!==void 0&&(ue=H.ref),H.key!==void 0&&(J=""+H.key),H)P.call(H,se)&&!U.hasOwnProperty(se)&&(pe[se]=H[se]);var he=arguments.length-2;if(he===1)pe.children=ie;else if(1<he){for(var Ee=Array(he),ge=0;ge<he;ge++)Ee[ge]=arguments[ge+2];pe.children=Ee}if(k&&k.defaultProps)for(se in he=k.defaultProps,he)pe[se]===void 0&&(pe[se]=he[se]);return{$$typeof:n,type:k,key:J,ref:ue,props:pe,_owner:Y.current}}function X(k,H){return{$$typeof:n,type:k.type,key:H,ref:k.ref,props:k.props,_owner:k._owner}}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function B(k){var H={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return H[ie]})}var Z=/\/+/g;function G(k,H){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):H.toString(36)}function S(k,H,ie,se,pe){var J=typeof k;(J==="undefined"||J==="boolean")&&(k=null);var ue=!1;if(k===null)ue=!0;else switch(J){case"string":case"number":ue=!0;break;case"object":switch(k.$$typeof){case n:case o:ue=!0}}if(ue)return ue=k,pe=pe(ue),k=se===""?"."+G(ue,0):se,I(pe)?(ie="",k!=null&&(ie=k.replace(Z,"$&/")+"/"),S(pe,H,ie,"",function(ge){return ge})):pe!=null&&(W(pe)&&(pe=X(pe,ie+(!pe.key||ue&&ue.key===pe.key?"":(""+pe.key).replace(Z,"$&/")+"/")+k)),H.push(pe)),1;if(ue=0,se=se===""?".":se+":",I(k))for(var he=0;he<k.length;he++){J=k[he];var Ee=se+G(J,he);ue+=S(J,H,ie,Ee,pe)}else if(Ee=x(k),typeof Ee=="function")for(k=Ee.call(k),he=0;!(J=k.next()).done;)J=J.value,Ee=se+G(J,he++),ue+=S(J,H,ie,Ee,pe);else if(J==="object")throw H=String(k),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ue}function A(k,H,ie){if(k==null)return k;var se=[],pe=0;return S(k,se,"","",function(J){return H.call(ie,J,pe++)}),se}function L(k){if(k._status===-1){var H=k._result;H=H(),H.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=H)}if(k._status===1)return k._result.default;throw k._result}var O={current:null},$={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:$,ReactCurrentOwner:Y};function V(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:A,forEach:function(k,H,ie){A(k,function(){H.apply(this,arguments)},ie)},count:function(k){var H=0;return A(k,function(){H++}),H},toArray:function(k){return A(k,function(H){return H})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},je.Component=T,je.Fragment=i,je.Profiler=a,je.PureComponent=j,je.StrictMode=l,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,je.act=V,je.cloneElement=function(k,H,ie){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var se=_({},k.props),pe=k.key,J=k.ref,ue=k._owner;if(H!=null){if(H.ref!==void 0&&(J=H.ref,ue=Y.current),H.key!==void 0&&(pe=""+H.key),k.type&&k.type.defaultProps)var he=k.type.defaultProps;for(Ee in H)P.call(H,Ee)&&!U.hasOwnProperty(Ee)&&(se[Ee]=H[Ee]===void 0&&he!==void 0?he[Ee]:H[Ee])}var Ee=arguments.length-2;if(Ee===1)se.children=ie;else if(1<Ee){he=Array(Ee);for(var ge=0;ge<Ee;ge++)he[ge]=arguments[ge+2];se.children=he}return{$$typeof:n,type:k.type,key:pe,ref:J,props:se,_owner:ue}},je.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},je.createElement=q,je.createFactory=function(k){var H=q.bind(null,k);return H.type=k,H},je.createRef=function(){return{current:null}},je.forwardRef=function(k){return{$$typeof:p,render:k}},je.isValidElement=W,je.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:L}},je.memo=function(k,H){return{$$typeof:y,type:k,compare:H===void 0?null:H}},je.startTransition=function(k){var H=$.transition;$.transition={};try{k()}finally{$.transition=H}},je.unstable_act=V,je.useCallback=function(k,H){return O.current.useCallback(k,H)},je.useContext=function(k){return O.current.useContext(k)},je.useDebugValue=function(){},je.useDeferredValue=function(k){return O.current.useDeferredValue(k)},je.useEffect=function(k,H){return O.current.useEffect(k,H)},je.useId=function(){return O.current.useId()},je.useImperativeHandle=function(k,H,ie){return O.current.useImperativeHandle(k,H,ie)},je.useInsertionEffect=function(k,H){return O.current.useInsertionEffect(k,H)},je.useLayoutEffect=function(k,H){return O.current.useLayoutEffect(k,H)},je.useMemo=function(k,H){return O.current.useMemo(k,H)},je.useReducer=function(k,H,ie){return O.current.useReducer(k,H,ie)},je.useRef=function(k){return O.current.useRef(k)},je.useState=function(k){return O.current.useState(k)},je.useSyncExternalStore=function(k,H,ie){return O.current.useSyncExternalStore(k,H,ie)},je.useTransition=function(){return O.current.useTransition()},je.version="18.3.1",je}var Af;function vi(){return Af||(Af=1,ou.exports=Gg()),ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function qg(){if(Mf)return ei;Mf=1;var n=vi(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,h,y){var m,v={},x=null,E=null;y!==void 0&&(x=""+y),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)l.call(h,m)&&!c.hasOwnProperty(m)&&(v[m]=h[m]);if(p&&p.defaultProps)for(m in h=p.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:o,type:p,key:x,ref:E,props:v,_owner:a.current}}return ei.Fragment=i,ei.jsx=d,ei.jsxs=d,ei}var If;function Jg(){return If||(If=1,ru.exports=qg()),ru.exports}var g=Jg(),b=vi();const oe=Pu(b);var Fs={},iu={exports:{}},Mt={},su={exports:{}},lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function em(){return Lf||(Lf=1,(function(n){function o($,M){var V=$.length;$.push(M);e:for(;0<V;){var k=V-1>>>1,H=$[k];if(0<a(H,M))$[k]=M,$[V]=H,V=k;else break e}}function i($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var M=$[0],V=$.pop();if(V!==M){$[0]=V;e:for(var k=0,H=$.length,ie=H>>>1;k<ie;){var se=2*(k+1)-1,pe=$[se],J=se+1,ue=$[J];if(0>a(pe,V))J<H&&0>a(ue,pe)?($[k]=ue,$[J]=V,k=J):($[k]=pe,$[se]=V,k=se);else if(J<H&&0>a(ue,V))$[k]=ue,$[J]=V,k=J;else break e}}return M}function a($,M){var V=$.sortIndex-M.sortIndex;return V!==0?V:$.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var h=[],y=[],m=1,v=null,x=3,E=!1,_=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z($){for(var M=i(y);M!==null;){if(M.callback===null)l(y);else if(M.startTime<=$)l(y),M.sortIndex=M.expirationTime,o(h,M);else break;M=i(y)}}function I($){if(N=!1,z($),!_)if(i(h)!==null)_=!0,L(P);else{var M=i(y);M!==null&&O(I,M.startTime-$)}}function P($,M){_=!1,N&&(N=!1,C(q),q=-1),E=!0;var V=x;try{for(z(M),v=i(h);v!==null&&(!(v.expirationTime>M)||$&&!B());){var k=v.callback;if(typeof k=="function"){v.callback=null,x=v.priorityLevel;var H=k(v.expirationTime<=M);M=n.unstable_now(),typeof H=="function"?v.callback=H:v===i(h)&&l(h),z(M)}else l(h);v=i(h)}if(v!==null)var ie=!0;else{var se=i(y);se!==null&&O(I,se.startTime-M),ie=!1}return ie}finally{v=null,x=V,E=!1}}var Y=!1,U=null,q=-1,X=5,W=-1;function B(){return!(n.unstable_now()-W<X)}function Z(){if(U!==null){var $=n.unstable_now();W=$;var M=!0;try{M=U(!0,$)}finally{M?G():(Y=!1,U=null)}}else Y=!1}var G;if(typeof j=="function")G=function(){j(Z)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,A=S.port2;S.port1.onmessage=Z,G=function(){A.postMessage(null)}}else G=function(){T(Z,0)};function L($){U=$,Y||(Y=!0,G())}function O($,M){q=T(function(){$(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){_||E||(_=!0,L(P))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var V=x;x=M;try{return $()}finally{x=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,M){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=x;x=$;try{return M()}finally{x=V}},n.unstable_scheduleCallback=function($,M,V){var k=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?k+V:k):V=k,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,$={id:m++,callback:M,priorityLevel:$,startTime:V,expirationTime:H,sortIndex:-1},V>k?($.sortIndex=V,o(y,$),i(h)===null&&$===i(y)&&(N?(C(q),q=-1):N=!0,O(I,V-k))):($.sortIndex=H,o(h,$),_||E||(_=!0,L(P))),$},n.unstable_shouldYield=B,n.unstable_wrapCallback=function($){var M=x;return function(){var V=x;x=M;try{return $.apply(this,arguments)}finally{x=V}}}})(lu)),lu}var $f;function tm(){return $f||($f=1,su.exports=em()),su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function nm(){if(Df)return Mt;Df=1;var n=vi(),o=tm();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function x(e){return h.call(v,e)?!0:h.call(m,e)?!1:y.test(e)?v[e]=!0:(m[e]=!0,!1)}function E(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,r,s){if(t===null||typeof t>"u"||E(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,s,u,f,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=w}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,j);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,j);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,j);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,r,s){var u=T.hasOwnProperty(t)?T[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,r,u,s)&&(r=null),s||u===null?x(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),Y=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),B=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),$=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,k;function H(e){if(k===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var ie=!1;function se(e,t){if(!e||ie)return"";ie=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ne){var s=ne}Reflect.construct(e,[],t)}else{try{t.call()}catch(ne){s=ne}e.call(t.prototype)}else{try{throw Error()}catch(ne){s=ne}e()}}catch(ne){if(ne&&s&&typeof ne.stack=="string"){for(var u=ne.stack.split(`
`),f=s.stack.split(`
`),w=u.length-1,R=f.length-1;1<=w&&0<=R&&u[w]!==f[R];)R--;for(;1<=w&&0<=R;w--,R--)if(u[w]!==f[R]){if(w!==1||R!==1)do if(w--,R--,0>R||u[w]!==f[R]){var D=`
`+u[w].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=w&&0<=R);break}}}finally{ie=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?H(e):""}function pe(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function J(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case Y:return"Portal";case X:return"Profiler";case q:return"StrictMode";case G:return"Suspense";case S:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}function ue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ge(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(w){s=""+w,f.call(this,w)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(w){s=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Le(e){e._valueTracker||(e._valueTracker=ge(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Ee(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ie(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fe(e,t){var r=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function He(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=he(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function re(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function te(e,t){re(e,t);var r=he(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?le(e,t.type,r):t.hasOwnProperty("defaultValue")&&le(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function le(e,t,r){(t!=="number"||Ie(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ve=Array.isArray;function _e(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+he(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function $e(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Te(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(ve(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:he(r)}}function Be(e,t){var r=he(t.value),s=he(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yt,Ke=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yt=yt||document.createElement("div"),yt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ht(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(Ye).forEach(function(e){Ht.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ye[t]=Ye[e]})});function an(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ye.hasOwnProperty(e)&&Ye[e]?(""+t).trim():t+"px"}function un(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=an(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var Ln=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(e,t){if(t){if(Ln[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Kt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xn=null,cn=null,wn=null;function dn(e){if(e=Ho(e)){if(typeof xn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=ns(t),xn(e.stateNode,e.type,t))}}function Ei(e){cn?wn?wn.push(e):wn=[e]:cn=e}function Ni(){if(cn){var e=cn,t=wn;if(wn=cn=null,dn(e),t)for(e=0;e<t.length;e++)dn(t[e])}}function _i(e,t){return e(t)}function ki(){}var mo=!1;function Ci(e,t,r){if(mo)return e(t,r);mo=!0;try{return _i(e,t,r)}finally{mo=!1,(cn!==null||wn!==null)&&(ki(),Ni())}}function ur(e,t){var r=e.stateNode;if(r===null)return null;var s=ns(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var yo=!1;if(p)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){yo=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{yo=!1}function vl(e,t,r,s,u,f,w,R,D){var ne=Array.prototype.slice.call(arguments,3);try{t.apply(r,ne)}catch(ce){this.onError(ce)}}var dr=!1,jr=null,Ar=!1,vo=null,xl={onError:function(e){dr=!0,jr=e}};function wl(e,t,r,s,u,f,w,R,D){dr=!1,jr=null,vl.apply(xl,arguments)}function bi(e,t,r,s,u,f,w,R,D){if(wl.apply(this,arguments),dr){if(dr){var ne=jr;dr=!1,jr=null}else throw Error(i(198));Ar||(Ar=!0,vo=ne)}}function Sn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ti(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ri(e){if(Sn(e)!==e)throw Error(i(188))}function Sl(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return Ri(u),e;if(f===s)return Ri(u),t;f=f.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=f;else{for(var w=!1,R=u.child;R;){if(R===r){w=!0,r=u,s=f;break}if(R===s){w=!0,s=u,r=f;break}R=R.sibling}if(!w){for(R=f.child;R;){if(R===r){w=!0,r=f,s=u;break}if(R===s){w=!0,s=f,r=u;break}R=R.sibling}if(!w)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function ji(e){return e=Sl(e),e!==null?Ai(e):null}function Ai(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ai(e);if(t!==null)return t;e=e.sibling}return null}var Mi=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Li=o.unstable_shouldYield,El=o.unstable_requestPaint,Ze=o.unstable_now,Nl=o.unstable_getCurrentPriorityLevel,xo=o.unstable_ImmediatePriority,$i=o.unstable_UserBlockingPriority,Mr=o.unstable_NormalPriority,Di=o.unstable_LowPriority,zi=o.unstable_IdlePriority,Ir=null,Ot=null;function wo(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ir,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:g0,p0=Math.log,h0=Math.LN2;function g0(e){return e>>>=0,e===0?32:31-(p0(e)/h0|0)|0}var Pi=64,Hi=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,f=e.pingedLanes,w=r&268435455;if(w!==0){var R=w&~u;R!==0?s=So(R):(f&=w,f!==0&&(s=So(f)))}else w=r&~u,w!==0?s=So(w):f!==0&&(s=So(f));if(s===0)return 0;if(t!==0&&t!==s&&(t&u)===0&&(u=s&-s,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Zt(t),u=1<<r,s|=e[r],t&=~u;return s}function m0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var w=31-Zt(f),R=1<<w,D=u[w];D===-1?((R&r)===0||(R&s)!==0)&&(u[w]=m0(R,t)):D<=t&&(e.expiredLanes|=R),f&=~R}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sc(){var e=Pi;return Pi<<=1,(Pi&4194240)===0&&(Pi=64),e}function kl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Eo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function v0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Zt(r),f=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~f}}function Cl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Zt(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var Oe=0;function lc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ac,bl,uc,cc,dc,Tl=!1,Fi=[],$n=null,Dn=null,zn=null,No=new Map,_o=new Map,Pn=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":No.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(t.pointerId)}}function ko(e,t,r,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Ho(t),t!==null&&bl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function w0(e,t,r,s,u){switch(t){case"focusin":return $n=ko($n,e,t,r,s,u),!0;case"dragenter":return Dn=ko(Dn,e,t,r,s,u),!0;case"mouseover":return zn=ko(zn,e,t,r,s,u),!0;case"pointerover":var f=u.pointerId;return No.set(f,ko(No.get(f)||null,e,t,r,s,u)),!0;case"gotpointercapture":return f=u.pointerId,_o.set(f,ko(_o.get(f)||null,e,t,r,s,u)),!0}return!1}function pc(e){var t=fr(e.target);if(t!==null){var r=Sn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ti(r),t!==null){e.blockedOn=t,dc(e.priority,function(){uc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);lr=s,r.target.dispatchEvent(s),lr=null}else return t=Ho(r),t!==null&&bl(t),e.blockedOn=r,!1;t.shift()}return!0}function hc(e,t,r){Bi(e)&&r.delete(t)}function S0(){Tl=!1,$n!==null&&Bi($n)&&($n=null),Dn!==null&&Bi(Dn)&&(Dn=null),zn!==null&&Bi(zn)&&(zn=null),No.forEach(hc),_o.forEach(hc)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,Tl||(Tl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,S0)))}function bo(e){function t(u){return Co(u,e)}if(0<Fi.length){Co(Fi[0],e);for(var r=1;r<Fi.length;r++){var s=Fi[r];s.blockedOn===e&&(s.blockedOn=null)}}for($n!==null&&Co($n,e),Dn!==null&&Co(Dn,e),zn!==null&&Co(zn,e),No.forEach(t),_o.forEach(t),r=0;r<Pn.length;r++)s=Pn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Pn.length&&(r=Pn[0],r.blockedOn===null);)pc(r),r.blockedOn===null&&Pn.shift()}var Lr=I.ReactCurrentBatchConfig,Vi=!0;function E0(e,t,r,s){var u=Oe,f=Lr.transition;Lr.transition=null;try{Oe=1,Rl(e,t,r,s)}finally{Oe=u,Lr.transition=f}}function N0(e,t,r,s){var u=Oe,f=Lr.transition;Lr.transition=null;try{Oe=4,Rl(e,t,r,s)}finally{Oe=u,Lr.transition=f}}function Rl(e,t,r,s){if(Vi){var u=jl(e,t,r,s);if(u===null)Yl(e,t,s,Ui,r),fc(e,s);else if(w0(u,e,t,r,s))s.stopPropagation();else if(fc(e,s),t&4&&-1<x0.indexOf(e)){for(;u!==null;){var f=Ho(u);if(f!==null&&ac(f),f=jl(e,t,r,s),f===null&&Yl(e,t,s,Ui,r),f===u)break;u=f}u!==null&&s.stopPropagation()}else Yl(e,t,s,null,r)}}var Ui=null;function jl(e,t,r,s){if(Ui=null,e=ar(s),e=fr(e),e!==null)if(t=Sn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ti(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nl()){case xo:return 1;case $i:return 4;case Mr:case Di:return 16;case zi:return 536870912;default:return 16}default:return 16}}var Hn=null,Al=null,Wi=null;function mc(){if(Wi)return Wi;var e,t=Al,r=t.length,s,u="value"in Hn?Hn.value:Hn.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var w=r-e;for(s=1;s<=w&&t[r-s]===u[f-s];s++);return Wi=u.slice(e,1<s?1-s:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function yc(){return!1}function Lt(e){function t(r,s,u,f,w){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(r=e[R],this[R]=r?r(f):f[R]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:yc,this.isPropagationStopped=yc,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Lt($r),To=V({},$r,{view:0,detail:0}),_0=Lt(To),Il,Ll,Ro,Qi=V({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(Il=e.screenX-Ro.screenX,Ll=e.screenY-Ro.screenY):Ll=Il=0,Ro=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Ll}}),vc=Lt(Qi),k0=V({},Qi,{dataTransfer:0}),C0=Lt(k0),b0=V({},To,{relatedTarget:0}),$l=Lt(b0),T0=V({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),R0=Lt(T0),j0=V({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A0=Lt(j0),M0=V({},$r,{data:0}),xc=Lt(M0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$0[e])?!!t[e]:!1}function Dl(){return D0}var z0=V({},To,{key:function(e){if(e.key){var t=I0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P0=Lt(z0),H0=V({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=Lt(H0),O0=V({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),F0=Lt(O0),B0=V({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=Lt(B0),U0=V({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W0=Lt(U0),X0=[9,13,27,32],zl=p&&"CompositionEvent"in window,jo=null;p&&"documentMode"in document&&(jo=document.documentMode);var Y0=p&&"TextEvent"in window&&!jo,Sc=p&&(!zl||jo&&8<jo&&11>=jo),Ec=" ",Nc=!1;function _c(e,t){switch(e){case"keyup":return X0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Q0(e,t){switch(e){case"compositionend":return kc(t);case"keypress":return t.which!==32?null:(Nc=!0,Ec);case"textInput":return e=t.data,e===Ec&&Nc?null:e;default:return null}}function K0(e,t){if(Dr)return e==="compositionend"||!zl&&_c(e,t)?(e=mc(),Wi=Al=Hn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sc&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function bc(e,t,r,s){Ei(s),t=Ji(t,"onChange"),0<t.length&&(r=new Ml("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Ao=null,Mo=null;function G0(e){Wc(e,0)}function Ki(e){var t=Fr(e);if(Ve(t))return e}function q0(e,t){if(e==="change")return t}var Tc=!1;if(p){var Pl;if(p){var Hl="oninput"in document;if(!Hl){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),Hl=typeof Rc.oninput=="function"}Pl=Hl}else Pl=!1;Tc=Pl&&(!document.documentMode||9<document.documentMode)}function jc(){Ao&&(Ao.detachEvent("onpropertychange",Ac),Mo=Ao=null)}function Ac(e){if(e.propertyName==="value"&&Ki(Mo)){var t=[];bc(t,Mo,e,ar(e)),Ci(G0,t)}}function J0(e,t,r){e==="focusin"?(jc(),Ao=t,Mo=r,Ao.attachEvent("onpropertychange",Ac)):e==="focusout"&&jc()}function eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Mo)}function tg(e,t){if(e==="click")return Ki(t)}function ng(e,t){if(e==="input"||e==="change")return Ki(t)}function rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:rg;function Io(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!h.call(t,u)||!Gt(e[u],t[u]))return!1}return!0}function Mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ic(e,t){var r=Mc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mc(r)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(){for(var e=window,t=Ie();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ie(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function og(e){var t=$c(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Lc(r.ownerDocument.documentElement,r)){if(s!==null&&Ol(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(s.start,u);s=s.end===void 0?f:Math.min(s.end,u),!e.extend&&f>s&&(u=s,s=f,f=u),u=Ic(r,f);var w=Ic(r,s);u&&w&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ig=p&&"documentMode"in document&&11>=document.documentMode,zr=null,Fl=null,Lo=null,Bl=!1;function Dc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bl||zr==null||zr!==Ie(s)||(s=zr,"selectionStart"in s&&Ol(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Lo&&Io(Lo,s)||(Lo=s,s=Ji(Fl,"onSelect"),0<s.length&&(t=new Ml("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zr)))}function Zi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pr={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Vl={},zc={};p&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Gi(e){if(Vl[e])return Vl[e];if(!Pr[e])return e;var t=Pr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zc)return Vl[e]=t[r];return e}var Pc=Gi("animationend"),Hc=Gi("animationiteration"),Oc=Gi("animationstart"),Fc=Gi("transitionend"),Bc=new Map,Vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Bc.set(e,t),c(t,[e])}for(var Ul=0;Ul<Vc.length;Ul++){var Wl=Vc[Ul],sg=Wl.toLowerCase(),lg=Wl[0].toUpperCase()+Wl.slice(1);On(sg,"on"+lg)}On(Pc,"onAnimationEnd"),On(Hc,"onAnimationIteration"),On(Oc,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Fc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ag=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function Uc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,bi(s,t,void 0,e),e.currentTarget=null}function Wc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var w=s.length-1;0<=w;w--){var R=s[w],D=R.instance,ne=R.currentTarget;if(R=R.listener,D!==f&&u.isPropagationStopped())break e;Uc(u,R,ne),f=D}else for(w=0;w<s.length;w++){if(R=s[w],D=R.instance,ne=R.currentTarget,R=R.listener,D!==f&&u.isPropagationStopped())break e;Uc(u,R,ne),f=D}}}if(Ar)throw e=vo,Ar=!1,vo=null,e}function We(e,t){var r=t[Jl];r===void 0&&(r=t[Jl]=new Set);var s=e+"__bubble";r.has(s)||(Xc(t,e,2,!1),r.add(s))}function Xl(e,t,r){var s=0;t&&(s|=4),Xc(r,e,s,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[qi]){e[qi]=!0,l.forEach(function(r){r!=="selectionchange"&&(ag.has(r)||Xl(r,!1,e),Xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Xl("selectionchange",!1,t))}}function Xc(e,t,r,s){switch(gc(t)){case 1:var u=E0;break;case 4:u=N0;break;default:u=Rl}r=u.bind(null,t,r,e),u=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Yl(e,t,r,s,u){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var R=s.stateNode.containerInfo;if(R===u||R.nodeType===8&&R.parentNode===u)break;if(w===4)for(w=s.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===u||D.nodeType===8&&D.parentNode===u))return;w=w.return}for(;R!==null;){if(w=fr(R),w===null)return;if(D=w.tag,D===5||D===6){s=f=w;continue e}R=R.parentNode}}s=s.return}Ci(function(){var ne=f,ce=ar(r),de=[];e:{var ae=Bc.get(e);if(ae!==void 0){var me=Ml,we=e;switch(e){case"keypress":if(Xi(r)===0)break e;case"keydown":case"keyup":me=P0;break;case"focusin":we="focus",me=$l;break;case"focusout":we="blur",me=$l;break;case"beforeblur":case"afterblur":me=$l;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=F0;break;case Pc:case Hc:case Oc:me=R0;break;case Fc:me=V0;break;case"scroll":me=_0;break;case"wheel":me=W0;break;case"copy":case"cut":case"paste":me=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=wc}var Se=(t&4)!==0,ot=!Se&&e==="scroll",K=Se?ae!==null?ae+"Capture":null:ae;Se=[];for(var F=ne,ee;F!==null;){ee=F;var fe=ee.stateNode;if(ee.tag===5&&fe!==null&&(ee=fe,K!==null&&(fe=ur(F,K),fe!=null&&Se.push(zo(F,fe,ee)))),ot)break;F=F.return}0<Se.length&&(ae=new me(ae,we,null,r,ce),de.push({event:ae,listeners:Se}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",ae&&r!==lr&&(we=r.relatedTarget||r.fromElement)&&(fr(we)||we[En]))break e;if((me||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,me?(we=r.relatedTarget||r.toElement,me=ne,we=we?fr(we):null,we!==null&&(ot=Sn(we),we!==ot||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=ne),me!==we)){if(Se=vc,fe="onMouseLeave",K="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Se=wc,fe="onPointerLeave",K="onPointerEnter",F="pointer"),ot=me==null?ae:Fr(me),ee=we==null?ae:Fr(we),ae=new Se(fe,F+"leave",me,r,ce),ae.target=ot,ae.relatedTarget=ee,fe=null,fr(ce)===ne&&(Se=new Se(K,F+"enter",we,r,ce),Se.target=ee,Se.relatedTarget=ot,fe=Se),ot=fe,me&&we)t:{for(Se=me,K=we,F=0,ee=Se;ee;ee=Hr(ee))F++;for(ee=0,fe=K;fe;fe=Hr(fe))ee++;for(;0<F-ee;)Se=Hr(Se),F--;for(;0<ee-F;)K=Hr(K),ee--;for(;F--;){if(Se===K||K!==null&&Se===K.alternate)break t;Se=Hr(Se),K=Hr(K)}Se=null}else Se=null;me!==null&&Yc(de,ae,me,Se,!1),we!==null&&ot!==null&&Yc(de,ot,we,Se,!0)}}e:{if(ae=ne?Fr(ne):window,me=ae.nodeName&&ae.nodeName.toLowerCase(),me==="select"||me==="input"&&ae.type==="file")var Ne=q0;else if(Cc(ae))if(Tc)Ne=ng;else{Ne=eg;var ke=J0}else(me=ae.nodeName)&&me.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ne=tg);if(Ne&&(Ne=Ne(e,ne))){bc(de,Ne,r,ce);break e}ke&&ke(e,ae,ne),e==="focusout"&&(ke=ae._wrapperState)&&ke.controlled&&ae.type==="number"&&le(ae,"number",ae.value)}switch(ke=ne?Fr(ne):window,e){case"focusin":(Cc(ke)||ke.contentEditable==="true")&&(zr=ke,Fl=ne,Lo=null);break;case"focusout":Lo=Fl=zr=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,Dc(de,r,ce);break;case"selectionchange":if(ig)break;case"keydown":case"keyup":Dc(de,r,ce)}var Ce;if(zl)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Dr?_c(e,r)&&(be="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(be="onCompositionStart");be&&(Sc&&r.locale!=="ko"&&(Dr||be!=="onCompositionStart"?be==="onCompositionEnd"&&Dr&&(Ce=mc()):(Hn=ce,Al="value"in Hn?Hn.value:Hn.textContent,Dr=!0)),ke=Ji(ne,be),0<ke.length&&(be=new xc(be,e,null,r,ce),de.push({event:be,listeners:ke}),Ce?be.data=Ce:(Ce=kc(r),Ce!==null&&(be.data=Ce)))),(Ce=Y0?Q0(e,r):K0(e,r))&&(ne=Ji(ne,"onBeforeInput"),0<ne.length&&(ce=new xc("onBeforeInput","beforeinput",null,r,ce),de.push({event:ce,listeners:ne}),ce.data=Ce))}Wc(de,t)})}function zo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ji(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=ur(e,r),f!=null&&s.unshift(zo(e,f,u)),f=ur(e,t),f!=null&&s.push(zo(e,f,u))),e=e.return}return s}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yc(e,t,r,s,u){for(var f=t._reactName,w=[];r!==null&&r!==s;){var R=r,D=R.alternate,ne=R.stateNode;if(D!==null&&D===s)break;R.tag===5&&ne!==null&&(R=ne,u?(D=ur(r,f),D!=null&&w.unshift(zo(r,D,R))):u||(D=ur(r,f),D!=null&&w.push(zo(r,D,R)))),r=r.return}w.length!==0&&e.push({event:t,listeners:w})}var ug=/\r\n?/g,cg=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(ug,`
`).replace(cg,"")}function es(e,t,r){if(t=Qc(t),Qc(e)!==t&&r)throw Error(i(425))}function ts(){}var Ql=null,Kl=null;function Zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,dg=typeof clearTimeout=="function"?clearTimeout:void 0,Kc=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof Kc<"u"?function(e){return Kc.resolve(null).then(e).catch(pg)}:Gl;function pg(e){setTimeout(function(){throw e})}function ql(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),bo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);bo(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),fn="__reactFiber$"+Or,Po="__reactProps$"+Or,En="__reactContainer$"+Or,Jl="__reactEvents$"+Or,hg="__reactListeners$"+Or,gg="__reactHandles$"+Or;function fr(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[En]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zc(e);e!==null;){if(r=e[fn])return r;e=Zc(e)}return t}e=r,r=e.parentNode}return null}function Ho(e){return e=e[fn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ns(e){return e[Po]||null}var ea=[],Br=-1;function Bn(e){return{current:e}}function Xe(e){0>Br||(e.current=ea[Br],ea[Br]=null,Br--)}function Ue(e,t){Br++,ea[Br]=e.current,e.current=t}var Vn={},vt=Bn(Vn),bt=Bn(!1),pr=Vn;function Vr(e,t){var r=e.type.contextTypes;if(!r)return Vn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Tt(e){return e=e.childContextTypes,e!=null}function rs(){Xe(bt),Xe(vt)}function Gc(e,t,r){if(vt.current!==Vn)throw Error(i(168));Ue(vt,t),Ue(bt,r)}function qc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,ue(e)||"Unknown",u));return V({},r,s)}function os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,pr=vt.current,Ue(vt,e),Ue(bt,bt.current),!0}function Jc(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=qc(e,t,pr),s.__reactInternalMemoizedMergedChildContext=e,Xe(bt),Xe(vt),Ue(vt,e)):Xe(bt),Ue(bt,r)}var Nn=null,is=!1,ta=!1;function ed(e){Nn===null?Nn=[e]:Nn.push(e)}function mg(e){is=!0,ed(e)}function Un(){if(!ta&&Nn!==null){ta=!0;var e=0,t=Oe;try{var r=Nn;for(Oe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Nn=null,is=!1}catch(u){throw Nn!==null&&(Nn=Nn.slice(e+1)),Mi(xo,Un),u}finally{Oe=t,ta=!1}}return null}var Ur=[],Wr=0,ss=null,ls=0,Ft=[],Bt=0,hr=null,_n=1,kn="";function gr(e,t){Ur[Wr++]=ls,Ur[Wr++]=ss,ss=e,ls=t}function td(e,t,r){Ft[Bt++]=_n,Ft[Bt++]=kn,Ft[Bt++]=hr,hr=e;var s=_n;e=kn;var u=32-Zt(s)-1;s&=~(1<<u),r+=1;var f=32-Zt(t)+u;if(30<f){var w=u-u%5;f=(s&(1<<w)-1).toString(32),s>>=w,u-=w,_n=1<<32-Zt(t)+u|r<<u|s,kn=f+e}else _n=1<<f|r<<u|s,kn=e}function na(e){e.return!==null&&(gr(e,1),td(e,1,0))}function ra(e){for(;e===ss;)ss=Ur[--Wr],Ur[Wr]=null,ls=Ur[--Wr],Ur[Wr]=null;for(;e===hr;)hr=Ft[--Bt],Ft[Bt]=null,kn=Ft[--Bt],Ft[Bt]=null,_n=Ft[--Bt],Ft[Bt]=null}var $t=null,Dt=null,Qe=!1,qt=null;function nd(e,t){var r=Xt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Dt=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hr!==null?{id:_n,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,Dt=null,!0):!1;default:return!1}}function oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ia(e){if(Qe){var t=Dt;if(t){var r=t;if(!rd(e,t)){if(oa(e))throw Error(i(418));t=Fn(r.nextSibling);var s=$t;t&&rd(e,t)?nd(s,r):(e.flags=e.flags&-4097|2,Qe=!1,$t=e)}}else{if(oa(e))throw Error(i(418));e.flags=e.flags&-4097|2,Qe=!1,$t=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function as(e){if(e!==$t)return!1;if(!Qe)return od(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zl(e.type,e.memoizedProps)),t&&(t=Dt)){if(oa(e))throw id(),Error(i(418));for(;t;)nd(e,t),t=Fn(t.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=Fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=$t?Fn(e.stateNode.nextSibling):null;return!0}function id(){for(var e=Dt;e;)e=Fn(e.nextSibling)}function Xr(){Dt=$t=null,Qe=!1}function sa(e){qt===null?qt=[e]:qt.push(e)}var yg=I.ReactCurrentBatchConfig;function Oo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(w){var R=u.refs;w===null?delete R[f]:R[f]=w},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function us(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sd(e){var t=e._init;return t(e._payload)}function ld(e){function t(K,F){if(e){var ee=K.deletions;ee===null?(K.deletions=[F],K.flags|=16):ee.push(F)}}function r(K,F){if(!e)return null;for(;F!==null;)t(K,F),F=F.sibling;return null}function s(K,F){for(K=new Map;F!==null;)F.key!==null?K.set(F.key,F):K.set(F.index,F),F=F.sibling;return K}function u(K,F){return K=qn(K,F),K.index=0,K.sibling=null,K}function f(K,F,ee){return K.index=ee,e?(ee=K.alternate,ee!==null?(ee=ee.index,ee<F?(K.flags|=2,F):ee):(K.flags|=2,F)):(K.flags|=1048576,F)}function w(K){return e&&K.alternate===null&&(K.flags|=2),K}function R(K,F,ee,fe){return F===null||F.tag!==6?(F=Ga(ee,K.mode,fe),F.return=K,F):(F=u(F,ee),F.return=K,F)}function D(K,F,ee,fe){var Ne=ee.type;return Ne===U?ce(K,F,ee.props.children,fe,ee.key):F!==null&&(F.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===L&&sd(Ne)===F.type)?(fe=u(F,ee.props),fe.ref=Oo(K,F,ee),fe.return=K,fe):(fe=Is(ee.type,ee.key,ee.props,null,K.mode,fe),fe.ref=Oo(K,F,ee),fe.return=K,fe)}function ne(K,F,ee,fe){return F===null||F.tag!==4||F.stateNode.containerInfo!==ee.containerInfo||F.stateNode.implementation!==ee.implementation?(F=qa(ee,K.mode,fe),F.return=K,F):(F=u(F,ee.children||[]),F.return=K,F)}function ce(K,F,ee,fe,Ne){return F===null||F.tag!==7?(F=Nr(ee,K.mode,fe,Ne),F.return=K,F):(F=u(F,ee),F.return=K,F)}function de(K,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Ga(""+F,K.mode,ee),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return ee=Is(F.type,F.key,F.props,null,K.mode,ee),ee.ref=Oo(K,null,F),ee.return=K,ee;case Y:return F=qa(F,K.mode,ee),F.return=K,F;case L:var fe=F._init;return de(K,fe(F._payload),ee)}if(ve(F)||M(F))return F=Nr(F,K.mode,ee,null),F.return=K,F;us(K,F)}return null}function ae(K,F,ee,fe){var Ne=F!==null?F.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ne!==null?null:R(K,F,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===Ne?D(K,F,ee,fe):null;case Y:return ee.key===Ne?ne(K,F,ee,fe):null;case L:return Ne=ee._init,ae(K,F,Ne(ee._payload),fe)}if(ve(ee)||M(ee))return Ne!==null?null:ce(K,F,ee,fe,null);us(K,ee)}return null}function me(K,F,ee,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return K=K.get(ee)||null,R(F,K,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case P:return K=K.get(fe.key===null?ee:fe.key)||null,D(F,K,fe,Ne);case Y:return K=K.get(fe.key===null?ee:fe.key)||null,ne(F,K,fe,Ne);case L:var ke=fe._init;return me(K,F,ee,ke(fe._payload),Ne)}if(ve(fe)||M(fe))return K=K.get(ee)||null,ce(F,K,fe,Ne,null);us(F,fe)}return null}function we(K,F,ee,fe){for(var Ne=null,ke=null,Ce=F,be=F=0,ft=null;Ce!==null&&be<ee.length;be++){Ce.index>be?(ft=Ce,Ce=null):ft=Ce.sibling;var ze=ae(K,Ce,ee[be],fe);if(ze===null){Ce===null&&(Ce=ft);break}e&&Ce&&ze.alternate===null&&t(K,Ce),F=f(ze,F,be),ke===null?Ne=ze:ke.sibling=ze,ke=ze,Ce=ft}if(be===ee.length)return r(K,Ce),Qe&&gr(K,be),Ne;if(Ce===null){for(;be<ee.length;be++)Ce=de(K,ee[be],fe),Ce!==null&&(F=f(Ce,F,be),ke===null?Ne=Ce:ke.sibling=Ce,ke=Ce);return Qe&&gr(K,be),Ne}for(Ce=s(K,Ce);be<ee.length;be++)ft=me(Ce,K,be,ee[be],fe),ft!==null&&(e&&ft.alternate!==null&&Ce.delete(ft.key===null?be:ft.key),F=f(ft,F,be),ke===null?Ne=ft:ke.sibling=ft,ke=ft);return e&&Ce.forEach(function(Jn){return t(K,Jn)}),Qe&&gr(K,be),Ne}function Se(K,F,ee,fe){var Ne=M(ee);if(typeof Ne!="function")throw Error(i(150));if(ee=Ne.call(ee),ee==null)throw Error(i(151));for(var ke=Ne=null,Ce=F,be=F=0,ft=null,ze=ee.next();Ce!==null&&!ze.done;be++,ze=ee.next()){Ce.index>be?(ft=Ce,Ce=null):ft=Ce.sibling;var Jn=ae(K,Ce,ze.value,fe);if(Jn===null){Ce===null&&(Ce=ft);break}e&&Ce&&Jn.alternate===null&&t(K,Ce),F=f(Jn,F,be),ke===null?Ne=Jn:ke.sibling=Jn,ke=Jn,Ce=ft}if(ze.done)return r(K,Ce),Qe&&gr(K,be),Ne;if(Ce===null){for(;!ze.done;be++,ze=ee.next())ze=de(K,ze.value,fe),ze!==null&&(F=f(ze,F,be),ke===null?Ne=ze:ke.sibling=ze,ke=ze);return Qe&&gr(K,be),Ne}for(Ce=s(K,Ce);!ze.done;be++,ze=ee.next())ze=me(Ce,K,be,ze.value,fe),ze!==null&&(e&&ze.alternate!==null&&Ce.delete(ze.key===null?be:ze.key),F=f(ze,F,be),ke===null?Ne=ze:ke.sibling=ze,ke=ze);return e&&Ce.forEach(function(Zg){return t(K,Zg)}),Qe&&gr(K,be),Ne}function ot(K,F,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===U&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var Ne=ee.key,ke=F;ke!==null;){if(ke.key===Ne){if(Ne=ee.type,Ne===U){if(ke.tag===7){r(K,ke.sibling),F=u(ke,ee.props.children),F.return=K,K=F;break e}}else if(ke.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===L&&sd(Ne)===ke.type){r(K,ke.sibling),F=u(ke,ee.props),F.ref=Oo(K,ke,ee),F.return=K,K=F;break e}r(K,ke);break}else t(K,ke);ke=ke.sibling}ee.type===U?(F=Nr(ee.props.children,K.mode,fe,ee.key),F.return=K,K=F):(fe=Is(ee.type,ee.key,ee.props,null,K.mode,fe),fe.ref=Oo(K,F,ee),fe.return=K,K=fe)}return w(K);case Y:e:{for(ke=ee.key;F!==null;){if(F.key===ke)if(F.tag===4&&F.stateNode.containerInfo===ee.containerInfo&&F.stateNode.implementation===ee.implementation){r(K,F.sibling),F=u(F,ee.children||[]),F.return=K,K=F;break e}else{r(K,F);break}else t(K,F);F=F.sibling}F=qa(ee,K.mode,fe),F.return=K,K=F}return w(K);case L:return ke=ee._init,ot(K,F,ke(ee._payload),fe)}if(ve(ee))return we(K,F,ee,fe);if(M(ee))return Se(K,F,ee,fe);us(K,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,F!==null&&F.tag===6?(r(K,F.sibling),F=u(F,ee),F.return=K,K=F):(r(K,F),F=Ga(ee,K.mode,fe),F.return=K,K=F),w(K)):r(K,F)}return ot}var Yr=ld(!0),ad=ld(!1),cs=Bn(null),ds=null,Qr=null,la=null;function aa(){la=Qr=ds=null}function ua(e){var t=cs.current;Xe(cs),e._currentValue=t}function ca(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Kr(e,t){ds=e,la=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Rt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(la!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(ds===null)throw Error(i(308));Qr=e,ds.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var mr=null;function da(e){mr===null?mr=[e]:mr.push(e)}function ud(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,da(t)):(r.next=u.next,u.next=r),t.interleaved=r,Cn(e,s)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wn=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,Cn(e,r)}return u=s.interleaved,u===null?(t.next=t,da(s)):(t.next=u.next,u.next=t),s.interleaved=t,Cn(e,r)}function fs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Cl(e,r)}}function dd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var w={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=w:f=f.next=w,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ps(e,t,r,s){var u=e.updateQueue;Wn=!1;var f=u.firstBaseUpdate,w=u.lastBaseUpdate,R=u.shared.pending;if(R!==null){u.shared.pending=null;var D=R,ne=D.next;D.next=null,w===null?f=ne:w.next=ne,w=D;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==w&&(R===null?ce.firstBaseUpdate=ne:R.next=ne,ce.lastBaseUpdate=D))}if(f!==null){var de=u.baseState;w=0,ce=ne=D=null,R=f;do{var ae=R.lane,me=R.eventTime;if((s&ae)===ae){ce!==null&&(ce=ce.next={eventTime:me,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var we=e,Se=R;switch(ae=t,me=r,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){de=we.call(me,de,ae);break e}de=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ae=typeof we=="function"?we.call(me,de,ae):we,ae==null)break e;de=V({},de,ae);break e;case 2:Wn=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,ae=u.effects,ae===null?u.effects=[R]:ae.push(R))}else me={eventTime:me,lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ne=ce=me,D=de):ce=ce.next=me,w|=ae;if(R=R.next,R===null){if(R=u.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);if(ce===null&&(D=de),u.baseState=D,u.firstBaseUpdate=ne,u.lastBaseUpdate=ce,t=u.shared.interleaved,t!==null){u=t;do w|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);xr|=w,e.lanes=w,e.memoizedState=de}}function fd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Fo={},pn=Bn(Fo),Bo=Bn(Fo),Vo=Bn(Fo);function yr(e){if(e===Fo)throw Error(i(174));return e}function pa(e,t){switch(Ue(Vo,t),Ue(Bo,e),Ue(pn,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:et(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=et(t,e)}Xe(pn),Ue(pn,t)}function Zr(){Xe(pn),Xe(Bo),Xe(Vo)}function pd(e){yr(Vo.current);var t=yr(pn.current),r=et(t,e.type);t!==r&&(Ue(Bo,e),Ue(pn,r))}function ha(e){Bo.current===e&&(Xe(pn),Xe(Bo))}var Ge=Bn(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function ma(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var gs=I.ReactCurrentDispatcher,ya=I.ReactCurrentBatchConfig,vr=0,qe=null,at=null,ct=null,ms=!1,Uo=!1,Wo=0,vg=0;function xt(){throw Error(i(321))}function va(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function xa(e,t,r,s,u,f){if(vr=f,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gs.current=e===null||e.memoizedState===null?Eg:Ng,e=r(s,u),Uo){f=0;do{if(Uo=!1,Wo=0,25<=f)throw Error(i(301));f+=1,ct=at=null,t.updateQueue=null,gs.current=_g,e=r(s,u)}while(Uo)}if(gs.current=xs,t=at!==null&&at.next!==null,vr=0,ct=at=qe=null,ms=!1,t)throw Error(i(300));return e}function wa(){var e=Wo!==0;return Wo=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?qe.memoizedState=ct=e:ct=ct.next=e,ct}function Ut(){if(at===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ct===null?qe.memoizedState:ct.next;if(t!==null)ct=t,at=e;else{if(e===null)throw Error(i(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?qe.memoizedState=ct=e:ct=ct.next=e}return ct}function Xo(e,t){return typeof t=="function"?t(e):t}function Sa(e){var t=Ut(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=at,u=s.baseQueue,f=r.pending;if(f!==null){if(u!==null){var w=u.next;u.next=f.next,f.next=w}s.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,s=s.baseState;var R=w=null,D=null,ne=f;do{var ce=ne.lane;if((vr&ce)===ce)D!==null&&(D=D.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),s=ne.hasEagerState?ne.eagerState:e(s,ne.action);else{var de={lane:ce,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};D===null?(R=D=de,w=s):D=D.next=de,qe.lanes|=ce,xr|=ce}ne=ne.next}while(ne!==null&&ne!==f);D===null?w=s:D.next=R,Gt(s,t.memoizedState)||(Rt=!0),t.memoizedState=s,t.baseState=w,t.baseQueue=D,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do f=u.lane,qe.lanes|=f,xr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ea(e){var t=Ut(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var w=u=u.next;do f=e(f,w.action),w=w.next;while(w!==u);Gt(f,t.memoizedState)||(Rt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function hd(){}function gd(e,t){var r=qe,s=Ut(),u=t(),f=!Gt(s.memoizedState,u);if(f&&(s.memoizedState=u,Rt=!0),s=s.queue,Na(vd.bind(null,r,s,e),[e]),s.getSnapshot!==t||f||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Yo(9,yd.bind(null,r,s,u,t),void 0,null),dt===null)throw Error(i(349));(vr&30)!==0||md(r,t,u)}return u}function md(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yd(e,t,r,s){t.value=r,t.getSnapshot=s,xd(t)&&wd(e)}function vd(e,t,r){return r(function(){xd(t)&&wd(e)})}function xd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function wd(e){var t=Cn(e,1);t!==null&&nn(t,e,1,-1)}function Sd(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Sg.bind(null,qe,e),[t.memoizedState,e]}function Yo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Ed(){return Ut().memoizedState}function ys(e,t,r,s){var u=hn();qe.flags|=e,u.memoizedState=Yo(1|t,r,void 0,s===void 0?null:s)}function vs(e,t,r,s){var u=Ut();s=s===void 0?null:s;var f=void 0;if(at!==null){var w=at.memoizedState;if(f=w.destroy,s!==null&&va(s,w.deps)){u.memoizedState=Yo(t,r,f,s);return}}qe.flags|=e,u.memoizedState=Yo(1|t,r,f,s)}function Nd(e,t){return ys(8390656,8,e,t)}function Na(e,t){return vs(2048,8,e,t)}function _d(e,t){return vs(4,2,e,t)}function kd(e,t){return vs(4,4,e,t)}function Cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bd(e,t,r){return r=r!=null?r.concat([e]):null,vs(4,4,Cd.bind(null,t,e),r)}function _a(){}function Td(e,t){var r=Ut();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&va(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Rd(e,t){var r=Ut();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&va(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function jd(e,t,r){return(vr&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=r):(Gt(r,t)||(r=sc(),qe.lanes|=r,xr|=r,e.baseState=!0),t)}function xg(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var s=ya.transition;ya.transition={};try{e(!1),t()}finally{Oe=r,ya.transition=s}}function Ad(){return Ut().memoizedState}function wg(e,t,r){var s=Zn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Md(e))Id(t,r);else if(r=ud(e,t,r,s),r!==null){var u=_t();nn(r,e,s,u),Ld(r,t,s)}}function Sg(e,t,r){var s=Zn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Md(e))Id(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var w=t.lastRenderedState,R=f(w,r);if(u.hasEagerState=!0,u.eagerState=R,Gt(R,w)){var D=t.interleaved;D===null?(u.next=u,da(t)):(u.next=D.next,D.next=u),t.interleaved=u;return}}catch{}finally{}r=ud(e,t,u,s),r!==null&&(u=_t(),nn(r,e,s,u),Ld(r,t,s))}}function Md(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Id(e,t){Uo=ms=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ld(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Cl(e,r)}}var xs={readContext:Vt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Eg={readContext:Vt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Nd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ys(4194308,4,Cd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return ys(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=hn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=wg.bind(null,qe,e),[s.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Sd,useDebugValue:_a,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Sd(!1),t=e[0];return e=xg.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=qe,u=hn();if(Qe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),dt===null)throw Error(i(349));(vr&30)!==0||md(s,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Nd(vd.bind(null,s,f,e),[e]),s.flags|=2048,Yo(9,yd.bind(null,s,f,r,t),void 0,null),r},useId:function(){var e=hn(),t=dt.identifierPrefix;if(Qe){var r=kn,s=_n;r=(s&~(1<<32-Zt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ng={readContext:Vt,useCallback:Td,useContext:Vt,useEffect:Na,useImperativeHandle:bd,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:Rd,useReducer:Sa,useRef:Ed,useState:function(){return Sa(Xo)},useDebugValue:_a,useDeferredValue:function(e){var t=Ut();return jd(t,at.memoizedState,e)},useTransition:function(){var e=Sa(Xo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:gd,useId:Ad,unstable_isNewReconciler:!1},_g={readContext:Vt,useCallback:Td,useContext:Vt,useEffect:Na,useImperativeHandle:bd,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:Rd,useReducer:Ea,useRef:Ed,useState:function(){return Ea(Xo)},useDebugValue:_a,useDeferredValue:function(e){var t=Ut();return at===null?t.memoizedState=e:jd(t,at.memoizedState,e)},useTransition:function(){var e=Ea(Xo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:gd,useId:Ad,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ka(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:V({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ws={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=_t(),u=Zn(e),f=bn(s,u);f.payload=t,r!=null&&(f.callback=r),t=Xn(e,f,u),t!==null&&(nn(t,e,u,s),fs(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=_t(),u=Zn(e),f=bn(s,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Xn(e,f,u),t!==null&&(nn(t,e,u,s),fs(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),s=Zn(e),u=bn(r,s);u.tag=2,t!=null&&(u.callback=t),t=Xn(e,u,s),t!==null&&(nn(t,e,s,r),fs(t,e,s))}};function $d(e,t,r,s,u,f,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,w):t.prototype&&t.prototype.isPureReactComponent?!Io(r,s)||!Io(u,f):!0}function Dd(e,t,r){var s=!1,u=Vn,f=t.contextType;return typeof f=="object"&&f!==null?f=Vt(f):(u=Tt(t)?pr:vt.current,s=t.contextTypes,f=(s=s!=null)?Vr(e,u):Vn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ws,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function zd(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function Ca(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},fa(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=Vt(f):(f=Tt(t)?pr:vt.current,u.context=Vr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ka(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ws.enqueueReplaceState(u,u.state,null),ps(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var r="",s=t;do r+=pe(s),s=s.return;while(s);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function ba(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ta(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kg=typeof WeakMap=="function"?WeakMap:Map;function Pd(e,t,r){r=bn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){bs||(bs=!0,Va=s),Ta(e,t)},r}function Hd(e,t,r){r=bn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){Ta(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Ta(e,t),typeof s!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),r}function Od(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new kg;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=Hg.bind(null,e,t,r),t.then(e,e))}function Fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bd(e,t,r,s,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Cg=I.ReactCurrentOwner,Rt=!1;function Nt(e,t,r,s){t.child=e===null?ad(t,null,r,s):Yr(t,e.child,r,s)}function Vd(e,t,r,s,u){r=r.render;var f=t.ref;return Kr(t,u),s=xa(e,t,r,s,f,u),r=wa(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Tn(e,t,u)):(Qe&&r&&na(t),t.flags|=1,Nt(e,t,s,u),t.child)}function Ud(e,t,r,s,u){if(e===null){var f=r.type;return typeof f=="function"&&!Za(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Wd(e,t,f,s,u)):(e=Is(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&u)===0){var w=f.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(w,s)&&e.ref===t.ref)return Tn(e,t,u)}return t.flags|=1,e=qn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,r,s,u){if(e!==null){var f=e.memoizedProps;if(Io(f,s)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=s=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,Tn(e,t,u)}return Ra(e,t,r,s,u)}function Xd(e,t,r){var s=t.pendingProps,u=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Jr,zt),zt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Jr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:r,Ue(Jr,zt),zt|=s}else f!==null?(s=f.baseLanes|r,t.memoizedState=null):s=r,Ue(Jr,zt),zt|=s;return Nt(e,t,u,r),t.child}function Yd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ra(e,t,r,s,u){var f=Tt(r)?pr:vt.current;return f=Vr(t,f),Kr(t,u),r=xa(e,t,r,s,f,u),s=wa(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Tn(e,t,u)):(Qe&&s&&na(t),t.flags|=1,Nt(e,t,r,u),t.child)}function Qd(e,t,r,s,u){if(Tt(r)){var f=!0;os(t)}else f=!1;if(Kr(t,u),t.stateNode===null)Es(e,t),Dd(t,r,s),Ca(t,r,s,u),s=!0;else if(e===null){var w=t.stateNode,R=t.memoizedProps;w.props=R;var D=w.context,ne=r.contextType;typeof ne=="object"&&ne!==null?ne=Vt(ne):(ne=Tt(r)?pr:vt.current,ne=Vr(t,ne));var ce=r.getDerivedStateFromProps,de=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function";de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==s||D!==ne)&&zd(t,w,s,ne),Wn=!1;var ae=t.memoizedState;w.state=ae,ps(t,s,w,u),D=t.memoizedState,R!==s||ae!==D||bt.current||Wn?(typeof ce=="function"&&(ka(t,r,ce,s),D=t.memoizedState),(R=Wn||$d(t,r,R,s,ae,D,ne))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),w.props=s,w.state=D,w.context=ne,s=R):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{w=t.stateNode,cd(e,t),R=t.memoizedProps,ne=t.type===t.elementType?R:Jt(t.type,R),w.props=ne,de=t.pendingProps,ae=w.context,D=r.contextType,typeof D=="object"&&D!==null?D=Vt(D):(D=Tt(r)?pr:vt.current,D=Vr(t,D));var me=r.getDerivedStateFromProps;(ce=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==de||ae!==D)&&zd(t,w,s,D),Wn=!1,ae=t.memoizedState,w.state=ae,ps(t,s,w,u);var we=t.memoizedState;R!==de||ae!==we||bt.current||Wn?(typeof me=="function"&&(ka(t,r,me,s),we=t.memoizedState),(ne=Wn||$d(t,r,ne,s,ae,we,D)||!1)?(ce||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(s,we,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(s,we,D)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=we),w.props=s,w.state=we,w.context=D,s=ne):(typeof w.componentDidUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),s=!1)}return ja(e,t,r,s,f,u)}function ja(e,t,r,s,u,f){Yd(e,t);var w=(t.flags&128)!==0;if(!s&&!w)return u&&Jc(t,r,!1),Tn(e,t,f);s=t.stateNode,Cg.current=t;var R=w&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&w?(t.child=Yr(t,e.child,null,f),t.child=Yr(t,null,R,f)):Nt(e,t,R,f),t.memoizedState=s.state,u&&Jc(t,r,!0),t.child}function Kd(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),pa(e,t.containerInfo)}function Zd(e,t,r,s,u){return Xr(),sa(u),t.flags|=256,Nt(e,t,r,s),t.child}var Aa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gd(e,t,r){var s=t.pendingProps,u=Ge.current,f=!1,w=(t.flags&128)!==0,R;if((R=w)||(R=e!==null&&e.memoizedState===null?!1:(u&2)!==0),R?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ue(Ge,u&1),e===null)return ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(w=s.children,e=s.fallback,f?(s=t.mode,f=t.child,w={mode:"hidden",children:w},(s&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=w):f=Ls(w,s,0,null),e=Nr(e,s,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ma(r),t.memoizedState=Aa,e):Ia(t,w));if(u=e.memoizedState,u!==null&&(R=u.dehydrated,R!==null))return bg(e,t,w,s,R,u,r);if(f){f=s.fallback,w=t.mode,u=e.child,R=u.sibling;var D={mode:"hidden",children:s.children};return(w&1)===0&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=D,t.deletions=null):(s=qn(u,D),s.subtreeFlags=u.subtreeFlags&14680064),R!==null?f=qn(R,f):(f=Nr(f,w,r,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,w=e.child.memoizedState,w=w===null?Ma(r):{baseLanes:w.baseLanes|r,cachePool:null,transitions:w.transitions},f.memoizedState=w,f.childLanes=e.childLanes&~r,t.memoizedState=Aa,s}return f=e.child,e=f.sibling,s=qn(f,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Ia(e,t){return t=Ls({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,s){return s!==null&&sa(s),Yr(t,e.child,null,r),e=Ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bg(e,t,r,s,u,f,w){if(r)return t.flags&256?(t.flags&=-257,s=ba(Error(i(422))),Ss(e,t,w,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,u=t.mode,s=Ls({mode:"visible",children:s.children},u,0,null),f=Nr(f,u,w,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,(t.mode&1)!==0&&Yr(t,e.child,null,w),t.child.memoizedState=Ma(w),t.memoizedState=Aa,f);if((t.mode&1)===0)return Ss(e,t,w,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var R=s.dgst;return s=R,f=Error(i(419)),s=ba(f,s,void 0),Ss(e,t,w,s)}if(R=(w&e.childLanes)!==0,Rt||R){if(s=dt,s!==null){switch(w&-w){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|w))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Cn(e,u),nn(s,e,u,-1))}return Ka(),s=ba(Error(i(421))),Ss(e,t,w,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Og.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,Dt=Fn(u.nextSibling),$t=t,Qe=!0,qt=null,e!==null&&(Ft[Bt++]=_n,Ft[Bt++]=kn,Ft[Bt++]=hr,_n=e.id,kn=e.overflow,hr=t),t=Ia(t,s.children),t.flags|=4096,t)}function qd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ca(e.return,t,r)}function La(e,t,r,s,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=r,f.tailMode=u)}function Jd(e,t,r){var s=t.pendingProps,u=s.revealOrder,f=s.tail;if(Nt(e,t,s.children,r),s=Ge.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qd(e,r,t);else if(e.tag===19)qd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ue(Ge,s),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&hs(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),La(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&hs(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}La(t,!0,r,null,f);break;case"together":La(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Es(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Tg(e,t,r){switch(t.tag){case 3:Kd(t),Xr();break;case 5:pd(t);break;case 1:Tt(t.type)&&os(t);break;case 4:pa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Ue(cs,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ue(Ge,Ge.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Gd(e,t,r):(Ue(Ge,Ge.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Ue(Ge,Ge.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Jd(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ue(Ge,Ge.current),s)break;return null;case 22:case 23:return t.lanes=0,Xd(e,t,r)}return Tn(e,t,r)}var ef,$a,tf,nf;ef=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$a=function(){},tf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,yr(pn.current);var f=null;switch(r){case"input":u=Fe(e,u),s=Fe(e,s),f=[];break;case"select":u=V({},u,{value:void 0}),s=V({},s,{value:void 0}),f=[];break;case"textarea":u=$e(e,u),s=$e(e,s),f=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ts)}Ct(r,s);var w;r=null;for(ne in u)if(!s.hasOwnProperty(ne)&&u.hasOwnProperty(ne)&&u[ne]!=null)if(ne==="style"){var R=u[ne];for(w in R)R.hasOwnProperty(w)&&(r||(r={}),r[w]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(a.hasOwnProperty(ne)?f||(f=[]):(f=f||[]).push(ne,null));for(ne in s){var D=s[ne];if(R=u?.[ne],s.hasOwnProperty(ne)&&D!==R&&(D!=null||R!=null))if(ne==="style")if(R){for(w in R)!R.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(r||(r={}),r[w]="");for(w in D)D.hasOwnProperty(w)&&R[w]!==D[w]&&(r||(r={}),r[w]=D[w])}else r||(f||(f=[]),f.push(ne,r)),r=D;else ne==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(f=f||[]).push(ne,D)):ne==="children"?typeof D!="string"&&typeof D!="number"||(f=f||[]).push(ne,""+D):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(a.hasOwnProperty(ne)?(D!=null&&ne==="onScroll"&&We("scroll",e),f||R===D||(f=[])):(f=f||[]).push(ne,D))}r&&(f=f||[]).push("style",r);var ne=f;(t.updateQueue=ne)&&(t.flags|=4)}},nf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Qo(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Rg(e,t,r){var s=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Tt(t.type)&&rs(),wt(t),null;case 3:return s=t.stateNode,Zr(),Xe(bt),Xe(vt),ma(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(as(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qt!==null&&(Xa(qt),qt=null))),$a(e,t),wt(t),null;case 5:ha(t);var u=yr(Vo.current);if(r=t.type,e!==null&&t.stateNode!=null)tf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return wt(t),null}if(e=yr(pn.current),as(t)){s=t.stateNode,r=t.type;var f=t.memoizedProps;switch(s[fn]=t,s[Po]=f,e=(t.mode&1)!==0,r){case"dialog":We("cancel",s),We("close",s);break;case"iframe":case"object":case"embed":We("load",s);break;case"video":case"audio":for(u=0;u<$o.length;u++)We($o[u],s);break;case"source":We("error",s);break;case"img":case"image":case"link":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"input":He(s,f),We("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},We("invalid",s);break;case"textarea":Te(s,f),We("invalid",s)}Ct(r,f),u=null;for(var w in f)if(f.hasOwnProperty(w)){var R=f[w];w==="children"?typeof R=="string"?s.textContent!==R&&(f.suppressHydrationWarning!==!0&&es(s.textContent,R,e),u=["children",R]):typeof R=="number"&&s.textContent!==""+R&&(f.suppressHydrationWarning!==!0&&es(s.textContent,R,e),u=["children",""+R]):a.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&We("scroll",s)}switch(r){case"input":Le(s),Q(s,f,!0);break;case"textarea":Le(s),Re(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=ts)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{w=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=w.createElement(r,{is:s.is}):(e=w.createElement(r),r==="select"&&(w=e,s.multiple?w.multiple=!0:s.size&&(w.size=s.size))):e=w.createElementNS(e,r),e[fn]=t,e[Po]=s,ef(e,t,!1,!1),t.stateNode=e;e:{switch(w=Kt(r,s),r){case"dialog":We("cancel",e),We("close",e),u=s;break;case"iframe":case"object":case"embed":We("load",e),u=s;break;case"video":case"audio":for(u=0;u<$o.length;u++)We($o[u],e);u=s;break;case"source":We("error",e),u=s;break;case"img":case"image":case"link":We("error",e),We("load",e),u=s;break;case"details":We("toggle",e),u=s;break;case"input":He(e,s),u=Fe(e,s),We("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=V({},s,{value:void 0}),We("invalid",e);break;case"textarea":Te(e,s),u=$e(e,s),We("invalid",e);break;default:u=s}Ct(r,u),R=u;for(f in R)if(R.hasOwnProperty(f)){var D=R[f];f==="style"?un(e,D):f==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ke(e,D)):f==="children"?typeof D=="string"?(r!=="textarea"||D!=="")&&ht(e,D):typeof D=="number"&&ht(e,""+D):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?D!=null&&f==="onScroll"&&We("scroll",e):D!=null&&z(e,f,D,w))}switch(r){case"input":Le(e),Q(e,s,!1);break;case"textarea":Le(e),Re(e);break;case"option":s.value!=null&&e.setAttribute("value",""+he(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?_e(e,!!s.multiple,f,!1):s.defaultValue!=null&&_e(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ts)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)nf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=yr(Vo.current),yr(pn.current),as(t)){if(s=t.stateNode,r=t.memoizedProps,s[fn]=t,(f=s.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:es(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&es(s.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[fn]=t,t.stateNode=s}return wt(t),null;case 13:if(Xe(Ge),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)id(),Xr(),t.flags|=98560,f=!1;else if(f=as(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[fn]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),f=!1}else qt!==null&&(Xa(qt),qt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?ut===0&&(ut=3):Ka())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Zr(),$a(e,t),e===null&&Do(t.stateNode.containerInfo),wt(t),null;case 10:return ua(t.type._context),wt(t),null;case 17:return Tt(t.type)&&rs(),wt(t),null;case 19:if(Xe(Ge),f=t.memoizedState,f===null)return wt(t),null;if(s=(t.flags&128)!==0,w=f.rendering,w===null)if(s)Qo(f,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(w=hs(e),w!==null){for(t.flags|=128,Qo(f,!1),s=w.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)f=r,e=s,f.flags&=14680066,w=f.alternate,w===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,e=w.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ue(Ge,Ge.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ze()>eo&&(t.flags|=128,s=!0,Qo(f,!1),t.lanes=4194304)}else{if(!s)if(e=hs(w),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!w.alternate&&!Qe)return wt(t),null}else 2*Ze()-f.renderingStartTime>eo&&r!==1073741824&&(t.flags|=128,s=!0,Qo(f,!1),t.lanes=4194304);f.isBackwards?(w.sibling=t.child,t.child=w):(r=f.last,r!==null?r.sibling=w:t.child=w,f.last=w)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ze(),t.sibling=null,r=Ge.current,Ue(Ge,s?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return Qa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(zt&1073741824)!==0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function jg(e,t){switch(ra(t),t.tag){case 1:return Tt(t.type)&&rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Xe(bt),Xe(vt),ma(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ha(t),null;case 13:if(Xe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(Ge),null;case 4:return Zr(),null;case 10:return ua(t.type._context),null;case 22:case 23:return Qa(),null;case 24:return null;default:return null}}var Ns=!1,St=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,xe=null;function qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){tt(e,t,s)}else r.current=null}function Da(e,t,r){try{r()}catch(s){tt(e,t,s)}}var rf=!1;function Mg(e,t){if(Ql=Vi,e=$c(),Ol(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var w=0,R=-1,D=-1,ne=0,ce=0,de=e,ae=null;t:for(;;){for(var me;de!==r||u!==0&&de.nodeType!==3||(R=w+u),de!==f||s!==0&&de.nodeType!==3||(D=w+s),de.nodeType===3&&(w+=de.nodeValue.length),(me=de.firstChild)!==null;)ae=de,de=me;for(;;){if(de===e)break t;if(ae===r&&++ne===u&&(R=w),ae===f&&++ce===s&&(D=w),(me=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=me}r=R===-1||D===-1?null:{start:R,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kl={focusedElem:e,selectionRange:r},Vi=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var we=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,ot=we.memoizedState,K=t.stateNode,F=K.getSnapshotBeforeUpdate(t.elementType===t.type?Se:Jt(t.type,Se),ot);K.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var ee=t.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(fe){tt(t,t.return,fe)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return we=rf,rf=!1,we}function Ko(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Da(t,r,f)}u=u.next}while(u!==s)}}function _s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function za(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Po],delete t[Jl],delete t[hg],delete t[gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sf(e){return e.tag===5||e.tag===3||e.tag===4}function lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ts));else if(s!==4&&(e=e.child,e!==null))for(Pa(e,t,r),e=e.sibling;e!==null;)Pa(e,t,r),e=e.sibling}function Ha(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ha(e,t,r),e=e.sibling;e!==null;)Ha(e,t,r),e=e.sibling}var gt=null,en=!1;function Yn(e,t,r){for(r=r.child;r!==null;)af(e,t,r),r=r.sibling}function af(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ir,r)}catch{}switch(r.tag){case 5:St||qr(r,t);case 6:var s=gt,u=en;gt=null,Yn(e,t,r),gt=s,en=u,gt!==null&&(en?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(en?(e=gt,r=r.stateNode,e.nodeType===8?ql(e.parentNode,r):e.nodeType===1&&ql(e,r),bo(e)):ql(gt,r.stateNode));break;case 4:s=gt,u=en,gt=r.stateNode.containerInfo,en=!0,Yn(e,t,r),gt=s,en=u;break;case 0:case 11:case 14:case 15:if(!St&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var f=u,w=f.destroy;f=f.tag,w!==void 0&&((f&2)!==0||(f&4)!==0)&&Da(r,t,w),u=u.next}while(u!==s)}Yn(e,t,r);break;case 1:if(!St&&(qr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(R){tt(r,t,R)}Yn(e,t,r);break;case 21:Yn(e,t,r);break;case 22:r.mode&1?(St=(s=St)||r.memoizedState!==null,Yn(e,t,r),St=s):Yn(e,t,r);break;default:Yn(e,t,r)}}function uf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ag),t.forEach(function(s){var u=Fg.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function tn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var f=e,w=t,R=w;e:for(;R!==null;){switch(R.tag){case 5:gt=R.stateNode,en=!1;break e;case 3:gt=R.stateNode.containerInfo,en=!0;break e;case 4:gt=R.stateNode.containerInfo,en=!0;break e}R=R.return}if(gt===null)throw Error(i(160));af(f,w,u),gt=null,en=!1;var D=u.alternate;D!==null&&(D.return=null),u.return=null}catch(ne){tt(u,t,ne)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}function cf(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),gn(e),s&4){try{Ko(3,e,e.return),_s(3,e)}catch(Se){tt(e,e.return,Se)}try{Ko(5,e,e.return)}catch(Se){tt(e,e.return,Se)}}break;case 1:tn(t,e),gn(e),s&512&&r!==null&&qr(r,r.return);break;case 5:if(tn(t,e),gn(e),s&512&&r!==null&&qr(r,r.return),e.flags&32){var u=e.stateNode;try{ht(u,"")}catch(Se){tt(e,e.return,Se)}}if(s&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,w=r!==null?r.memoizedProps:f,R=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{R==="input"&&f.type==="radio"&&f.name!=null&&re(u,f),Kt(R,w);var ne=Kt(R,f);for(w=0;w<D.length;w+=2){var ce=D[w],de=D[w+1];ce==="style"?un(u,de):ce==="dangerouslySetInnerHTML"?Ke(u,de):ce==="children"?ht(u,de):z(u,ce,de,ne)}switch(R){case"input":te(u,f);break;case"textarea":Be(u,f);break;case"select":var ae=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var me=f.value;me!=null?_e(u,!!f.multiple,me,!1):ae!==!!f.multiple&&(f.defaultValue!=null?_e(u,!!f.multiple,f.defaultValue,!0):_e(u,!!f.multiple,f.multiple?[]:"",!1))}u[Po]=f}catch(Se){tt(e,e.return,Se)}}break;case 6:if(tn(t,e),gn(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(Se){tt(e,e.return,Se)}}break;case 3:if(tn(t,e),gn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(Se){tt(e,e.return,Se)}break;case 4:tn(t,e),gn(e);break;case 13:tn(t,e),gn(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Ba=Ze())),s&4&&uf(e);break;case 22:if(ce=r!==null&&r.memoizedState!==null,e.mode&1?(St=(ne=St)||ce,tn(t,e),St=ne):tn(t,e),gn(e),s&8192){if(ne=e.memoizedState!==null,(e.stateNode.isHidden=ne)&&!ce&&(e.mode&1)!==0)for(xe=e,ce=e.child;ce!==null;){for(de=xe=ce;xe!==null;){switch(ae=xe,me=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ko(4,ae,ae.return);break;case 1:qr(ae,ae.return);var we=ae.stateNode;if(typeof we.componentWillUnmount=="function"){s=ae,r=ae.return;try{t=s,we.props=t.memoizedProps,we.state=t.memoizedState,we.componentWillUnmount()}catch(Se){tt(s,r,Se)}}break;case 5:qr(ae,ae.return);break;case 22:if(ae.memoizedState!==null){pf(de);continue}}me!==null?(me.return=ae,xe=me):pf(de)}ce=ce.sibling}e:for(ce=null,de=e;;){if(de.tag===5){if(ce===null){ce=de;try{u=de.stateNode,ne?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(R=de.stateNode,D=de.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=an("display",w))}catch(Se){tt(e,e.return,Se)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=ne?"":de.memoizedProps}catch(Se){tt(e,e.return,Se)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===e)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===e)break e;for(;de.sibling===null;){if(de.return===null||de.return===e)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:tn(t,e),gn(e),s&4&&uf(e);break;case 21:break;default:tn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sf(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(ht(u,""),s.flags&=-33);var f=lf(e);Ha(e,f,u);break;case 3:case 4:var w=s.stateNode.containerInfo,R=lf(e);Pa(e,R,w);break;default:throw Error(i(161))}}catch(D){tt(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ig(e,t,r){xe=e,df(e)}function df(e,t,r){for(var s=(e.mode&1)!==0;xe!==null;){var u=xe,f=u.child;if(u.tag===22&&s){var w=u.memoizedState!==null||Ns;if(!w){var R=u.alternate,D=R!==null&&R.memoizedState!==null||St;R=Ns;var ne=St;if(Ns=w,(St=D)&&!ne)for(xe=u;xe!==null;)w=xe,D=w.child,w.tag===22&&w.memoizedState!==null?hf(u):D!==null?(D.return=w,xe=D):hf(u);for(;f!==null;)xe=f,df(f),f=f.sibling;xe=u,Ns=R,St=ne}ff(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,xe=f):ff(e)}}function ff(e){for(;xe!==null;){var t=xe;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:St||_s(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!St)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&fd(t,f,s);break;case 3:var w=t.updateQueue;if(w!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fd(t,w,r)}break;case 5:var R=t.stateNode;if(r===null&&t.flags&4){r=R;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&r.focus();break;case"img":D.src&&(r.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ne=t.alternate;if(ne!==null){var ce=ne.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&bo(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}St||t.flags&512&&za(t)}catch(ae){tt(t,t.return,ae)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function pf(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function hf(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_s(4,t)}catch(D){tt(t,r,D)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(D){tt(t,u,D)}}var f=t.return;try{za(t)}catch(D){tt(t,f,D)}break;case 5:var w=t.return;try{za(t)}catch(D){tt(t,w,D)}}}catch(D){tt(t,t.return,D)}if(t===e){xe=null;break}var R=t.sibling;if(R!==null){R.return=t.return,xe=R;break}xe=t.return}}var Lg=Math.ceil,ks=I.ReactCurrentDispatcher,Oa=I.ReactCurrentOwner,Wt=I.ReactCurrentBatchConfig,De=0,dt=null,it=null,mt=0,zt=0,Jr=Bn(0),ut=0,Zo=null,xr=0,Cs=0,Fa=0,Go=null,jt=null,Ba=0,eo=1/0,Rn=null,bs=!1,Va=null,Qn=null,Ts=!1,Kn=null,Rs=0,qo=0,Ua=null,js=-1,As=0;function _t(){return(De&6)!==0?Ze():js!==-1?js:js=Ze()}function Zn(e){return(e.mode&1)===0?1:(De&2)!==0&&mt!==0?mt&-mt:yg.transition!==null?(As===0&&(As=sc()),As):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:gc(e.type)),e)}function nn(e,t,r,s){if(50<qo)throw qo=0,Ua=null,Error(i(185));Eo(e,r,s),((De&2)===0||e!==dt)&&(e===dt&&((De&2)===0&&(Cs|=r),ut===4&&Gn(e,mt)),At(e,s),r===1&&De===0&&(t.mode&1)===0&&(eo=Ze()+500,is&&Un()))}function At(e,t){var r=e.callbackNode;y0(e,t);var s=Oi(e,e===dt?mt:0);if(s===0)r!==null&&Ii(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Ii(r),t===1)e.tag===0?mg(mf.bind(null,e)):ed(mf.bind(null,e)),fg(function(){(De&6)===0&&Un()}),r=null;else{switch(lc(s)){case 1:r=xo;break;case 4:r=$i;break;case 16:r=Mr;break;case 536870912:r=zi;break;default:r=Mr}r=_f(r,gf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gf(e,t){if(js=-1,As=0,(De&6)!==0)throw Error(i(327));var r=e.callbackNode;if(to()&&e.callbackNode!==r)return null;var s=Oi(e,e===dt?mt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Ms(e,s);else{t=s;var u=De;De|=2;var f=vf();(dt!==e||mt!==t)&&(Rn=null,eo=Ze()+500,Sr(e,t));do try{zg();break}catch(R){yf(e,R)}while(!0);aa(),ks.current=f,De=u,it!==null?t=0:(dt=null,mt=0,t=ut)}if(t!==0){if(t===2&&(u=_l(e),u!==0&&(s=u,t=Wa(e,u))),t===1)throw r=Zo,Sr(e,0),Gn(e,s),At(e,Ze()),r;if(t===6)Gn(e,s);else{if(u=e.current.alternate,(s&30)===0&&!$g(u)&&(t=Ms(e,s),t===2&&(f=_l(e),f!==0&&(s=f,t=Wa(e,f))),t===1))throw r=Zo,Sr(e,0),Gn(e,s),At(e,Ze()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Er(e,jt,Rn);break;case 3:if(Gn(e,s),(s&130023424)===s&&(t=Ba+500-Ze(),10<t)){if(Oi(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){_t(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Gl(Er.bind(null,e,jt,Rn),t);break}Er(e,jt,Rn);break;case 4:if(Gn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var w=31-Zt(s);f=1<<w,w=t[w],w>u&&(u=w),s&=~f}if(s=u,s=Ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Lg(s/1960))-s,10<s){e.timeoutHandle=Gl(Er.bind(null,e,jt,Rn),s);break}Er(e,jt,Rn);break;case 5:Er(e,jt,Rn);break;default:throw Error(i(329))}}}return At(e,Ze()),e.callbackNode===r?gf.bind(null,e):null}function Wa(e,t){var r=Go;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Ms(e,t),e!==2&&(t=jt,jt=r,t!==null&&Xa(t)),e}function Xa(e){jt===null?jt=e:jt.push.apply(jt,e)}function $g(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],f=u.getSnapshot;u=u.value;try{if(!Gt(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Fa,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),s=1<<r;e[r]=-1,t&=~s}}function mf(e){if((De&6)!==0)throw Error(i(327));to();var t=Oi(e,0);if((t&1)===0)return At(e,Ze()),null;var r=Ms(e,t);if(e.tag!==0&&r===2){var s=_l(e);s!==0&&(t=s,r=Wa(e,s))}if(r===1)throw r=Zo,Sr(e,0),Gn(e,t),At(e,Ze()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,jt,Rn),At(e,Ze()),null}function Ya(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(eo=Ze()+500,is&&Un())}}function wr(e){Kn!==null&&Kn.tag===0&&(De&6)===0&&to();var t=De;De|=1;var r=Wt.transition,s=Oe;try{if(Wt.transition=null,Oe=1,e)return e()}finally{Oe=s,Wt.transition=r,De=t,(De&6)===0&&Un()}}function Qa(){zt=Jr.current,Xe(Jr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dg(r)),it!==null)for(r=it.return;r!==null;){var s=r;switch(ra(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&rs();break;case 3:Zr(),Xe(bt),Xe(vt),ma();break;case 5:ha(s);break;case 4:Zr();break;case 13:Xe(Ge);break;case 19:Xe(Ge);break;case 10:ua(s.type._context);break;case 22:case 23:Qa()}r=r.return}if(dt=e,it=e=qn(e.current,null),mt=zt=t,ut=0,Zo=null,Fa=Cs=xr=0,jt=Go=null,mr!==null){for(t=0;t<mr.length;t++)if(r=mr[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,f=r.pending;if(f!==null){var w=f.next;f.next=u,s.next=w}r.pending=s}mr=null}return e}function yf(e,t){do{var r=it;try{if(aa(),gs.current=xs,ms){for(var s=qe.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}ms=!1}if(vr=0,ct=at=qe=null,Uo=!1,Wo=0,Oa.current=null,r===null||r.return===null){ut=1,Zo=t,it=null;break}e:{var f=e,w=r.return,R=r,D=t;if(t=mt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=D,ce=R,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ae=ce.alternate;ae?(ce.updateQueue=ae.updateQueue,ce.memoizedState=ae.memoizedState,ce.lanes=ae.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var me=Fd(w);if(me!==null){me.flags&=-257,Bd(me,w,R,f,t),me.mode&1&&Od(f,ne,t),t=me,D=ne;var we=t.updateQueue;if(we===null){var Se=new Set;Se.add(D),t.updateQueue=Se}else we.add(D);break e}else{if((t&1)===0){Od(f,ne,t),Ka();break e}D=Error(i(426))}}else if(Qe&&R.mode&1){var ot=Fd(w);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Bd(ot,w,R,f,t),sa(Gr(D,R));break e}}f=D=Gr(D,R),ut!==4&&(ut=2),Go===null?Go=[f]:Go.push(f),f=w;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var K=Pd(f,D,t);dd(f,K);break e;case 1:R=D;var F=f.type,ee=f.stateNode;if((f.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Qn===null||!Qn.has(ee)))){f.flags|=65536,t&=-t,f.lanes|=t;var fe=Hd(f,R,t);dd(f,fe);break e}}f=f.return}while(f!==null)}wf(r)}catch(Ne){t=Ne,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function vf(){var e=ks.current;return ks.current=xs,e===null?xs:e}function Ka(){(ut===0||ut===3||ut===2)&&(ut=4),dt===null||(xr&268435455)===0&&(Cs&268435455)===0||Gn(dt,mt)}function Ms(e,t){var r=De;De|=2;var s=vf();(dt!==e||mt!==t)&&(Rn=null,Sr(e,t));do try{Dg();break}catch(u){yf(e,u)}while(!0);if(aa(),De=r,ks.current=s,it!==null)throw Error(i(261));return dt=null,mt=0,ut}function Dg(){for(;it!==null;)xf(it)}function zg(){for(;it!==null&&!Li();)xf(it)}function xf(e){var t=Nf(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?wf(e):it=t,Oa.current=null}function wf(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Rg(r,t,zt),r!==null){it=r;return}}else{if(r=jg(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function Er(e,t,r){var s=Oe,u=Wt.transition;try{Wt.transition=null,Oe=1,Pg(e,t,r,s)}finally{Wt.transition=u,Oe=s}return null}function Pg(e,t,r,s){do to();while(Kn!==null);if((De&6)!==0)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(v0(e,f),e===dt&&(it=dt=null,mt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ts||(Ts=!0,_f(Mr,function(){return to(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=Wt.transition,Wt.transition=null;var w=Oe;Oe=1;var R=De;De|=4,Oa.current=null,Mg(e,r),cf(r,e),og(Kl),Vi=!!Ql,Kl=Ql=null,e.current=r,Ig(r),El(),De=R,Oe=w,Wt.transition=f}else e.current=r;if(Ts&&(Ts=!1,Kn=e,Rs=u),f=e.pendingLanes,f===0&&(Qn=null),wo(r.stateNode),At(e,Ze()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(bs)throw bs=!1,e=Va,Va=null,e;return(Rs&1)!==0&&e.tag!==0&&to(),f=e.pendingLanes,(f&1)!==0?e===Ua?qo++:(qo=0,Ua=e):qo=0,Un(),null}function to(){if(Kn!==null){var e=lc(Rs),t=Wt.transition,r=Oe;try{if(Wt.transition=null,Oe=16>e?16:e,Kn===null)var s=!1;else{if(e=Kn,Kn=null,Rs=0,(De&6)!==0)throw Error(i(331));var u=De;for(De|=4,xe=e.current;xe!==null;){var f=xe,w=f.child;if((xe.flags&16)!==0){var R=f.deletions;if(R!==null){for(var D=0;D<R.length;D++){var ne=R[D];for(xe=ne;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:Ko(8,ce,f)}var de=ce.child;if(de!==null)de.return=ce,xe=de;else for(;xe!==null;){ce=xe;var ae=ce.sibling,me=ce.return;if(of(ce),ce===ne){xe=null;break}if(ae!==null){ae.return=me,xe=ae;break}xe=me}}}var we=f.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var ot=Se.sibling;Se.sibling=null,Se=ot}while(Se!==null)}}xe=f}}if((f.subtreeFlags&2064)!==0&&w!==null)w.return=f,xe=w;else e:for(;xe!==null;){if(f=xe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ko(9,f,f.return)}var K=f.sibling;if(K!==null){K.return=f.return,xe=K;break e}xe=f.return}}var F=e.current;for(xe=F;xe!==null;){w=xe;var ee=w.child;if((w.subtreeFlags&2064)!==0&&ee!==null)ee.return=w,xe=ee;else e:for(w=F;xe!==null;){if(R=xe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:_s(9,R)}}catch(Ne){tt(R,R.return,Ne)}if(R===w){xe=null;break e}var fe=R.sibling;if(fe!==null){fe.return=R.return,xe=fe;break e}xe=R.return}}if(De=u,Un(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ir,e)}catch{}s=!0}return s}finally{Oe=r,Wt.transition=t}}return!1}function Sf(e,t,r){t=Gr(r,t),t=Pd(e,t,1),e=Xn(e,t,1),t=_t(),e!==null&&(Eo(e,1,t),At(e,t))}function tt(e,t,r){if(e.tag===3)Sf(e,e,r);else for(;t!==null;){if(t.tag===3){Sf(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Gr(r,e),e=Hd(t,e,1),t=Xn(t,e,1),e=_t(),t!==null&&(Eo(t,1,e),At(t,e));break}}t=t.return}}function Hg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(mt&r)===r&&(ut===4||ut===3&&(mt&130023424)===mt&&500>Ze()-Ba?Sr(e,0):Fa|=r),At(e,t)}function Ef(e,t){t===0&&((e.mode&1)===0?t=1:(t=Hi,Hi<<=1,(Hi&130023424)===0&&(Hi=4194304)));var r=_t();e=Cn(e,t),e!==null&&(Eo(e,t,r),At(e,r))}function Og(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ef(e,r)}function Fg(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Ef(e,r)}var Nf;Nf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)Rt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Rt=!1,Tg(e,t,r);Rt=(e.flags&131072)!==0}else Rt=!1,Qe&&(t.flags&1048576)!==0&&td(t,ls,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Es(e,t),e=t.pendingProps;var u=Vr(t,vt.current);Kr(t,r),u=xa(null,t,s,e,u,r);var f=wa();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(s)?(f=!0,os(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,fa(t),u.updater=ws,t.stateNode=u,u._reactInternals=t,Ca(t,s,e,r),t=ja(null,t,s,!0,f,r)):(t.tag=0,Qe&&f&&na(t),Nt(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Es(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Vg(s),e=Jt(s,e),u){case 0:t=Ra(null,t,s,e,r);break e;case 1:t=Qd(null,t,s,e,r);break e;case 11:t=Vd(null,t,s,e,r);break e;case 14:t=Ud(null,t,s,Jt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Ra(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Qd(e,t,s,u,r);case 3:e:{if(Kd(t),e===null)throw Error(i(387));s=t.pendingProps,f=t.memoizedState,u=f.element,cd(e,t),ps(t,s,null,r);var w=t.memoizedState;if(s=w.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=Gr(Error(i(423)),t),t=Zd(e,t,s,r,u);break e}else if(s!==u){u=Gr(Error(i(424)),t),t=Zd(e,t,s,r,u);break e}else for(Dt=Fn(t.stateNode.containerInfo.firstChild),$t=t,Qe=!0,qt=null,r=ad(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),s===u){t=Tn(e,t,r);break e}Nt(e,t,s,r)}t=t.child}return t;case 5:return pd(t),e===null&&ia(t),s=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,w=u.children,Zl(s,u)?w=null:f!==null&&Zl(s,f)&&(t.flags|=32),Yd(e,t),Nt(e,t,w,r),t.child;case 6:return e===null&&ia(t),null;case 13:return Gd(e,t,r);case 4:return pa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yr(t,null,s,r):Nt(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Vd(e,t,s,u,r);case 7:return Nt(e,t,t.pendingProps,r),t.child;case 8:return Nt(e,t,t.pendingProps.children,r),t.child;case 12:return Nt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,f=t.memoizedProps,w=u.value,Ue(cs,s._currentValue),s._currentValue=w,f!==null)if(Gt(f.value,w)){if(f.children===u.children&&!bt.current){t=Tn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var R=f.dependencies;if(R!==null){w=f.child;for(var D=R.firstContext;D!==null;){if(D.context===s){if(f.tag===1){D=bn(-1,r&-r),D.tag=2;var ne=f.updateQueue;if(ne!==null){ne=ne.shared;var ce=ne.pending;ce===null?D.next=D:(D.next=ce.next,ce.next=D),ne.pending=D}}f.lanes|=r,D=f.alternate,D!==null&&(D.lanes|=r),ca(f.return,r,t),R.lanes|=r;break}D=D.next}}else if(f.tag===10)w=f.type===t.type?null:f.child;else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=r,R=w.alternate,R!==null&&(R.lanes|=r),ca(w,r,t),w=f.sibling}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}Nt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,Kr(t,r),u=Vt(u),s=s(u),t.flags|=1,Nt(e,t,s,r),t.child;case 14:return s=t.type,u=Jt(s,t.pendingProps),u=Jt(s.type,u),Ud(e,t,s,u,r);case 15:return Wd(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Jt(s,u),Es(e,t),t.tag=1,Tt(s)?(e=!0,os(t)):e=!1,Kr(t,r),Dd(t,s,u),Ca(t,s,u,r),ja(null,t,s,!0,e,r);case 19:return Jd(e,t,r);case 22:return Xd(e,t,r)}throw Error(i(156,t.tag))};function _f(e,t){return Mi(e,t)}function Bg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,r,s){return new Bg(e,t,r,s)}function Za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vg(e){if(typeof e=="function")return Za(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z)return 11;if(e===A)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=Xt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Is(e,t,r,s,u,f){var w=2;if(s=e,typeof e=="function")Za(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case U:return Nr(r.children,u,f,t);case q:w=8,u|=8;break;case X:return e=Xt(12,r,t,u|2),e.elementType=X,e.lanes=f,e;case G:return e=Xt(13,r,t,u),e.elementType=G,e.lanes=f,e;case S:return e=Xt(19,r,t,u),e.elementType=S,e.lanes=f,e;case O:return Ls(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:w=10;break e;case B:w=9;break e;case Z:w=11;break e;case A:w=14;break e;case L:w=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Xt(w,r,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function Nr(e,t,r,s){return e=Xt(7,e,s,t),e.lanes=r,e}function Ls(e,t,r,s){return e=Xt(22,e,s,t),e.elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Ga(e,t,r){return e=Xt(6,e,null,t),e.lanes=r,e}function qa(e,t,r){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ug(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ja(e,t,r,s,u,f,w,R,D){return e=new Ug(e,t,r,R,D),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Xt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fa(f),e}function Wg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function kf(e){if(!e)return Vn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(Tt(r))return qc(e,r,t)}return t}function Cf(e,t,r,s,u,f,w,R,D){return e=Ja(r,s,!0,e,u,f,w,R,D),e.context=kf(null),r=e.current,s=_t(),u=Zn(r),f=bn(s,u),f.callback=t??null,Xn(r,f,u),e.current.lanes=u,Eo(e,u,s),At(e,s),e}function $s(e,t,r,s){var u=t.current,f=_t(),w=Zn(u);return r=kf(r),t.context===null?t.context=r:t.pendingContext=r,t=bn(f,w),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Xn(u,t,w),e!==null&&(nn(e,u,w,f),fs(e,u,w)),w}function Ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eu(e,t){bf(e,t),(e=e.alternate)&&bf(e,t)}function Xg(){return null}var Tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function tu(e){this._internalRoot=e}zs.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));$s(e,t,null,null)},zs.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){$s(null,e,null,null)}),t[En]=null}};function zs(e){this._internalRoot=e}zs.prototype.unstable_scheduleHydration=function(e){if(e){var t=cc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pn.length&&t!==0&&t<Pn[r].priority;r++);Pn.splice(r,0,e),r===0&&pc(e)}};function nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ps(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function Yg(e,t,r,s,u){if(u){if(typeof s=="function"){var f=s;s=function(){var ne=Ds(w);f.call(ne)}}var w=Cf(t,s,e,0,null,!1,!1,"",Rf);return e._reactRootContainer=w,e[En]=w.current,Do(e.nodeType===8?e.parentNode:e),wr(),w}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var R=s;s=function(){var ne=Ds(D);R.call(ne)}}var D=Ja(e,0,!1,null,null,!1,!1,"",Rf);return e._reactRootContainer=D,e[En]=D.current,Do(e.nodeType===8?e.parentNode:e),wr(function(){$s(t,D,r,s)}),D}function Hs(e,t,r,s,u){var f=r._reactRootContainer;if(f){var w=f;if(typeof u=="function"){var R=u;u=function(){var D=Ds(w);R.call(D)}}$s(t,w,e,u)}else w=Yg(r,t,e,u,s);return Ds(w)}ac=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=So(t.pendingLanes);r!==0&&(Cl(t,r|1),At(t,Ze()),(De&6)===0&&(eo=Ze()+500,Un()))}break;case 13:wr(function(){var s=Cn(e,1);if(s!==null){var u=_t();nn(s,e,1,u)}}),eu(e,1)}},bl=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=_t();nn(t,e,134217728,r)}eu(e,134217728)}},uc=function(e){if(e.tag===13){var t=Zn(e),r=Cn(e,t);if(r!==null){var s=_t();nn(r,e,t,s)}eu(e,t)}},cc=function(){return Oe},dc=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}},xn=function(e,t,r){switch(t){case"input":if(te(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=ns(s);if(!u)throw Error(i(90));Ve(s),te(s,u)}}}break;case"textarea":Be(e,r);break;case"select":t=r.value,t!=null&&_e(e,!!r.multiple,t,!1)}},_i=Ya,ki=wr;var Qg={usingClientEntryPoint:!1,Events:[Ho,Fr,ns,Ei,Ni,Ya]},Jo={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ji(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||Xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ir=Os.inject(Kg),Ot=Os}catch{}}return Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg,Mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(t))throw Error(i(200));return Wg(e,t,null,r)},Mt.createRoot=function(e,t){if(!nu(e))throw Error(i(299));var r=!1,s="",u=Tf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ja(e,1,!1,null,null,r,!1,s,u),e[En]=t.current,Do(e.nodeType===8?e.parentNode:e),new tu(t)},Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=ji(t),e=e===null?null:e.stateNode,e},Mt.flushSync=function(e){return wr(e)},Mt.hydrate=function(e,t,r){if(!Ps(t))throw Error(i(200));return Hs(null,e,t,!0,r)},Mt.hydrateRoot=function(e,t,r){if(!nu(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,f="",w=Tf;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),t=Cf(t,null,e,1,r??null,u,!1,f,w),e[En]=t.current,Do(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new zs(t)},Mt.render=function(e,t,r){if(!Ps(t))throw Error(i(200));return Hs(null,e,t,!1,r)},Mt.unmountComponentAtNode=function(e){if(!Ps(e))throw Error(i(40));return e._reactRootContainer?(wr(function(){Hs(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1},Mt.unstable_batchedUpdates=Ya,Mt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Ps(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Hs(e,t,r,!1,s)},Mt.version="18.3.1-next-f1338f8080-20240426",Mt}var zf;function $p(){if(zf)return iu.exports;zf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),iu.exports=nm(),iu.exports}var Pf;function rm(){if(Pf)return Fs;Pf=1;var n=$p();return Fs.createRoot=n.createRoot,Fs.hydrateRoot=n.hydrateRoot,Fs}var om=rm();const im=Pu(om);function kt(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=kt(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var au={exports:{}},uu={},cu={exports:{}},du={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function sm(){if(Hf)return du;Hf=1;var n=vi();function o(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function p(v,x){var E=x(),_=l({inst:{value:E,getSnapshot:x}}),N=_[0].inst,T=_[1];return c(function(){N.value=E,N.getSnapshot=x,h(N)&&T({inst:N})},[v,E,x]),a(function(){return h(N)&&T({inst:N}),v(function(){h(N)&&T({inst:N})})},[v]),d(E),E}function h(v){var x=v.getSnapshot;v=v.value;try{var E=x();return!i(v,E)}catch{return!0}}function y(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:p;return du.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,du}var Of;function lm(){return Of||(Of=1,cu.exports=sm()),cu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function am(){if(Ff)return uu;Ff=1;var n=vi(),o=lm();function i(y,m){return y===m&&(y!==0||1/y===1/m)||y!==y&&m!==m}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,p=n.useMemo,h=n.useDebugValue;return uu.useSyncExternalStoreWithSelector=function(y,m,v,x,E){var _=c(null);if(_.current===null){var N={hasValue:!1,value:null};_.current=N}else N=_.current;_=p(function(){function C(Y){if(!j){if(j=!0,z=Y,Y=x(Y),E!==void 0&&N.hasValue){var U=N.value;if(E(U,Y))return I=U}return I=Y}if(U=I,l(z,Y))return U;var q=x(Y);return E!==void 0&&E(U,q)?(z=Y,U):(z=Y,I=q)}var j=!1,z,I,P=v===void 0?null:v;return[function(){return C(m())},P===null?void 0:function(){return C(P())}]},[m,v,x,E]);var T=a(y,_[0],_[1]);return d(function(){N.hasValue=!0,N.value=T},[T]),h(T),T},uu}var Bf;function um(){return Bf||(Bf=1,au.exports=am()),au.exports}var cm=um();const dm=Pu(cm),fm={},Vf=n=>{let o;const i=new Set,l=(m,v)=>{const x=typeof m=="function"?m(o):m;if(!Object.is(x,o)){const E=o;o=v??(typeof x!="object"||x===null)?x:Object.assign({},o,x),i.forEach(_=>_(o,E))}},a=()=>o,h={setState:l,getState:a,getInitialState:()=>y,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{(fm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},y=o=n(l,a,h);return h},pm=n=>n?Vf(n):Vf,{useDebugValue:hm}=oe,{useSyncExternalStoreWithSelector:gm}=dm,mm=n=>n;function Dp(n,o=mm,i){const l=gm(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return hm(l),l}const Uf=(n,o)=>{const i=pm(n),l=(a,c=o)=>Dp(i,a,c);return Object.assign(l,i),l},ym=(n,o)=>n?Uf(n,o):Uf;function Et(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}var vm={value:()=>{}};function dl(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new Gs(i)}function Gs(n){this._=n}function xm(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}Gs.prototype=dl.prototype={constructor:Gs,on:function(n,o){var i=this._,l=xm(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=wm(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=Wf(i[a],n.name,o);else if(o==null)for(a in i)i[a]=Wf(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new Gs(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function wm(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function Wf(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=vm,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var Eu="http://www.w3.org/1999/xhtml";const Xf={svg:"http://www.w3.org/2000/svg",xhtml:Eu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fl(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),Xf.hasOwnProperty(o)?{space:Xf[o],local:n}:n}function Sm(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===Eu&&o.documentElement.namespaceURI===Eu?o.createElement(n):o.createElementNS(i,n)}}function Em(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function zp(n){var o=fl(n);return(o.local?Em:Sm)(o)}function Nm(){}function Hu(n){return n==null?Nm:function(){return this.querySelector(n)}}function _m(n){typeof n!="function"&&(n=Hu(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,p=l[a]=new Array(d),h,y,m=0;m<d;++m)(h=c[m])&&(y=n.call(h,h.__data__,m,c))&&("__data__"in h&&(y.__data__=h.__data__),p[m]=y);return new Pt(l,this._parents)}function km(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function Cm(){return[]}function Pp(n){return n==null?Cm:function(){return this.querySelectorAll(n)}}function bm(n){return function(){return km(n.apply(this,arguments))}}function Tm(n){typeof n=="function"?n=bm(n):n=Pp(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],p=d.length,h,y=0;y<p;++y)(h=d[y])&&(l.push(n.call(h,h.__data__,y,d)),a.push(h));return new Pt(l,a)}function Hp(n){return function(){return this.matches(n)}}function Op(n){return function(o){return o.matches(n)}}var Rm=Array.prototype.find;function jm(n){return function(){return Rm.call(this.children,n)}}function Am(){return this.firstElementChild}function Mm(n){return this.select(n==null?Am:jm(typeof n=="function"?n:Op(n)))}var Im=Array.prototype.filter;function Lm(){return Array.from(this.children)}function $m(n){return function(){return Im.call(this.children,n)}}function Dm(n){return this.selectAll(n==null?Lm:$m(typeof n=="function"?n:Op(n)))}function zm(n){typeof n!="function"&&(n=Hp(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,p=l[a]=[],h,y=0;y<d;++y)(h=c[y])&&n.call(h,h.__data__,y,c)&&p.push(h);return new Pt(l,this._parents)}function Fp(n){return new Array(n.length)}function Pm(){return new Pt(this._enter||this._groups.map(Fp),this._parents)}function nl(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}nl.prototype={constructor:nl,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Hm(n){return function(){return n}}function Om(n,o,i,l,a,c){for(var d=0,p,h=o.length,y=c.length;d<y;++d)(p=o[d])?(p.__data__=c[d],l[d]=p):i[d]=new nl(n,c[d]);for(;d<h;++d)(p=o[d])&&(a[d]=p)}function Fm(n,o,i,l,a,c,d){var p,h,y=new Map,m=o.length,v=c.length,x=new Array(m),E;for(p=0;p<m;++p)(h=o[p])&&(x[p]=E=d.call(h,h.__data__,p,o)+"",y.has(E)?a[p]=h:y.set(E,h));for(p=0;p<v;++p)E=d.call(n,c[p],p,c)+"",(h=y.get(E))?(l[p]=h,h.__data__=c[p],y.delete(E)):i[p]=new nl(n,c[p]);for(p=0;p<m;++p)(h=o[p])&&y.get(x[p])===h&&(a[p]=h)}function Bm(n){return n.__data__}function Vm(n,o){if(!arguments.length)return Array.from(this,Bm);var i=o?Fm:Om,l=this._parents,a=this._groups;typeof n!="function"&&(n=Hm(n));for(var c=a.length,d=new Array(c),p=new Array(c),h=new Array(c),y=0;y<c;++y){var m=l[y],v=a[y],x=v.length,E=Um(n.call(m,m&&m.__data__,y,l)),_=E.length,N=p[y]=new Array(_),T=d[y]=new Array(_),C=h[y]=new Array(x);i(m,v,N,T,C,E,o);for(var j=0,z=0,I,P;j<_;++j)if(I=N[j]){for(j>=z&&(z=j+1);!(P=T[z])&&++z<_;);I._next=P||null}}return d=new Pt(d,l),d._enter=p,d._exit=h,d}function Um(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Wm(){return new Pt(this._exit||this._groups.map(Fp),this._parents)}function Xm(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function Ym(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),p=new Array(a),h=0;h<d;++h)for(var y=i[h],m=l[h],v=y.length,x=p[h]=new Array(v),E,_=0;_<v;++_)(E=y[_]||m[_])&&(x[_]=E);for(;h<a;++h)p[h]=i[h];return new Pt(p,this._parents)}function Qm(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function Km(n){n||(n=Zm);function o(v,x){return v&&x?n(v.__data__,x.__data__):!v-!x}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],p=d.length,h=a[c]=new Array(p),y,m=0;m<p;++m)(y=d[m])&&(h[m]=y);h.sort(o)}return new Pt(a,this._parents).order()}function Zm(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function Gm(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function qm(){return Array.from(this)}function Jm(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function ey(){let n=0;for(const o of this)++n;return n}function ty(){return!this.node()}function ny(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,p;c<d;++c)(p=a[c])&&n.call(p,p.__data__,c,a);return this}function ry(n){return function(){this.removeAttribute(n)}}function oy(n){return function(){this.removeAttributeNS(n.space,n.local)}}function iy(n,o){return function(){this.setAttribute(n,o)}}function sy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function ly(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function ay(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function uy(n,o){var i=fl(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?oy:ry:typeof o=="function"?i.local?ay:ly:i.local?sy:iy)(i,o))}function Bp(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function cy(n){return function(){this.style.removeProperty(n)}}function dy(n,o,i){return function(){this.style.setProperty(n,o,i)}}function fy(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function py(n,o,i){return arguments.length>1?this.each((o==null?cy:typeof o=="function"?fy:dy)(n,o,i??"")):fo(this.node(),n)}function fo(n,o){return n.style.getPropertyValue(o)||Bp(n).getComputedStyle(n,null).getPropertyValue(o)}function hy(n){return function(){delete this[n]}}function gy(n,o){return function(){this[n]=o}}function my(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function yy(n,o){return arguments.length>1?this.each((o==null?hy:typeof o=="function"?my:gy)(n,o)):this.node()[n]}function Vp(n){return n.trim().split(/^|\s+/)}function Ou(n){return n.classList||new Up(n)}function Up(n){this._node=n,this._names=Vp(n.getAttribute("class")||"")}Up.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Wp(n,o){for(var i=Ou(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function Xp(n,o){for(var i=Ou(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function vy(n){return function(){Wp(this,n)}}function xy(n){return function(){Xp(this,n)}}function wy(n,o){return function(){(o.apply(this,arguments)?Wp:Xp)(this,n)}}function Sy(n,o){var i=Vp(n+"");if(arguments.length<2){for(var l=Ou(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?wy:o?vy:xy)(i,o))}function Ey(){this.textContent=""}function Ny(n){return function(){this.textContent=n}}function _y(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function ky(n){return arguments.length?this.each(n==null?Ey:(typeof n=="function"?_y:Ny)(n)):this.node().textContent}function Cy(){this.innerHTML=""}function by(n){return function(){this.innerHTML=n}}function Ty(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function Ry(n){return arguments.length?this.each(n==null?Cy:(typeof n=="function"?Ty:by)(n)):this.node().innerHTML}function jy(){this.nextSibling&&this.parentNode.appendChild(this)}function Ay(){return this.each(jy)}function My(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Iy(){return this.each(My)}function Ly(n){var o=typeof n=="function"?n:zp(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function $y(){return null}function Dy(n,o){var i=typeof n=="function"?n:zp(n),l=o==null?$y:typeof o=="function"?o:Hu(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function zy(){var n=this.parentNode;n&&n.removeChild(this)}function Py(){return this.each(zy)}function Hy(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function Oy(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function Fy(n){return this.select(n?Oy:Hy)}function By(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Vy(n){return function(o){n.call(this,o,this.__data__)}}function Uy(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function Wy(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function Xy(n,o,i){return function(){var l=this.__on,a,c=Vy(o);if(l){for(var d=0,p=l.length;d<p;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function Yy(n,o,i){var l=Uy(n+""),a,c=l.length,d;if(arguments.length<2){var p=this.node().__on;if(p){for(var h=0,y=p.length,m;h<y;++h)for(a=0,m=p[h];a<c;++a)if((d=l[a]).type===m.type&&d.name===m.name)return m.value}return}for(p=o?Xy:Wy,a=0;a<c;++a)this.each(p(l[a],o,i));return this}function Yp(n,o,i){var l=Bp(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function Qy(n,o){return function(){return Yp(this,n,o)}}function Ky(n,o){return function(){return Yp(this,n,o.apply(this,arguments))}}function Zy(n,o){return this.each((typeof o=="function"?Ky:Qy)(n,o))}function*Gy(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var Qp=[null];function Pt(n,o){this._groups=n,this._parents=o}function xi(){return new Pt([[document.documentElement]],Qp)}function qy(){return this}Pt.prototype=xi.prototype={constructor:Pt,select:_m,selectAll:Tm,selectChild:Mm,selectChildren:Dm,filter:zm,data:Vm,enter:Pm,exit:Wm,join:Xm,merge:Ym,selection:qy,order:Qm,sort:Km,call:Gm,nodes:qm,node:Jm,size:ey,empty:ty,each:ny,attr:uy,style:py,property:yy,classed:Sy,text:ky,html:Ry,raise:Ay,lower:Iy,append:Ly,insert:Dy,remove:Py,clone:Fy,datum:By,on:Yy,dispatch:Zy,[Symbol.iterator]:Gy};function rn(n){return typeof n=="string"?new Pt([[document.querySelector(n)]],[document.documentElement]):new Pt([[n]],Qp)}function Jy(n){let o;for(;o=n.sourceEvent;)n=o;return n}function mn(n,o){if(n=Jy(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const e1={passive:!1},ci={capture:!0,passive:!1};function fu(n){n.stopImmediatePropagation()}function lo(n){n.preventDefault(),n.stopImmediatePropagation()}function Kp(n){var o=n.document.documentElement,i=rn(n).on("dragstart.drag",lo,ci);"onselectstart"in o?i.on("selectstart.drag",lo,ci):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Zp(n,o){var i=n.document.documentElement,l=rn(n).on("dragstart.drag",null);o&&(l.on("click.drag",lo,ci),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Bs=n=>()=>n;function Nu(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:p,dx:h,dy:y,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:m}})}Nu.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function t1(n){return!n.ctrlKey&&!n.button}function n1(){return this.parentNode}function r1(n,o){return o??{x:n.x,y:n.y}}function o1(){return navigator.maxTouchPoints||"ontouchstart"in this}function i1(){var n=t1,o=n1,i=r1,l=o1,a={},c=dl("start","drag","end"),d=0,p,h,y,m,v=0;function x(I){I.on("mousedown.drag",E).filter(l).on("touchstart.drag",T).on("touchmove.drag",C,e1).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(I,P){if(!(m||!n.call(this,I,P))){var Y=z(this,o.call(this,I,P),I,P,"mouse");Y&&(rn(I.view).on("mousemove.drag",_,ci).on("mouseup.drag",N,ci),Kp(I.view),fu(I),y=!1,p=I.clientX,h=I.clientY,Y("start",I))}}function _(I){if(lo(I),!y){var P=I.clientX-p,Y=I.clientY-h;y=P*P+Y*Y>v}a.mouse("drag",I)}function N(I){rn(I.view).on("mousemove.drag mouseup.drag",null),Zp(I.view,y),lo(I),a.mouse("end",I)}function T(I,P){if(n.call(this,I,P)){var Y=I.changedTouches,U=o.call(this,I,P),q=Y.length,X,W;for(X=0;X<q;++X)(W=z(this,U,I,P,Y[X].identifier,Y[X]))&&(fu(I),W("start",I,Y[X]))}}function C(I){var P=I.changedTouches,Y=P.length,U,q;for(U=0;U<Y;++U)(q=a[P[U].identifier])&&(lo(I),q("drag",I,P[U]))}function j(I){var P=I.changedTouches,Y=P.length,U,q;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),U=0;U<Y;++U)(q=a[P[U].identifier])&&(fu(I),q("end",I,P[U]))}function z(I,P,Y,U,q,X){var W=c.copy(),B=mn(X||Y,P),Z,G,S;if((S=i.call(I,new Nu("beforestart",{sourceEvent:Y,target:x,identifier:q,active:d,x:B[0],y:B[1],dx:0,dy:0,dispatch:W}),U))!=null)return Z=S.x-B[0]||0,G=S.y-B[1]||0,function A(L,O,$){var M=B,V;switch(L){case"start":a[q]=A,V=d++;break;case"end":delete a[q],--d;case"drag":B=mn($||O,P),V=d;break}W.call(L,I,new Nu(L,{sourceEvent:O,subject:S,target:x,identifier:q,active:V,x:B[0]+Z,y:B[1]+G,dx:B[0]-M[0],dy:B[1]-M[1],dispatch:W}),U)}}return x.filter=function(I){return arguments.length?(n=typeof I=="function"?I:Bs(!!I),x):n},x.container=function(I){return arguments.length?(o=typeof I=="function"?I:Bs(I),x):o},x.subject=function(I){return arguments.length?(i=typeof I=="function"?I:Bs(I),x):i},x.touchable=function(I){return arguments.length?(l=typeof I=="function"?I:Bs(!!I),x):l},x.on=function(){var I=c.on.apply(c,arguments);return I===c?x:I},x.clickDistance=function(I){return arguments.length?(v=(I=+I)*I,x):Math.sqrt(v)},x}function Fu(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function Gp(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function wi(){}var di=.7,rl=1/di,ao="\\s*([+-]?\\d+)\\s*",fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s1=/^#([0-9a-f]{3,8})$/,l1=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),a1=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),u1=new RegExp(`^rgba\\(${ao},${ao},${ao},${fi}\\)$`),c1=new RegExp(`^rgba\\(${yn},${yn},${yn},${fi}\\)$`),d1=new RegExp(`^hsl\\(${fi},${yn},${yn}\\)$`),f1=new RegExp(`^hsla\\(${fi},${yn},${yn},${fi}\\)$`),Yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fu(wi,pi,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Qf,formatHex:Qf,formatHex8:p1,formatHsl:h1,formatRgb:Kf,toString:Kf});function Qf(){return this.rgb().formatHex()}function p1(){return this.rgb().formatHex8()}function h1(){return qp(this).formatHsl()}function Kf(){return this.rgb().formatRgb()}function pi(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=s1.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Zf(o):i===3?new It(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Vs(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Vs(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=l1.exec(n))?new It(o[1],o[2],o[3],1):(o=a1.exec(n))?new It(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=u1.exec(n))?Vs(o[1],o[2],o[3],o[4]):(o=c1.exec(n))?Vs(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=d1.exec(n))?Jf(o[1],o[2]/100,o[3]/100,1):(o=f1.exec(n))?Jf(o[1],o[2]/100,o[3]/100,o[4]):Yf.hasOwnProperty(n)?Zf(Yf[n]):n==="transparent"?new It(NaN,NaN,NaN,0):null}function Zf(n){return new It(n>>16&255,n>>8&255,n&255,1)}function Vs(n,o,i,l){return l<=0&&(n=o=i=NaN),new It(n,o,i,l)}function g1(n){return n instanceof wi||(n=pi(n)),n?(n=n.rgb(),new It(n.r,n.g,n.b,n.opacity)):new It}function _u(n,o,i,l){return arguments.length===1?g1(n):new It(n,o,i,l??1)}function It(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Fu(It,_u,Gp(wi,{brighter(n){return n=n==null?rl:Math.pow(rl,n),new It(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?di:Math.pow(di,n),new It(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new It(br(this.r),br(this.g),br(this.b),ol(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gf,formatHex:Gf,formatHex8:m1,formatRgb:qf,toString:qf}));function Gf(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function m1(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function qf(){const n=ol(this.opacity);return`${n===1?"rgb(":"rgba("}${br(this.r)}, ${br(this.g)}, ${br(this.b)}${n===1?")":`, ${n})`}`}function ol(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function br(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function kr(n){return n=br(n),(n<16?"0":"")+n.toString(16)}function Jf(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new on(n,o,i,l)}function qp(n){if(n instanceof on)return new on(n.h,n.s,n.l,n.opacity);if(n instanceof wi||(n=pi(n)),!n)return new on;if(n instanceof on)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,p=c-a,h=(c+a)/2;return p?(o===c?d=(i-l)/p+(i<l)*6:i===c?d=(l-o)/p+2:d=(o-i)/p+4,p/=h<.5?c+a:2-c-a,d*=60):p=h>0&&h<1?0:d,new on(d,p,h,n.opacity)}function y1(n,o,i,l){return arguments.length===1?qp(n):new on(n,o,i,l??1)}function on(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Fu(on,y1,Gp(wi,{brighter(n){return n=n==null?rl:Math.pow(rl,n),new on(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?di:Math.pow(di,n),new on(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new It(pu(n>=240?n-240:n+120,a,l),pu(n,a,l),pu(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new on(ep(this.h),Us(this.s),Us(this.l),ol(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=ol(this.opacity);return`${n===1?"hsl(":"hsla("}${ep(this.h)}, ${Us(this.s)*100}%, ${Us(this.l)*100}%${n===1?")":`, ${n})`}`}}));function ep(n){return n=(n||0)%360,n<0?n+360:n}function Us(n){return Math.max(0,Math.min(1,n||0))}function pu(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const Jp=n=>()=>n;function v1(n,o){return function(i){return n+i*o}}function x1(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function w1(n){return(n=+n)==1?eh:function(o,i){return i-o?x1(o,i,n):Jp(isNaN(o)?i:o)}}function eh(n,o){var i=o-n;return i?v1(n,i):Jp(isNaN(n)?o:n)}const tp=(function n(o){var i=w1(o);function l(a,c){var d=i((a=_u(a)).r,(c=_u(c)).r),p=i(a.g,c.g),h=i(a.b,c.b),y=eh(a.opacity,c.opacity);return function(m){return a.r=d(m),a.g=p(m),a.b=h(m),a.opacity=y(m),a+""}}return l.gamma=n,l})(1);function nr(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}var ku=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(ku.source,"g");function S1(n){return function(){return n}}function E1(n){return function(o){return n(o)+""}}function N1(n,o){var i=ku.lastIndex=hu.lastIndex=0,l,a,c,d=-1,p=[],h=[];for(n=n+"",o=o+"";(l=ku.exec(n))&&(a=hu.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),p[d]?p[d]+=c:p[++d]=c),(l=l[0])===(a=a[0])?p[d]?p[d]+=a:p[++d]=a:(p[++d]=null,h.push({i:d,x:nr(l,a)})),i=hu.lastIndex;return i<o.length&&(c=o.slice(i),p[d]?p[d]+=c:p[++d]=c),p.length<2?h[0]?E1(h[0].x):S1(o):(o=h.length,function(y){for(var m=0,v;m<o;++m)p[(v=h[m]).i]=v.x(y);return p.join("")})}var np=180/Math.PI,Cu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function th(n,o,i,l,a,c){var d,p,h;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(h=n*i+o*l)&&(i-=n*h,l-=o*h),(p=Math.sqrt(i*i+l*l))&&(i/=p,l/=p,h/=p),n*l<o*i&&(n=-n,o=-o,h=-h,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*np,skewX:Math.atan(h)*np,scaleX:d,scaleY:p}}var Ws;function _1(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?Cu:th(o.a,o.b,o.c,o.d,o.e,o.f)}function k1(n){return n==null||(Ws||(Ws=document.createElementNS("http://www.w3.org/2000/svg","g")),Ws.setAttribute("transform",n),!(n=Ws.transform.baseVal.consolidate()))?Cu:(n=n.matrix,th(n.a,n.b,n.c,n.d,n.e,n.f))}function nh(n,o,i,l){function a(y){return y.length?y.pop()+" ":""}function c(y,m,v,x,E,_){if(y!==v||m!==x){var N=E.push("translate(",null,o,null,i);_.push({i:N-4,x:nr(y,v)},{i:N-2,x:nr(m,x)})}else(v||x)&&E.push("translate("+v+o+x+i)}function d(y,m,v,x){y!==m?(y-m>180?m+=360:m-y>180&&(y+=360),x.push({i:v.push(a(v)+"rotate(",null,l)-2,x:nr(y,m)})):m&&v.push(a(v)+"rotate("+m+l)}function p(y,m,v,x){y!==m?x.push({i:v.push(a(v)+"skewX(",null,l)-2,x:nr(y,m)}):m&&v.push(a(v)+"skewX("+m+l)}function h(y,m,v,x,E,_){if(y!==v||m!==x){var N=E.push(a(E)+"scale(",null,",",null,")");_.push({i:N-4,x:nr(y,v)},{i:N-2,x:nr(m,x)})}else(v!==1||x!==1)&&E.push(a(E)+"scale("+v+","+x+")")}return function(y,m){var v=[],x=[];return y=n(y),m=n(m),c(y.translateX,y.translateY,m.translateX,m.translateY,v,x),d(y.rotate,m.rotate,v,x),p(y.skewX,m.skewX,v,x),h(y.scaleX,y.scaleY,m.scaleX,m.scaleY,v,x),y=m=null,function(E){for(var _=-1,N=x.length,T;++_<N;)v[(T=x[_]).i]=T.x(E);return v.join("")}}}var C1=nh(_1,"px, ","px)","deg)"),b1=nh(k1,", ",")",")"),T1=1e-12;function rp(n){return((n=Math.exp(n))+1/n)/2}function R1(n){return((n=Math.exp(n))-1/n)/2}function j1(n){return((n=Math.exp(2*n))-1)/(n+1)}const A1=(function n(o,i,l){function a(c,d){var p=c[0],h=c[1],y=c[2],m=d[0],v=d[1],x=d[2],E=m-p,_=v-h,N=E*E+_*_,T,C;if(N<T1)C=Math.log(x/y)/o,T=function(U){return[p+U*E,h+U*_,y*Math.exp(o*U*C)]};else{var j=Math.sqrt(N),z=(x*x-y*y+l*N)/(2*y*i*j),I=(x*x-y*y-l*N)/(2*x*i*j),P=Math.log(Math.sqrt(z*z+1)-z),Y=Math.log(Math.sqrt(I*I+1)-I);C=(Y-P)/o,T=function(U){var q=U*C,X=rp(P),W=y/(i*j)*(X*j1(o*q+P)-R1(P));return[p+W*E,h+W*_,y*X/rp(o*q+P)]}}return T.duration=C*1e3*o/Math.SQRT2,T}return a.rho=function(c){var d=Math.max(.001,+c),p=d*d,h=p*p;return n(d,p,h)},a})(Math.SQRT2,2,4);var po=0,li=0,ti=0,rh=1e3,il,ai,sl=0,Tr=0,pl=0,hi=typeof performance=="object"&&performance.now?performance:Date,oh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Bu(){return Tr||(oh(M1),Tr=hi.now()+pl)}function M1(){Tr=0}function ll(){this._call=this._time=this._next=null}ll.prototype=ih.prototype={constructor:ll,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?Bu():+i)+(o==null?0:+o),!this._next&&ai!==this&&(ai?ai._next=this:il=this,ai=this),this._call=n,this._time=i,bu()},stop:function(){this._call&&(this._call=null,this._time=1/0,bu())}};function ih(n,o,i){var l=new ll;return l.restart(n,o,i),l}function I1(){Bu(),++po;for(var n=il,o;n;)(o=Tr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--po}function op(){Tr=(sl=hi.now())+pl,po=li=0;try{I1()}finally{po=0,$1(),Tr=0}}function L1(){var n=hi.now(),o=n-sl;o>rh&&(pl-=o,sl=n)}function $1(){for(var n,o=il,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:il=i);ai=n,bu(l)}function bu(n){if(!po){li&&(li=clearTimeout(li));var o=n-Tr;o>24?(n<1/0&&(li=setTimeout(op,n-hi.now()-pl)),ti&&(ti=clearInterval(ti))):(ti||(sl=hi.now(),ti=setInterval(L1,rh)),po=1,oh(op))}}function ip(n,o,i){var l=new ll;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var D1=dl("start","end","cancel","interrupt"),z1=[],sh=0,sp=1,Tu=2,qs=3,lp=4,Ru=5,Js=6;function hl(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;P1(n,i,{name:o,index:l,group:a,on:D1,tween:z1,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:sh})}function Vu(n,o){var i=ln(n,o);if(i.state>sh)throw new Error("too late; already scheduled");return i}function vn(n,o){var i=ln(n,o);if(i.state>qs)throw new Error("too late; already running");return i}function ln(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function P1(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=ih(c,0,i.time);function c(y){i.state=sp,i.timer.restart(d,i.delay,i.time),i.delay<=y&&d(y-i.delay)}function d(y){var m,v,x,E;if(i.state!==sp)return h();for(m in l)if(E=l[m],E.name===i.name){if(E.state===qs)return ip(d);E.state===lp?(E.state=Js,E.timer.stop(),E.on.call("interrupt",n,n.__data__,E.index,E.group),delete l[m]):+m<o&&(E.state=Js,E.timer.stop(),E.on.call("cancel",n,n.__data__,E.index,E.group),delete l[m])}if(ip(function(){i.state===qs&&(i.state=lp,i.timer.restart(p,i.delay,i.time),p(y))}),i.state=Tu,i.on.call("start",n,n.__data__,i.index,i.group),i.state===Tu){for(i.state=qs,a=new Array(x=i.tween.length),m=0,v=-1;m<x;++m)(E=i.tween[m].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=E);a.length=v+1}}function p(y){for(var m=y<i.duration?i.ease.call(null,y/i.duration):(i.timer.restart(h),i.state=Ru,1),v=-1,x=a.length;++v<x;)a[v].call(n,m);i.state===Ru&&(i.on.call("end",n,n.__data__,i.index,i.group),h())}function h(){i.state=Js,i.timer.stop(),delete l[o];for(var y in l)return;delete n.__transition}}function el(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>Tu&&l.state<Ru,l.state=Js,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function H1(n){return this.each(function(){el(this,n)})}function O1(n,o){var i,l;return function(){var a=vn(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,p=l.length;d<p;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function F1(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=vn(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var p={name:o,value:i},h=0,y=a.length;h<y;++h)if(a[h].name===o){a[h]=p;break}h===y&&a.push(p)}c.tween=a}}function B1(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=ln(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?O1:F1)(i,n,o))}function Uu(n,o,i){var l=n._id;return n.each(function(){var a=vn(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return ln(a,l).value[o]}}function lh(n,o){var i;return(typeof o=="number"?nr:o instanceof pi?tp:(i=pi(o))?(o=i,tp):N1)(n,o)}function V1(n){return function(){this.removeAttribute(n)}}function U1(n){return function(){this.removeAttributeNS(n.space,n.local)}}function W1(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function X1(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function Y1(n,o,i){var l,a,c;return function(){var d,p=i(this),h;return p==null?void this.removeAttribute(n):(d=this.getAttribute(n),h=p+"",d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,p)))}}function Q1(n,o,i){var l,a,c;return function(){var d,p=i(this),h;return p==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),h=p+"",d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,p)))}}function K1(n,o){var i=fl(n),l=i==="transform"?b1:lh;return this.attrTween(n,typeof o=="function"?(i.local?Q1:Y1)(i,l,Uu(this,"attr."+n,o)):o==null?(i.local?U1:V1)(i):(i.local?X1:W1)(i,l,o))}function Z1(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function G1(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function q1(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&G1(n,c)),i}return a._value=o,a}function J1(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Z1(n,c)),i}return a._value=o,a}function ev(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=fl(n);return this.tween(i,(l.local?q1:J1)(l,o))}function tv(n,o){return function(){Vu(this,n).delay=+o.apply(this,arguments)}}function nv(n,o){return o=+o,function(){Vu(this,n).delay=o}}function rv(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?tv:nv)(o,n)):ln(this.node(),o).delay}function ov(n,o){return function(){vn(this,n).duration=+o.apply(this,arguments)}}function iv(n,o){return o=+o,function(){vn(this,n).duration=o}}function sv(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?ov:iv)(o,n)):ln(this.node(),o).duration}function lv(n,o){if(typeof o!="function")throw new Error;return function(){vn(this,n).ease=o}}function av(n){var o=this._id;return arguments.length?this.each(lv(o,n)):ln(this.node(),o).ease}function uv(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;vn(this,n).ease=i}}function cv(n){if(typeof n!="function")throw new Error;return this.each(uv(this._id,n))}function dv(n){typeof n!="function"&&(n=Hp(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,p=l[a]=[],h,y=0;y<d;++y)(h=c[y])&&n.call(h,h.__data__,y,c)&&p.push(h);return new Mn(l,this._parents,this._name,this._id)}function fv(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),p=0;p<c;++p)for(var h=o[p],y=i[p],m=h.length,v=d[p]=new Array(m),x,E=0;E<m;++E)(x=h[E]||y[E])&&(v[E]=x);for(;p<l;++p)d[p]=o[p];return new Mn(d,this._parents,this._name,this._id)}function pv(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function hv(n,o,i){var l,a,c=pv(o)?Vu:vn;return function(){var d=c(this,n),p=d.on;p!==l&&(a=(l=p).copy()).on(o,i),d.on=a}}function gv(n,o){var i=this._id;return arguments.length<2?ln(this.node(),i).on.on(n):this.each(hv(i,n,o))}function mv(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function yv(){return this.on("end.remove",mv(this._id))}function vv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Hu(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var p=l[d],h=p.length,y=c[d]=new Array(h),m,v,x=0;x<h;++x)(m=p[x])&&(v=n.call(m,m.__data__,x,p))&&("__data__"in m&&(v.__data__=m.__data__),y[x]=v,hl(y[x],o,i,x,y,ln(m,i)));return new Mn(c,this._parents,o,i)}function xv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Pp(n));for(var l=this._groups,a=l.length,c=[],d=[],p=0;p<a;++p)for(var h=l[p],y=h.length,m,v=0;v<y;++v)if(m=h[v]){for(var x=n.call(m,m.__data__,v,h),E,_=ln(m,i),N=0,T=x.length;N<T;++N)(E=x[N])&&hl(E,o,i,N,x,_);c.push(x),d.push(m)}return new Mn(c,d,o,i)}var wv=xi.prototype.constructor;function Sv(){return new wv(this._groups,this._parents)}function Ev(n,o){var i,l,a;return function(){var c=fo(this,n),d=(this.style.removeProperty(n),fo(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function ah(n){return function(){this.style.removeProperty(n)}}function Nv(n,o,i){var l,a=i+"",c;return function(){var d=fo(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function _v(n,o,i){var l,a,c;return function(){var d=fo(this,n),p=i(this),h=p+"";return p==null&&(h=p=(this.style.removeProperty(n),fo(this,n))),d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,p))}}function kv(n,o){var i,l,a,c="style."+o,d="end."+c,p;return function(){var h=vn(this,n),y=h.on,m=h.value[c]==null?p||(p=ah(o)):void 0;(y!==i||a!==m)&&(l=(i=y).copy()).on(d,a=m),h.on=l}}function Cv(n,o,i){var l=(n+="")=="transform"?C1:lh;return o==null?this.styleTween(n,Ev(n,l)).on("end.style."+n,ah(n)):typeof o=="function"?this.styleTween(n,_v(n,l,Uu(this,"style."+n,o))).each(kv(this._id,n)):this.styleTween(n,Nv(n,l,o),i).on("end.style."+n,null)}function bv(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function Tv(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&bv(n,d,i)),l}return c._value=o,c}function Rv(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,Tv(n,o,i??""))}function jv(n){return function(){this.textContent=n}}function Av(n){return function(){var o=n(this);this.textContent=o??""}}function Mv(n){return this.tween("text",typeof n=="function"?Av(Uu(this,"text",n)):jv(n==null?"":n+""))}function Iv(n){return function(o){this.textContent=n.call(this,o)}}function Lv(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&Iv(a)),o}return l._value=n,l}function $v(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,Lv(n))}function Dv(){for(var n=this._name,o=this._id,i=uh(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],p=d.length,h,y=0;y<p;++y)if(h=d[y]){var m=ln(h,o);hl(h,n,i,y,d,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Mn(l,this._parents,n,i)}function zv(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var p={value:d},h={value:function(){--a===0&&c()}};i.each(function(){var y=vn(this,l),m=y.on;m!==n&&(o=(n=m).copy(),o._.cancel.push(p),o._.interrupt.push(p),o._.end.push(h)),y.on=o}),a===0&&c()})}var Pv=0;function Mn(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function uh(){return++Pv}var jn=xi.prototype;Mn.prototype={constructor:Mn,select:vv,selectAll:xv,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:dv,merge:fv,selection:Sv,transition:Dv,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:gv,attr:K1,attrTween:ev,style:Cv,styleTween:Rv,text:Mv,textTween:$v,remove:yv,tween:B1,delay:rv,duration:sv,ease:av,easeVarying:cv,end:zv,[Symbol.iterator]:jn[Symbol.iterator]};function Hv(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Ov={time:null,delay:0,duration:250,ease:Hv};function Fv(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function Bv(n){var o,i;n instanceof Mn?(o=n._id,n=n._name):(o=uh(),(i=Ov).time=Bu(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],p=d.length,h,y=0;y<p;++y)(h=d[y])&&hl(h,n,o,y,d,i||Fv(h,o));return new Mn(l,this._parents,n,o)}xi.prototype.interrupt=H1;xi.prototype.transition=Bv;const Xs=n=>()=>n;function Vv(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function An(n,o,i){this.k=n,this.x=o,this.y=i}An.prototype={constructor:An,scale:function(n){return n===1?this:new An(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new An(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ir=new An(1,0,0);An.prototype;function gu(n){n.stopImmediatePropagation()}function ni(n){n.preventDefault(),n.stopImmediatePropagation()}function Uv(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Wv(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ap(){return this.__zoom||ir}function Xv(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Yv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qv(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Kv(){var n=Uv,o=Wv,i=Qv,l=Xv,a=Yv,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],p=250,h=A1,y=dl("start","zoom","end"),m,v,x,E=500,_=150,N=0,T=10;function C(S){S.property("__zoom",ap).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",W).filter(a).on("touchstart.zoom",B).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(S,A,L,O){var $=S.selection?S.selection():S;$.property("__zoom",ap),S!==$?P(S,A,L,O):$.interrupt().each(function(){Y(this,arguments).event(O).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},C.scaleBy=function(S,A,L,O){C.scaleTo(S,function(){var $=this.__zoom.k,M=typeof A=="function"?A.apply(this,arguments):A;return $*M},L,O)},C.scaleTo=function(S,A,L,O){C.transform(S,function(){var $=o.apply(this,arguments),M=this.__zoom,V=L==null?I($):typeof L=="function"?L.apply(this,arguments):L,k=M.invert(V),H=typeof A=="function"?A.apply(this,arguments):A;return i(z(j(M,H),V,k),$,d)},L,O)},C.translateBy=function(S,A,L,O){C.transform(S,function(){return i(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof L=="function"?L.apply(this,arguments):L),o.apply(this,arguments),d)},null,O)},C.translateTo=function(S,A,L,O,$){C.transform(S,function(){var M=o.apply(this,arguments),V=this.__zoom,k=O==null?I(M):typeof O=="function"?O.apply(this,arguments):O;return i(ir.translate(k[0],k[1]).scale(V.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof L=="function"?-L.apply(this,arguments):-L),M,d)},O,$)};function j(S,A){return A=Math.max(c[0],Math.min(c[1],A)),A===S.k?S:new An(A,S.x,S.y)}function z(S,A,L){var O=A[0]-L[0]*S.k,$=A[1]-L[1]*S.k;return O===S.x&&$===S.y?S:new An(S.k,O,$)}function I(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function P(S,A,L,O){S.on("start.zoom",function(){Y(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(O).end()}).tween("zoom",function(){var $=this,M=arguments,V=Y($,M).event(O),k=o.apply($,M),H=L==null?I(k):typeof L=="function"?L.apply($,M):L,ie=Math.max(k[1][0]-k[0][0],k[1][1]-k[0][1]),se=$.__zoom,pe=typeof A=="function"?A.apply($,M):A,J=h(se.invert(H).concat(ie/se.k),pe.invert(H).concat(ie/pe.k));return function(ue){if(ue===1)ue=pe;else{var he=J(ue),Ee=ie/he[2];ue=new An(Ee,H[0]-he[0]*Ee,H[1]-he[1]*Ee)}V.zoom(null,ue)}})}function Y(S,A,L){return!L&&S.__zooming||new U(S,A)}function U(S,A){this.that=S,this.args=A,this.active=0,this.sourceEvent=null,this.extent=o.apply(S,A),this.taps=0}U.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,A){return this.mouse&&S!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var A=rn(this.that).datum();y.call(S,this.that,new Vv(S,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:y}),A)}};function q(S,...A){if(!n.apply(this,arguments))return;var L=Y(this,A).event(S),O=this.__zoom,$=Math.max(c[0],Math.min(c[1],O.k*Math.pow(2,l.apply(this,arguments)))),M=mn(S);if(L.wheel)(L.mouse[0][0]!==M[0]||L.mouse[0][1]!==M[1])&&(L.mouse[1]=O.invert(L.mouse[0]=M)),clearTimeout(L.wheel);else{if(O.k===$)return;L.mouse=[M,O.invert(M)],el(this),L.start()}ni(S),L.wheel=setTimeout(V,_),L.zoom("mouse",i(z(j(O,$),L.mouse[0],L.mouse[1]),L.extent,d));function V(){L.wheel=null,L.end()}}function X(S,...A){if(x||!n.apply(this,arguments))return;var L=S.currentTarget,O=Y(this,A,!0).event(S),$=rn(S.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",ie,!0),M=mn(S,L),V=S.clientX,k=S.clientY;Kp(S.view),gu(S),O.mouse=[M,this.__zoom.invert(M)],el(this),O.start();function H(se){if(ni(se),!O.moved){var pe=se.clientX-V,J=se.clientY-k;O.moved=pe*pe+J*J>N}O.event(se).zoom("mouse",i(z(O.that.__zoom,O.mouse[0]=mn(se,L),O.mouse[1]),O.extent,d))}function ie(se){$.on("mousemove.zoom mouseup.zoom",null),Zp(se.view,O.moved),ni(se),O.event(se).end()}}function W(S,...A){if(n.apply(this,arguments)){var L=this.__zoom,O=mn(S.changedTouches?S.changedTouches[0]:S,this),$=L.invert(O),M=L.k*(S.shiftKey?.5:2),V=i(z(j(L,M),O,$),o.apply(this,A),d);ni(S),p>0?rn(this).transition().duration(p).call(P,V,O,S):rn(this).call(C.transform,V,O,S)}}function B(S,...A){if(n.apply(this,arguments)){var L=S.touches,O=L.length,$=Y(this,A,S.changedTouches.length===O).event(S),M,V,k,H;for(gu(S),V=0;V<O;++V)k=L[V],H=mn(k,this),H=[H,this.__zoom.invert(H),k.identifier],$.touch0?!$.touch1&&$.touch0[2]!==H[2]&&($.touch1=H,$.taps=0):($.touch0=H,M=!0,$.taps=1+!!m);m&&(m=clearTimeout(m)),M&&($.taps<2&&(v=H[0],m=setTimeout(function(){m=null},E)),el(this),$.start())}}function Z(S,...A){if(this.__zooming){var L=Y(this,A).event(S),O=S.changedTouches,$=O.length,M,V,k,H;for(ni(S),M=0;M<$;++M)V=O[M],k=mn(V,this),L.touch0&&L.touch0[2]===V.identifier?L.touch0[0]=k:L.touch1&&L.touch1[2]===V.identifier&&(L.touch1[0]=k);if(V=L.that.__zoom,L.touch1){var ie=L.touch0[0],se=L.touch0[1],pe=L.touch1[0],J=L.touch1[1],ue=(ue=pe[0]-ie[0])*ue+(ue=pe[1]-ie[1])*ue,he=(he=J[0]-se[0])*he+(he=J[1]-se[1])*he;V=j(V,Math.sqrt(ue/he)),k=[(ie[0]+pe[0])/2,(ie[1]+pe[1])/2],H=[(se[0]+J[0])/2,(se[1]+J[1])/2]}else if(L.touch0)k=L.touch0[0],H=L.touch0[1];else return;L.zoom("touch",i(z(V,k,H),L.extent,d))}}function G(S,...A){if(this.__zooming){var L=Y(this,A).event(S),O=S.changedTouches,$=O.length,M,V;for(gu(S),x&&clearTimeout(x),x=setTimeout(function(){x=null},E),M=0;M<$;++M)V=O[M],L.touch0&&L.touch0[2]===V.identifier?delete L.touch0:L.touch1&&L.touch1[2]===V.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(V=mn(V,this),Math.hypot(v[0]-V[0],v[1]-V[1])<T)){var k=rn(this).on("dblclick.zoom");k&&k.apply(this,arguments)}}}return C.wheelDelta=function(S){return arguments.length?(l=typeof S=="function"?S:Xs(+S),C):l},C.filter=function(S){return arguments.length?(n=typeof S=="function"?S:Xs(!!S),C):n},C.touchable=function(S){return arguments.length?(a=typeof S=="function"?S:Xs(!!S),C):a},C.extent=function(S){return arguments.length?(o=typeof S=="function"?S:Xs([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),C):o},C.scaleExtent=function(S){return arguments.length?(c[0]=+S[0],c[1]=+S[1],C):[c[0],c[1]]},C.translateExtent=function(S){return arguments.length?(d[0][0]=+S[0][0],d[1][0]=+S[1][0],d[0][1]=+S[0][1],d[1][1]=+S[1][1],C):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},C.constrain=function(S){return arguments.length?(i=S,C):i},C.duration=function(S){return arguments.length?(p=+S,C):p},C.interpolate=function(S){return arguments.length?(h=S,C):h},C.on=function(){var S=y.on.apply(y,arguments);return S===y?C:S},C.clickDistance=function(S){return arguments.length?(N=(S=+S)*S,C):Math.sqrt(N)},C.tapDistance=function(S){return arguments.length?(T=+S,C):T},C}$p();const gl=b.createContext(null),Zv=gl.Provider,In={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,o)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ch=In.error001();function Je(n,o){const i=b.useContext(gl);if(i===null)throw new Error(ch);return Dp(i,n,o)}const pt=()=>{const n=b.useContext(gl);if(n===null)throw new Error(ch);return b.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},Gv=n=>n.userSelectionActive?"none":"all";function dh({position:n,children:o,className:i,style:l,...a}){const c=Je(Gv),d=`${n}`.split("-");return oe.createElement("div",{className:kt(["react-flow__panel",i,...d]),style:{...l,pointerEvents:c},...a},o)}function qv({proOptions:n,position:o="bottom-right"}){return n?.hideAttribution?null:oe.createElement(dh,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},oe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Jv=({x:n,y:o,label:i,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:p=2,children:h,className:y,...m})=>{const v=b.useRef(null),[x,E]=b.useState({x:0,y:0,width:0,height:0}),_=kt(["react-flow__edge-textwrapper",y]);return b.useEffect(()=>{if(v.current){const N=v.current.getBBox();E({x:N.x,y:N.y,width:N.width,height:N.height})}},[i]),typeof i>"u"||!i?null:oe.createElement("g",{transform:`translate(${n-x.width/2} ${o-x.height/2})`,className:_,visibility:x.width?"visible":"hidden",...m},a&&oe.createElement("rect",{width:x.width+2*d[0],x:-d[0],y:-d[1],height:x.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:p,ry:p}),oe.createElement("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:v,style:l},i),h)};var ex=b.memo(Jv);const Wu=n=>({width:n.offsetWidth,height:n.offsetHeight}),ho=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),Xu=(n={x:0,y:0},o)=>({x:ho(n.x,o[0][0],o[1][0]),y:ho(n.y,o[0][1],o[1][1])}),up=(n,o,i)=>n<o?ho(Math.abs(n-o),1,50)/50:n>i?-ho(Math.abs(n-i),1,50)/50:0,fh=(n,o)=>{const i=up(n.x,35,o.width-35)*20,l=up(n.y,35,o.height-35)*20;return[i,l]},ph=n=>n.getRootNode?.()||window?.document,tx=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Yu=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),nx=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),cp=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),ju=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},rx=n=>Qt(n.width)&&Qt(n.height)&&Qt(n.x)&&Qt(n.y),Qt=n=>!isNaN(n)&&isFinite(n),nt=Symbol.for("internals"),hh=["Enter"," ","Escape"],ox=(n,o)=>{},ix=n=>"nativeEvent"in n;function Au(n){const i=(ix(n)?n.nativeEvent:n).composedPath?.()?.[0]||n.target;return["INPUT","SELECT","TEXTAREA"].includes(i?.nodeName)||i?.hasAttribute("contenteditable")||!!i?.closest(".nokey")}const gh=n=>"clientX"in n,sr=(n,o)=>{const i=gh(n),l=i?n.clientX:n.touches?.[0].clientX,a=i?n.clientY:n.touches?.[0].clientY;return{x:l-(o?.left??0),y:a-(o?.top??0)}},al=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Si=({id:n,path:o,labelX:i,labelY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:m,markerEnd:v,markerStart:x,interactionWidth:E=20})=>oe.createElement(oe.Fragment,null,oe.createElement("path",{id:n,style:m,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:x}),E&&oe.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),a&&Qt(i)&&Qt(l)?oe.createElement(ex,{x:i,y:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y}):null);Si.displayName="BaseEdge";function ri(n,o,i){return i===void 0?i:l=>{const a=o().edges.find(c=>c.id===n);a&&i(l,{...a})}}function mh({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,p=l<o?l+d:l-d;return[c,p,a,d]}function yh({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:p}){const h=n*.125+a*.375+d*.375+i*.125,y=o*.125+c*.375+p*.375+l*.125,m=Math.abs(h-n),v=Math.abs(y-o);return[h,y,m,v]}var Rr;(function(n){n.Strict="strict",n.Loose="loose"})(Rr||(Rr={}));var Cr;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Cr||(Cr={}));var gi;(function(n){n.Partial="partial",n.Full="full"})(gi||(gi={}));var or;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(or||(or={}));var mi;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(mi||(mi={}));var ye;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ye||(ye={}));function dp({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===ye.Left||n===ye.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function vh({sourceX:n,sourceY:o,sourcePosition:i=ye.Bottom,targetX:l,targetY:a,targetPosition:c=ye.Top}){const[d,p]=dp({pos:i,x1:n,y1:o,x2:l,y2:a}),[h,y]=dp({pos:c,x1:l,y1:a,x2:n,y2:o}),[m,v,x,E]=yh({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:p,targetControlX:h,targetControlY:y});return[`M${n},${o} C${d},${p} ${h},${y} ${l},${a}`,m,v,x,E]}const Qu=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ye.Bottom,targetPosition:c=ye.Top,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:y,labelBgPadding:m,labelBgBorderRadius:v,style:x,markerEnd:E,markerStart:_,interactionWidth:N})=>{const[T,C,j]=vh({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c});return oe.createElement(Si,{path:T,labelX:C,labelY:j,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:y,labelBgPadding:m,labelBgBorderRadius:v,style:x,markerEnd:E,markerStart:_,interactionWidth:N})});Qu.displayName="SimpleBezierEdge";const fp={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},sx=({source:n,sourcePosition:o=ye.Bottom,target:i})=>o===ye.Left||o===ye.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},pp=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function lx({source:n,sourcePosition:o=ye.Bottom,target:i,targetPosition:l=ye.Top,center:a,offset:c}){const d=fp[o],p=fp[l],h={x:n.x+d.x*c,y:n.y+d.y*c},y={x:i.x+p.x*c,y:i.y+p.y*c},m=sx({source:h,sourcePosition:o,target:y}),v=m.x!==0?"x":"y",x=m[v];let E=[],_,N;const T={x:0,y:0},C={x:0,y:0},[j,z,I,P]=mh({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(d[v]*p[v]===-1){_=a.x??j,N=a.y??z;const U=[{x:_,y:h.y},{x:_,y:y.y}],q=[{x:h.x,y:N},{x:y.x,y:N}];d[v]===x?E=v==="x"?U:q:E=v==="x"?q:U}else{const U=[{x:h.x,y:y.y}],q=[{x:y.x,y:h.y}];if(v==="x"?E=d.x===x?q:U:E=d.y===x?U:q,o===l){const G=Math.abs(n[v]-i[v]);if(G<=c){const S=Math.min(c-1,c-G);d[v]===x?T[v]=(h[v]>n[v]?-1:1)*S:C[v]=(y[v]>i[v]?-1:1)*S}}if(o!==l){const G=v==="x"?"y":"x",S=d[v]===p[G],A=h[G]>y[G],L=h[G]<y[G];(d[v]===1&&(!S&&A||S&&L)||d[v]!==1&&(!S&&L||S&&A))&&(E=v==="x"?U:q)}const X={x:h.x+T.x,y:h.y+T.y},W={x:y.x+C.x,y:y.y+C.y},B=Math.max(Math.abs(X.x-E[0].x),Math.abs(W.x-E[0].x)),Z=Math.max(Math.abs(X.y-E[0].y),Math.abs(W.y-E[0].y));B>=Z?(_=(X.x+W.x)/2,N=E[0].y):(_=E[0].x,N=(X.y+W.y)/2)}return[[n,{x:h.x+T.x,y:h.y+T.y},...E,{x:y.x+C.x,y:y.y+C.y},i],_,N,I,P]}function ax(n,o,i,l){const a=Math.min(pp(n,o)/2,pp(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const y=n.x<i.x?-1:1,m=n.y<i.y?1:-1;return`L ${c+a*y},${d}Q ${c},${d} ${c},${d+a*m}`}const p=n.x<i.x?1:-1,h=n.y<i.y?-1:1;return`L ${c},${d+a*h}Q ${c},${d} ${c+a*p},${d}`}function Mu({sourceX:n,sourceY:o,sourcePosition:i=ye.Bottom,targetX:l,targetY:a,targetPosition:c=ye.Top,borderRadius:d=5,centerX:p,centerY:h,offset:y=20}){const[m,v,x,E,_]=lx({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:p,y:h},offset:y});return[m.reduce((T,C,j)=>{let z="";return j>0&&j<m.length-1?z=ax(m[j-1],C,m[j+1],d):z=`${j===0?"M":"L"}${C.x} ${C.y}`,T+=z,T},""),v,x,E,_]}const ml=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:m,sourcePosition:v=ye.Bottom,targetPosition:x=ye.Top,markerEnd:E,markerStart:_,pathOptions:N,interactionWidth:T})=>{const[C,j,z]=Mu({sourceX:n,sourceY:o,sourcePosition:v,targetX:i,targetY:l,targetPosition:x,borderRadius:N?.borderRadius,offset:N?.offset});return oe.createElement(Si,{path:C,labelX:j,labelY:z,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:m,markerEnd:E,markerStart:_,interactionWidth:T})});ml.displayName="SmoothStepEdge";const Ku=b.memo(n=>oe.createElement(ml,{...n,pathOptions:b.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])}));Ku.displayName="StepEdge";function ux({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,p]=mh({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,p]}const Zu=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:m,markerEnd:v,markerStart:x,interactionWidth:E})=>{const[_,N,T]=ux({sourceX:n,sourceY:o,targetX:i,targetY:l});return oe.createElement(Si,{path:_,labelX:N,labelY:T,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:m,markerEnd:v,markerStart:x,interactionWidth:E})});Zu.displayName="StraightEdge";function Ys(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function hp({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case ye.Left:return[o-Ys(o-l,c),i];case ye.Right:return[o+Ys(l-o,c),i];case ye.Top:return[o,i-Ys(i-a,c)];case ye.Bottom:return[o,i+Ys(a-i,c)]}}function xh({sourceX:n,sourceY:o,sourcePosition:i=ye.Bottom,targetX:l,targetY:a,targetPosition:c=ye.Top,curvature:d=.25}){const[p,h]=hp({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[y,m]=hp({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,x,E,_]=yh({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:p,sourceControlY:h,targetControlX:y,targetControlY:m});return[`M${n},${o} C${p},${h} ${y},${m} ${l},${a}`,v,x,E,_]}const ul=b.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ye.Bottom,targetPosition:c=ye.Top,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:y,labelBgPadding:m,labelBgBorderRadius:v,style:x,markerEnd:E,markerStart:_,pathOptions:N,interactionWidth:T})=>{const[C,j,z]=xh({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c,curvature:N?.curvature});return oe.createElement(Si,{path:C,labelX:j,labelY:z,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:y,labelBgPadding:m,labelBgBorderRadius:v,style:x,markerEnd:E,markerStart:_,interactionWidth:T})});ul.displayName="BezierEdge";const Gu=b.createContext(null),cx=Gu.Provider;Gu.Consumer;const dx=()=>b.useContext(Gu),fx=n=>"id"in n&&"source"in n&&"target"in n,px=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`reactflow__edge-${n}${o||""}-${i}${l||""}`,Iu=(n,o)=>typeof n>"u"?"":typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`,hx=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),gx=(n,o)=>{if(!n.source||!n.target)return o;let i;return fx(n)?i={...n}:i={...n,id:px(n)},hx(i,o)?o:o.concat(i)},Lu=({x:n,y:o},[i,l,a],c,[d,p])=>{const h={x:(n-i)/a,y:(o-l)/a};return c?{x:d*Math.round(h.x/d),y:p*Math.round(h.y/p)}:h},wh=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l}),uo=(n,o=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(n.width??0)*o[0],l=(n.height??0)*o[1],a={x:n.position.x-i,y:n.position.y-l};return{...a,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-i,y:n.positionAbsolute.y-l}:a}},qu=(n,o=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const{x:c,y:d}=uo(a,o).positionAbsolute;return tx(l,Yu({x:c,y:d,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return nx(i)},Sh=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1,p=[0,0])=>{const h={x:(o.x-i)/a,y:(o.y-l)/a,width:o.width/a,height:o.height/a},y=[];return n.forEach(m=>{const{width:v,height:x,selectable:E=!0,hidden:_=!1}=m;if(d&&!E||_)return!1;const{positionAbsolute:N}=uo(m,p),T={x:N.x,y:N.y,width:v||0,height:x||0},C=ju(h,T),j=typeof v>"u"||typeof x>"u"||v===null||x===null,z=c&&C>0,I=(v||0)*(x||0);(j||z||C>=I||m.dragging)&&y.push(m)}),y},Eh=(n,o)=>{const i=n.map(l=>l.id);return o.filter(l=>i.includes(l.source)||i.includes(l.target))},Nh=(n,o,i,l,a,c=.1)=>{const d=o/(n.width*(1+c)),p=i/(n.height*(1+c)),h=Math.min(d,p),y=ho(h,l,a),m=n.x+n.width/2,v=n.y+n.height/2,x=o/2-m*y,E=i/2-v*y;return{x,y:E,zoom:y}},_r=(n,o=0)=>n.transition().duration(o);function gp(n,o,i,l){return(o[i]||[]).reduce((a,c)=>(`${n.id}-${c.id}-${i}`!==l&&a.push({id:c.id||null,type:i,nodeId:n.id,x:(n.positionAbsolute?.x??0)+c.x+c.width/2,y:(n.positionAbsolute?.y??0)+c.y+c.height/2}),a),[])}function mx(n,o,i,l,a,c){const{x:d,y:p}=sr(n),y=o.elementsFromPoint(d,p).find(_=>_.classList.contains("react-flow__handle"));if(y){const _=y.getAttribute("data-nodeid");if(_){const N=Ju(void 0,y),T=y.getAttribute("data-handleid"),C=c({nodeId:_,id:T,type:N});if(C){const j=a.find(z=>z.nodeId===_&&z.type===N&&z.id===T);return{handle:{id:T,type:N,nodeId:_,x:j?.x||i.x,y:j?.y||i.y},validHandleResult:C}}}}let m=[],v=1/0;if(a.forEach(_=>{const N=Math.sqrt((_.x-i.x)**2+(_.y-i.y)**2);if(N<=l){const T=c(_);N<=v&&(N<v?m=[{handle:_,validHandleResult:T}]:N===v&&m.push({handle:_,validHandleResult:T}),v=N)}}),!m.length)return{handle:null,validHandleResult:_h()};if(m.length===1)return m[0];const x=m.some(({validHandleResult:_})=>_.isValid),E=m.some(({handle:_})=>_.type==="target");return m.find(({handle:_,validHandleResult:N})=>E?_.type==="target":x?N.isValid:!0)||m[0]}const yx={source:null,target:null,sourceHandle:null,targetHandle:null},_h=()=>({handleDomNode:null,isValid:!1,connection:yx,endHandle:null});function kh(n,o,i,l,a,c,d){const p=a==="target",h=d.querySelector(`.react-flow__handle[data-id="${n?.nodeId}-${n?.id}-${n?.type}"]`),y={..._h(),handleDomNode:h};if(h){const m=Ju(void 0,h),v=h.getAttribute("data-nodeid"),x=h.getAttribute("data-handleid"),E=h.classList.contains("connectable"),_=h.classList.contains("connectableend"),N={source:p?v:i,sourceHandle:p?x:l,target:p?i:v,targetHandle:p?l:x};y.connection=N,E&&_&&(o===Rr.Strict?p&&m==="source"||!p&&m==="target":v!==i||x!==l)&&(y.endHandle={nodeId:v,handleId:x,type:m},y.isValid=c(N))}return y}function vx({nodes:n,nodeId:o,handleId:i,handleType:l}){return n.reduce((a,c)=>{if(c[nt]){const{handleBounds:d}=c[nt];let p=[],h=[];d&&(p=gp(c,d,"source",`${o}-${i}-${l}`),h=gp(c,d,"target",`${o}-${i}-${l}`)),a.push(...p,...h)}return a},[])}function Ju(n,o){return n||(o?.classList.contains("target")?"target":o?.classList.contains("source")?"source":null)}function mu(n){n?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function xx(n,o){let i=null;return o?i="valid":n&&!o&&(i="invalid"),i}function Ch({event:n,handleId:o,nodeId:i,onConnect:l,isTarget:a,getState:c,setState:d,isValidConnection:p,edgeUpdaterType:h,onReconnectEnd:y}){const m=ph(n.target),{connectionMode:v,domNode:x,autoPanOnConnect:E,connectionRadius:_,onConnectStart:N,panBy:T,getNodes:C,cancelConnection:j}=c();let z=0,I;const{x:P,y:Y}=sr(n),U=m?.elementFromPoint(P,Y),q=Ju(h,U),X=x?.getBoundingClientRect();if(!X||!q)return;let W,B=sr(n,X),Z=!1,G=null,S=!1,A=null;const L=vx({nodes:C(),nodeId:i,handleId:o,handleType:q}),O=()=>{if(!E)return;const[V,k]=fh(B,X);T({x:V,y:k}),z=requestAnimationFrame(O)};d({connectionPosition:B,connectionStatus:null,connectionNodeId:i,connectionHandleId:o,connectionHandleType:q,connectionStartHandle:{nodeId:i,handleId:o,type:q},connectionEndHandle:null}),N?.(n,{nodeId:i,handleId:o,handleType:q});function $(V){const{transform:k}=c();B=sr(V,X);const{handle:H,validHandleResult:ie}=mx(V,m,Lu(B,k,!1,[1,1]),_,L,se=>kh(se,v,i,o,a?"target":"source",p,m));if(I=H,Z||(O(),Z=!0),A=ie.handleDomNode,G=ie.connection,S=ie.isValid,d({connectionPosition:I&&S?wh({x:I.x,y:I.y},k):B,connectionStatus:xx(!!I,S),connectionEndHandle:ie.endHandle}),!I&&!S&&!A)return mu(W);G.source!==G.target&&A&&(mu(W),W=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",S),A.classList.toggle("react-flow__handle-valid",S))}function M(V){(I||A)&&G&&S&&l?.(G),c().onConnectEnd?.(V),h&&y?.(V),mu(W),j(),cancelAnimationFrame(z),Z=!1,S=!1,G=null,A=null,m.removeEventListener("mousemove",$),m.removeEventListener("mouseup",M),m.removeEventListener("touchmove",$),m.removeEventListener("touchend",M)}m.addEventListener("mousemove",$),m.addEventListener("mouseup",M),m.addEventListener("touchmove",$),m.addEventListener("touchend",M)}const mp=()=>!0,wx=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),Sx=(n,o,i)=>l=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:d}=l;return{connecting:a?.nodeId===n&&a?.handleId===o&&a?.type===i||c?.nodeId===n&&c?.handleId===o&&c?.type===i,clickConnecting:d?.nodeId===n&&d?.handleId===o&&d?.type===i}},bh=b.forwardRef(({type:n="source",position:o=ye.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:p,children:h,className:y,onMouseDown:m,onTouchStart:v,...x},E)=>{const _=d||null,N=n==="target",T=pt(),C=dx(),{connectOnClick:j,noPanClassName:z}=Je(wx,Et),{connecting:I,clickConnecting:P}=Je(Sx(C,_,n),Et);C||T.getState().onError?.("010",In.error010());const Y=X=>{const{defaultEdgeOptions:W,onConnect:B,hasDefaultEdges:Z}=T.getState(),G={...W,...X};if(Z){const{edges:S,setEdges:A}=T.getState();A(gx(G,S))}B?.(G),p?.(G)},U=X=>{if(!C)return;const W=gh(X);a&&(W&&X.button===0||!W)&&Ch({event:X,handleId:_,nodeId:C,onConnect:Y,isTarget:N,getState:T.getState,setState:T.setState,isValidConnection:i||T.getState().isValidConnection||mp}),W?m?.(X):v?.(X)},q=X=>{const{onClickConnectStart:W,onClickConnectEnd:B,connectionClickStartHandle:Z,connectionMode:G,isValidConnection:S}=T.getState();if(!C||!Z&&!a)return;if(!Z){W?.(X,{nodeId:C,handleId:_,handleType:n}),T.setState({connectionClickStartHandle:{nodeId:C,type:n,handleId:_}});return}const A=ph(X.target),L=i||S||mp,{connection:O,isValid:$}=kh({nodeId:C,id:_,type:n},G,Z.nodeId,Z.handleId||null,Z.type,L,A);$&&Y(O),B?.(X),T.setState({connectionClickStartHandle:null})};return oe.createElement("div",{"data-handleid":_,"data-nodeid":C,"data-handlepos":o,"data-id":`${C}-${_}-${n}`,className:kt(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",z,y,{source:!N,target:N,connectable:l,connectablestart:a,connectableend:c,connecting:P,connectionindicator:l&&(a&&!I||c&&I)}]),onMouseDown:U,onTouchStart:U,onClick:j?q:void 0,ref:E,...x},h)});bh.displayName="Handle";var st=b.memo(bh);const Th=({data:n,isConnectable:o,targetPosition:i=ye.Top,sourcePosition:l=ye.Bottom})=>oe.createElement(oe.Fragment,null,oe.createElement(st,{type:"target",position:i,isConnectable:o}),n?.label,oe.createElement(st,{type:"source",position:l,isConnectable:o}));Th.displayName="DefaultNode";var $u=b.memo(Th);const Rh=({data:n,isConnectable:o,sourcePosition:i=ye.Bottom})=>oe.createElement(oe.Fragment,null,n?.label,oe.createElement(st,{type:"source",position:i,isConnectable:o}));Rh.displayName="InputNode";var jh=b.memo(Rh);const Ah=({data:n,isConnectable:o,targetPosition:i=ye.Top})=>oe.createElement(oe.Fragment,null,oe.createElement(st,{type:"target",position:i,isConnectable:o}),n?.label);Ah.displayName="OutputNode";var Mh=b.memo(Ah);const ec=()=>null;ec.displayName="GroupNode";const Ex=n=>({selectedNodes:n.getNodes().filter(o=>o.selected),selectedEdges:n.edges.filter(o=>o.selected).map(o=>({...o}))}),Qs=n=>n.id;function Nx(n,o){return Et(n.selectedNodes.map(Qs),o.selectedNodes.map(Qs))&&Et(n.selectedEdges.map(Qs),o.selectedEdges.map(Qs))}const Ih=b.memo(({onSelectionChange:n})=>{const o=pt(),{selectedNodes:i,selectedEdges:l}=Je(Ex,Nx);return b.useEffect(()=>{const a={nodes:i,edges:l};n?.(a),o.getState().onSelectionChange.forEach(c=>c(a))},[i,l,n]),null});Ih.displayName="SelectionListener";const _x=n=>!!n.onSelectionChange;function kx({onSelectionChange:n}){const o=Je(_x);return n||o?oe.createElement(Ih,{onSelectionChange:n}):null}const Cx=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function no(n,o){b.useEffect(()=>{typeof n<"u"&&o(n)},[n])}function Ae(n,o,i){b.useEffect(()=>{typeof o<"u"&&i({[n]:o})},[o])}const bx=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:a,onConnectStart:c,onConnectEnd:d,onClickConnectStart:p,onClickConnectEnd:h,nodesDraggable:y,nodesConnectable:m,nodesFocusable:v,edgesFocusable:x,edgesUpdatable:E,elevateNodesOnSelect:_,minZoom:N,maxZoom:T,nodeExtent:C,onNodesChange:j,onEdgesChange:z,elementsSelectable:I,connectionMode:P,snapGrid:Y,snapToGrid:U,translateExtent:q,connectOnClick:X,defaultEdgeOptions:W,fitView:B,fitViewOptions:Z,onNodesDelete:G,onEdgesDelete:S,onNodeDrag:A,onNodeDragStart:L,onNodeDragStop:O,onSelectionDrag:$,onSelectionDragStart:M,onSelectionDragStop:V,noPanClassName:k,nodeOrigin:H,rfId:ie,autoPanOnConnect:se,autoPanOnNodeDrag:pe,onError:J,connectionRadius:ue,isValidConnection:he,nodeDragThreshold:Ee})=>{const{setNodes:ge,setEdges:Le,setDefaultNodesAndEdges:Ve,setMinZoom:Ie,setMaxZoom:Fe,setTranslateExtent:He,setNodeExtent:re,reset:te}=Je(Cx,Et),Q=pt();return b.useEffect(()=>{const le=l?.map(ve=>({...ve,...W}));return Ve(i,le),()=>{te()}},[]),Ae("defaultEdgeOptions",W,Q.setState),Ae("connectionMode",P,Q.setState),Ae("onConnect",a,Q.setState),Ae("onConnectStart",c,Q.setState),Ae("onConnectEnd",d,Q.setState),Ae("onClickConnectStart",p,Q.setState),Ae("onClickConnectEnd",h,Q.setState),Ae("nodesDraggable",y,Q.setState),Ae("nodesConnectable",m,Q.setState),Ae("nodesFocusable",v,Q.setState),Ae("edgesFocusable",x,Q.setState),Ae("edgesUpdatable",E,Q.setState),Ae("elementsSelectable",I,Q.setState),Ae("elevateNodesOnSelect",_,Q.setState),Ae("snapToGrid",U,Q.setState),Ae("snapGrid",Y,Q.setState),Ae("onNodesChange",j,Q.setState),Ae("onEdgesChange",z,Q.setState),Ae("connectOnClick",X,Q.setState),Ae("fitViewOnInit",B,Q.setState),Ae("fitViewOnInitOptions",Z,Q.setState),Ae("onNodesDelete",G,Q.setState),Ae("onEdgesDelete",S,Q.setState),Ae("onNodeDrag",A,Q.setState),Ae("onNodeDragStart",L,Q.setState),Ae("onNodeDragStop",O,Q.setState),Ae("onSelectionDrag",$,Q.setState),Ae("onSelectionDragStart",M,Q.setState),Ae("onSelectionDragStop",V,Q.setState),Ae("noPanClassName",k,Q.setState),Ae("nodeOrigin",H,Q.setState),Ae("rfId",ie,Q.setState),Ae("autoPanOnConnect",se,Q.setState),Ae("autoPanOnNodeDrag",pe,Q.setState),Ae("onError",J,Q.setState),Ae("connectionRadius",ue,Q.setState),Ae("isValidConnection",he,Q.setState),Ae("nodeDragThreshold",Ee,Q.setState),no(n,ge),no(o,Le),no(N,Ie),no(T,Fe),no(q,He),no(C,re),null},yp={display:"none"},Tx={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Lh="react-flow__node-desc",$h="react-flow__edge-desc",Rx="react-flow__aria-live",jx=n=>n.ariaLiveMessage;function Ax({rfId:n}){const o=Je(jx);return oe.createElement("div",{id:`${Rx}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:Tx},o)}function Mx({rfId:n,disableKeyboardA11y:o}){return oe.createElement(oe.Fragment,null,oe.createElement("div",{id:`${Lh}-${n}`,style:yp},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),oe.createElement("div",{id:`${$h}-${n}`,style:yp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&oe.createElement(Ax,{rfId:n}))}var yi=(n=null,o={actInsideInputWithModifier:!0})=>{const[i,l]=b.useState(!1),a=b.useRef(!1),c=b.useRef(new Set([])),[d,p]=b.useMemo(()=>{if(n!==null){const y=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.split("+")),m=y.reduce((v,x)=>v.concat(...x),[]);return[y,m]}return[[],[]]},[n]);return b.useEffect(()=>{const h=typeof document<"u"?document:null,y=o?.target||h;if(n!==null){const m=E=>{if(a.current=E.ctrlKey||E.metaKey||E.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&Au(E))return!1;const N=xp(E.code,p);c.current.add(E[N]),vp(d,c.current,!1)&&(E.preventDefault(),l(!0))},v=E=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&Au(E))return!1;const N=xp(E.code,p);vp(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(E[N]),E.key==="Meta"&&c.current.clear(),a.current=!1},x=()=>{c.current.clear(),l(!1)};return y?.addEventListener("keydown",m),y?.addEventListener("keyup",v),window.addEventListener("blur",x),()=>{y?.removeEventListener("keydown",m),y?.removeEventListener("keyup",v),window.removeEventListener("blur",x)}}},[n,l]),i};function vp(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function xp(n,o){return o.includes(n)?"code":"key"}function Dh(n,o,i,l){const a=n.parentNode||n.parentId;if(!a)return i;const c=o.get(a),d=uo(c,l);return Dh(c,o,{x:(i.x??0)+d.x,y:(i.y??0)+d.y,z:(c[nt]?.z??0)>(i.z??0)?c[nt]?.z??0:i.z??0},l)}function zh(n,o,i){n.forEach(l=>{const a=l.parentNode||l.parentId;if(a&&!n.has(a))throw new Error(`Parent node ${a} not found`);if(a||i?.[l.id]){const{x:c,y:d,z:p}=Dh(l,n,{...l.position,z:l[nt]?.z??0},o);l.positionAbsolute={x:c,y:d},l[nt].z=p,i?.[l.id]&&(l[nt].isParent=!0)}})}function yu(n,o,i,l){const a=new Map,c={},d=l?1e3:0;return n.forEach(p=>{const h=(Qt(p.zIndex)?p.zIndex:0)+(p.selected?d:0),y=o.get(p.id),m={...p,positionAbsolute:{x:p.position.x,y:p.position.y}},v=p.parentNode||p.parentId;v&&(c[v]=!0);const x=y?.type&&y?.type!==p.type;Object.defineProperty(m,nt,{enumerable:!1,value:{handleBounds:x?void 0:y?.[nt]?.handleBounds,z:h}}),a.set(p.id,m)}),zh(a,i,c),a}function Ph(n,o={}){const{getNodes:i,width:l,height:a,minZoom:c,maxZoom:d,d3Zoom:p,d3Selection:h,fitViewOnInitDone:y,fitViewOnInit:m,nodeOrigin:v}=n(),x=o.initial&&!y&&m;if(p&&h&&(x||!o.initial)){const _=i().filter(T=>{const C=o.includeHiddenNodes?T.width&&T.height:!T.hidden;return o.nodes?.length?C&&o.nodes.some(j=>j.id===T.id):C}),N=_.every(T=>T.width&&T.height);if(_.length>0&&N){const T=qu(_,v),{x:C,y:j,zoom:z}=Nh(T,l,a,o.minZoom??c,o.maxZoom??d,o.padding??.1),I=ir.translate(C,j).scale(z);return typeof o.duration=="number"&&o.duration>0?p.transform(_r(h,o.duration),I):p.transform(h,I),!0}}return!1}function Ix(n,o){return n.forEach(i=>{const l=o.get(i.id);l&&o.set(l.id,{...l,[nt]:l[nt],selected:i.selected})}),new Map(o)}function Lx(n,o){return o.map(i=>{const l=n.find(a=>a.id===i.id);return l&&(i.selected=l.selected),i})}function Ks({changedNodes:n,changedEdges:o,get:i,set:l}){const{nodeInternals:a,edges:c,onNodesChange:d,onEdgesChange:p,hasDefaultNodes:h,hasDefaultEdges:y}=i();n?.length&&(h&&l({nodeInternals:Ix(n,a)}),d?.(n)),o?.length&&(y&&l({edges:Lx(o,c)}),p?.(o))}const ro=()=>{},$x={zoomIn:ro,zoomOut:ro,zoomTo:ro,getZoom:()=>1,setViewport:ro,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ro,fitBounds:ro,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},Dx=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),zx=()=>{const n=pt(),{d3Zoom:o,d3Selection:i}=Je(Dx,Et);return b.useMemo(()=>i&&o?{zoomIn:a=>o.scaleBy(_r(i,a?.duration),1.2),zoomOut:a=>o.scaleBy(_r(i,a?.duration),1/1.2),zoomTo:(a,c)=>o.scaleTo(_r(i,c?.duration),a),getZoom:()=>n.getState().transform[2],setViewport:(a,c)=>{const[d,p,h]=n.getState().transform,y=ir.translate(a.x??d,a.y??p).scale(a.zoom??h);o.transform(_r(i,c?.duration),y)},getViewport:()=>{const[a,c,d]=n.getState().transform;return{x:a,y:c,zoom:d}},fitView:a=>Ph(n.getState,a),setCenter:(a,c,d)=>{const{width:p,height:h,maxZoom:y}=n.getState(),m=typeof d?.zoom<"u"?d.zoom:y,v=p/2-a*m,x=h/2-c*m,E=ir.translate(v,x).scale(m);o.transform(_r(i,d?.duration),E)},fitBounds:(a,c)=>{const{width:d,height:p,minZoom:h,maxZoom:y}=n.getState(),{x:m,y:v,zoom:x}=Nh(a,d,p,h,y,c?.padding??.1),E=ir.translate(m,v).scale(x);o.transform(_r(i,c?.duration),E)},project:a=>{const{transform:c,snapToGrid:d,snapGrid:p}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Lu(a,c,d,p)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:d,snapGrid:p,domNode:h}=n.getState();if(!h)return a;const{x:y,y:m}=h.getBoundingClientRect(),v={x:a.x-y,y:a.y-m};return Lu(v,c,d,p)},flowToScreenPosition:a=>{const{transform:c,domNode:d}=n.getState();if(!d)return a;const{x:p,y:h}=d.getBoundingClientRect(),y=wh(a,c);return{x:y.x+p,y:y.y+h}},viewportInitialized:!0}:$x,[o,i])};function go(){const n=zx(),o=pt(),i=b.useCallback(()=>o.getState().getNodes().map(N=>({...N})),[]),l=b.useCallback(N=>o.getState().nodeInternals.get(N),[]),a=b.useCallback(()=>{const{edges:N=[]}=o.getState();return N.map(T=>({...T}))},[]),c=b.useCallback(N=>{const{edges:T=[]}=o.getState();return T.find(C=>C.id===N)},[]),d=b.useCallback(N=>{const{getNodes:T,setNodes:C,hasDefaultNodes:j,onNodesChange:z}=o.getState(),I=T(),P=typeof N=="function"?N(I):N;if(j)C(P);else if(z){const Y=P.length===0?I.map(U=>({type:"remove",id:U.id})):P.map(U=>({item:U,type:"reset"}));z(Y)}},[]),p=b.useCallback(N=>{const{edges:T=[],setEdges:C,hasDefaultEdges:j,onEdgesChange:z}=o.getState(),I=typeof N=="function"?N(T):N;if(j)C(I);else if(z){const P=I.length===0?T.map(Y=>({type:"remove",id:Y.id})):I.map(Y=>({item:Y,type:"reset"}));z(P)}},[]),h=b.useCallback(N=>{const T=Array.isArray(N)?N:[N],{getNodes:C,setNodes:j,hasDefaultNodes:z,onNodesChange:I}=o.getState();if(z){const Y=[...C(),...T];j(Y)}else if(I){const P=T.map(Y=>({item:Y,type:"add"}));I(P)}},[]),y=b.useCallback(N=>{const T=Array.isArray(N)?N:[N],{edges:C=[],setEdges:j,hasDefaultEdges:z,onEdgesChange:I}=o.getState();if(z)j([...C,...T]);else if(I){const P=T.map(Y=>({item:Y,type:"add"}));I(P)}},[]),m=b.useCallback(()=>{const{getNodes:N,edges:T=[],transform:C}=o.getState(),[j,z,I]=C;return{nodes:N().map(P=>({...P})),edges:T.map(P=>({...P})),viewport:{x:j,y:z,zoom:I}}},[]),v=b.useCallback(({nodes:N,edges:T})=>{const{nodeInternals:C,getNodes:j,edges:z,hasDefaultNodes:I,hasDefaultEdges:P,onNodesDelete:Y,onEdgesDelete:U,onNodesChange:q,onEdgesChange:X}=o.getState(),W=(N||[]).map(A=>A.id),B=(T||[]).map(A=>A.id),Z=j().reduce((A,L)=>{const O=L.parentNode||L.parentId,$=!W.includes(L.id)&&O&&A.find(V=>V.id===O);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(W.includes(L.id)||$)&&A.push(L),A},[]),G=z.filter(A=>typeof A.deletable=="boolean"?A.deletable:!0),S=G.filter(A=>B.includes(A.id));if(Z||S){const A=Eh(Z,G),L=[...S,...A],O=L.reduce(($,M)=>($.includes(M.id)||$.push(M.id),$),[]);if((P||I)&&(P&&o.setState({edges:z.filter($=>!O.includes($.id))}),I&&(Z.forEach($=>{C.delete($.id)}),o.setState({nodeInternals:new Map(C)}))),O.length>0&&(U?.(L),X&&X(O.map($=>({id:$,type:"remove"})))),Z.length>0&&(Y?.(Z),q)){const $=Z.map(M=>({id:M.id,type:"remove"}));q($)}}},[]),x=b.useCallback(N=>{const T=rx(N),C=T?null:o.getState().nodeInternals.get(N.id);return!T&&!C?[null,null,T]:[T?N:cp(C),C,T]},[]),E=b.useCallback((N,T=!0,C)=>{const[j,z,I]=x(N);return j?(C||o.getState().getNodes()).filter(P=>{if(!I&&(P.id===z.id||!P.positionAbsolute))return!1;const Y=cp(P),U=ju(Y,j);return T&&U>0||U>=j.width*j.height}):[]},[]),_=b.useCallback((N,T,C=!0)=>{const[j]=x(N);if(!j)return!1;const z=ju(j,T);return C&&z>0||z>=j.width*j.height},[]);return b.useMemo(()=>({...n,getNodes:i,getNode:l,getEdges:a,getEdge:c,setNodes:d,setEdges:p,addNodes:h,addEdges:y,toObject:m,deleteElements:v,getIntersectingNodes:E,isNodeIntersecting:_}),[n,i,l,a,c,d,p,h,y,m,v,E,_])}const Px={actInsideInputWithModifier:!1};var Hx=({deleteKeyCode:n,multiSelectionKeyCode:o})=>{const i=pt(),{deleteElements:l}=go(),a=yi(n,Px),c=yi(o);b.useEffect(()=>{if(a){const{edges:d,getNodes:p}=i.getState(),h=p().filter(m=>m.selected),y=d.filter(m=>m.selected);l({nodes:h,edges:y}),i.setState({nodesSelectionActive:!1})}},[a]),b.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])};function Ox(n){const o=pt();b.useEffect(()=>{let i;const l=()=>{if(!n.current)return;const a=Wu(n.current);(a.height===0||a.width===0)&&o.getState().onError?.("004",In.error004()),o.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),n.current&&(i=new ResizeObserver(()=>l()),i.observe(n.current)),()=>{window.removeEventListener("resize",l),i&&n.current&&i.unobserve(n.current)}},[])}const tc={position:"absolute",width:"100%",height:"100%",top:0,left:0},Fx=(n,o)=>n.x!==o.x||n.y!==o.y||n.zoom!==o.k,Zs=n=>({x:n.x,y:n.y,zoom:n.k}),oo=(n,o)=>n.target.closest(`.${o}`),wp=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),Sp=n=>{const o=n.ctrlKey&&al()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o},Bx=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),Vx=({onMove:n,onMoveStart:o,onMoveEnd:i,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:p=.5,panOnScrollMode:h=Cr.Free,zoomOnDoubleClick:y=!0,elementsSelectable:m,panOnDrag:v=!0,defaultViewport:x,translateExtent:E,minZoom:_,maxZoom:N,zoomActivationKeyCode:T,preventScrolling:C=!0,children:j,noWheelClassName:z,noPanClassName:I})=>{const P=b.useRef(),Y=pt(),U=b.useRef(!1),q=b.useRef(!1),X=b.useRef(null),W=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:B,d3Selection:Z,d3ZoomHandler:G,userSelectionActive:S}=Je(Bx,Et),A=yi(T),L=b.useRef(0),O=b.useRef(!1),$=b.useRef();return Ox(X),b.useEffect(()=>{if(X.current){const M=X.current.getBoundingClientRect(),V=Kv().scaleExtent([_,N]).translateExtent(E),k=rn(X.current).call(V),H=ir.translate(x.x,x.y).scale(ho(x.zoom,_,N)),ie=[[0,0],[M.width,M.height]],se=V.constrain()(H,ie,E);V.transform(k,se),V.wheelDelta(Sp),Y.setState({d3Zoom:V,d3Selection:k,d3ZoomHandler:k.on("wheel.zoom"),transform:[se.x,se.y,se.k],domNode:X.current.closest(".react-flow")})}},[]),b.useEffect(()=>{Z&&B&&(d&&!A&&!S?Z.on("wheel.zoom",M=>{if(oo(M,z))return!1;M.preventDefault(),M.stopImmediatePropagation();const V=Z.property("__zoom").k||1;if(M.ctrlKey&&c){const he=mn(M),Ee=Sp(M),ge=V*Math.pow(2,Ee);B.scaleTo(Z,ge,he,M);return}const k=M.deltaMode===1?20:1;let H=h===Cr.Vertical?0:M.deltaX*k,ie=h===Cr.Horizontal?0:M.deltaY*k;!al()&&M.shiftKey&&h!==Cr.Vertical&&(H=M.deltaY*k,ie=0),B.translateBy(Z,-(H/V)*p,-(ie/V)*p,{internal:!0});const se=Zs(Z.property("__zoom")),{onViewportChangeStart:pe,onViewportChange:J,onViewportChangeEnd:ue}=Y.getState();clearTimeout($.current),O.current||(O.current=!0,o?.(M,se),pe?.(se)),O.current&&(n?.(M,se),J?.(se),$.current=setTimeout(()=>{i?.(M,se),ue?.(se),O.current=!1},150))},{passive:!1}):typeof G<"u"&&Z.on("wheel.zoom",function(M,V){if(!C&&M.type==="wheel"&&!M.ctrlKey||oo(M,z))return null;M.preventDefault(),G.call(this,M,V)},{passive:!1}))},[S,d,h,Z,B,G,A,c,C,z,o,n,i]),b.useEffect(()=>{B&&B.on("start",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;L.current=M.sourceEvent?.button;const{onViewportChangeStart:V}=Y.getState(),k=Zs(M.transform);U.current=!0,W.current=k,M.sourceEvent?.type==="mousedown"&&Y.setState({paneDragging:!0}),V?.(k),o?.(M.sourceEvent,k)})},[B,o]),b.useEffect(()=>{B&&(S&&!U.current?B.on("zoom",null):S||B.on("zoom",M=>{const{onViewportChange:V}=Y.getState();if(Y.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),q.current=!!(l&&wp(v,L.current??0)),(n||V)&&!M.sourceEvent?.internal){const k=Zs(M.transform);V?.(k),n?.(M.sourceEvent,k)}}))},[S,B,n,v,l]),b.useEffect(()=>{B&&B.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:V}=Y.getState();if(U.current=!1,Y.setState({paneDragging:!1}),l&&wp(v,L.current??0)&&!q.current&&l(M.sourceEvent),q.current=!1,(i||V)&&Fx(W.current,M.transform)){const k=Zs(M.transform);W.current=k,clearTimeout(P.current),P.current=setTimeout(()=>{V?.(k),i?.(M.sourceEvent,k)},d?150:0)}})},[B,d,v,i,l]),b.useEffect(()=>{B&&B.filter(M=>{const V=A||a,k=c&&M.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&M.button===1&&M.type==="mousedown"&&(oo(M,"react-flow__node")||oo(M,"react-flow__edge")))return!0;if(!v&&!V&&!d&&!y&&!c||S||!y&&M.type==="dblclick"||oo(M,z)&&M.type==="wheel"||oo(M,I)&&(M.type!=="wheel"||d&&M.type==="wheel"&&!A)||!c&&M.ctrlKey&&M.type==="wheel"||!V&&!d&&!k&&M.type==="wheel"||!v&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(v)&&!v.includes(M.button)&&M.type==="mousedown")return!1;const H=Array.isArray(v)&&v.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&H})},[S,B,a,c,d,y,v,m,A]),oe.createElement("div",{className:"react-flow__renderer",ref:X,style:tc},j)},Ux=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function Wx(){const{userSelectionActive:n,userSelectionRect:o}=Je(Ux,Et);return n&&o?oe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function Ep(n,o){const i=o.parentNode||o.parentId,l=n.find(a=>a.id===i);if(l){const a=o.position.x+o.width-l.width,c=o.position.y+o.height-l.height;if(a>0||c>0||o.position.x<0||o.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),c>0&&(l.style.height+=c),o.position.x<0){const d=Math.abs(o.position.x);l.position.x=l.position.x-d,l.style.width+=d,o.position.x=0}if(o.position.y<0){const d=Math.abs(o.position.y);l.position.y=l.position.y-d,l.style.height+=d,o.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function Hh(n,o){if(n.some(l=>l.type==="reset"))return n.filter(l=>l.type==="reset").map(l=>l.item);const i=n.filter(l=>l.type==="add").map(l=>l.item);return o.reduce((l,a)=>{const c=n.filter(p=>p.id===a.id);if(c.length===0)return l.push(a),l;const d={...a};for(const p of c)if(p)switch(p.type){case"select":{d.selected=p.selected;break}case"position":{typeof p.position<"u"&&(d.position=p.position),typeof p.positionAbsolute<"u"&&(d.positionAbsolute=p.positionAbsolute),typeof p.dragging<"u"&&(d.dragging=p.dragging),d.expandParent&&Ep(l,d);break}case"dimensions":{typeof p.dimensions<"u"&&(d.width=p.dimensions.width,d.height=p.dimensions.height),typeof p.updateStyle<"u"&&(d.style={...d.style||{},...p.dimensions}),typeof p.resizing=="boolean"&&(d.resizing=p.resizing),d.expandParent&&Ep(l,d);break}case"remove":return l}return l.push(d),l},i)}function Oh(n,o){return Hh(n,o)}function Xx(n,o){return Hh(n,o)}const rr=(n,o)=>({id:n,type:"select",selected:o});function so(n,o){return n.reduce((i,l)=>{const a=o.includes(l.id);return!l.selected&&a?(l.selected=!0,i.push(rr(l.id,!0))):l.selected&&!a&&(l.selected=!1,i.push(rr(l.id,!1))),i},[])}const vu=(n,o)=>i=>{i.target===o.current&&n?.(i)},Yx=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),Fh=b.memo(({isSelecting:n,selectionMode:o=gi.Full,panOnDrag:i,onSelectionStart:l,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:p,onPaneMouseEnter:h,onPaneMouseMove:y,onPaneMouseLeave:m,children:v})=>{const x=b.useRef(null),E=pt(),_=b.useRef(0),N=b.useRef(0),T=b.useRef(),{userSelectionActive:C,elementsSelectable:j,dragging:z}=Je(Yx,Et),I=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),_.current=0,N.current=0},P=G=>{c?.(G),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},Y=G=>{if(Array.isArray(i)&&i?.includes(2)){G.preventDefault();return}d?.(G)},U=p?G=>p(G):void 0,q=G=>{const{resetSelectedElements:S,domNode:A}=E.getState();if(T.current=A?.getBoundingClientRect(),!j||!n||G.button!==0||G.target!==x.current||!T.current)return;const{x:L,y:O}=sr(G,T.current);S(),E.setState({userSelectionRect:{width:0,height:0,startX:L,startY:O,x:L,y:O}}),l?.(G)},X=G=>{const{userSelectionRect:S,nodeInternals:A,edges:L,transform:O,onNodesChange:$,onEdgesChange:M,nodeOrigin:V,getNodes:k}=E.getState();if(!n||!T.current||!S)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const H=sr(G,T.current),ie=S.startX??0,se=S.startY??0,pe={...S,x:H.x<ie?H.x:ie,y:H.y<se?H.y:se,width:Math.abs(H.x-ie),height:Math.abs(H.y-se)},J=k(),ue=Sh(A,pe,O,o===gi.Partial,!0,V),he=Eh(ue,L).map(ge=>ge.id),Ee=ue.map(ge=>ge.id);if(_.current!==Ee.length){_.current=Ee.length;const ge=so(J,Ee);ge.length&&$?.(ge)}if(N.current!==he.length){N.current=he.length;const ge=so(L,he);ge.length&&M?.(ge)}E.setState({userSelectionRect:pe})},W=G=>{if(G.button!==0)return;const{userSelectionRect:S}=E.getState();!C&&S&&G.target===x.current&&P?.(G),E.setState({nodesSelectionActive:_.current>0}),I(),a?.(G)},B=G=>{C&&(E.setState({nodesSelectionActive:_.current>0}),a?.(G)),I()},Z=j&&(n||C);return oe.createElement("div",{className:kt(["react-flow__pane",{dragging:z,selection:n}]),onClick:Z?void 0:vu(P,x),onContextMenu:vu(Y,x),onWheel:vu(U,x),onMouseEnter:Z?void 0:h,onMouseDown:Z?q:void 0,onMouseMove:Z?X:y,onMouseUp:Z?W:void 0,onMouseLeave:Z?B:m,ref:x,style:tc},v,oe.createElement(Wx,null))});Fh.displayName="Pane";function Bh(n,o){const i=n.parentNode||n.parentId;if(!i)return!1;const l=o.get(i);return l?l.selected?!0:Bh(l,o):!1}function Np(n,o,i){let l=n;do{if(l?.matches(o))return!0;if(l===i.current)return!1;l=l.parentElement}while(l);return!1}function Qx(n,o,i,l){return Array.from(n.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!Bh(a,n))&&(a.draggable||o&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:i.x-(a.positionAbsolute?.x??0),y:i.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function Kx(n,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(n.width||0),o[1][1]-(n.height||0)]]}function Vh(n,o,i,l,a=[0,0],c){const d=Kx(n,n.extent||l);let p=d;const h=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(h&&n.width&&n.height){const v=i.get(h),{x,y:E}=uo(v,a).positionAbsolute;p=v&&Qt(x)&&Qt(E)&&Qt(v.width)&&Qt(v.height)?[[x+n.width*a[0],E+n.height*a[1]],[x+v.width-n.width+n.width*a[0],E+v.height-n.height+n.height*a[1]]]:p}else c?.("005",In.error005()),p=d;else if(n.extent&&h&&n.extent!=="parent"){const v=i.get(h),{x,y:E}=uo(v,a).positionAbsolute;p=[[n.extent[0][0]+x,n.extent[0][1]+E],[n.extent[1][0]+x,n.extent[1][1]+E]]}let y={x:0,y:0};if(h){const v=i.get(h);y=uo(v,a).positionAbsolute}const m=p&&p!=="parent"?Xu(o,p):o;return{position:{x:m.x-y.x,y:m.y-y.y},positionAbsolute:m}}function xu({nodeId:n,dragItems:o,nodeInternals:i}){const l=o.map(a=>({...i.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[n?l.find(a=>a.id===n):l[0],l]}const _p=(n,o,i,l)=>{const a=o.querySelectorAll(n);if(!a||!a.length)return null;const c=Array.from(a),d=o.getBoundingClientRect(),p={x:d.width*l[0],y:d.height*l[1]};return c.map(h=>{const y=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(y.left-d.left-p.x)/i,y:(y.top-d.top-p.y)/i,...Wu(h)}})};function oi(n,o,i){return i===void 0?i:l=>{const a=o().nodeInternals.get(n);a&&i(l,{...a})}}function Du({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:p,onError:h}=o.getState(),y=p.get(n);if(!y){h?.("012",In.error012(n));return}o.setState({nodesSelectionActive:!1}),y.selected?(i||y.selected&&d)&&(c({nodes:[y],edges:[]}),requestAnimationFrame(()=>l?.current?.blur())):a([n])}function Zx(){const n=pt();return b.useCallback(({sourceEvent:i})=>{const{transform:l,snapGrid:a,snapToGrid:c}=n.getState(),d=i.touches?i.touches[0].clientX:i.clientX,p=i.touches?i.touches[0].clientY:i.clientY,h={x:(d-l[0])/l[2],y:(p-l[1])/l[2]};return{xSnapped:c?a[0]*Math.round(h.x/a[0]):h.x,ySnapped:c?a[1]*Math.round(h.y/a[1]):h.y,...h}},[])}function wu(n){return(o,i,l)=>n?.(o,l)}function Uh({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,selectNodesOnDrag:d}){const p=pt(),[h,y]=b.useState(!1),m=b.useRef([]),v=b.useRef({x:null,y:null}),x=b.useRef(0),E=b.useRef(null),_=b.useRef({x:0,y:0}),N=b.useRef(null),T=b.useRef(!1),C=b.useRef(!1),j=b.useRef(!1),z=Zx();return b.useEffect(()=>{if(n?.current){const I=rn(n.current),P=({x:q,y:X})=>{const{nodeInternals:W,onNodeDrag:B,onSelectionDrag:Z,updateNodePositions:G,nodeExtent:S,snapGrid:A,snapToGrid:L,nodeOrigin:O,onError:$}=p.getState();v.current={x:q,y:X};let M=!1,V={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&S){const H=qu(m.current,O);V=Yu(H)}if(m.current=m.current.map(H=>{const ie={x:q-H.distance.x,y:X-H.distance.y};L&&(ie.x=A[0]*Math.round(ie.x/A[0]),ie.y=A[1]*Math.round(ie.y/A[1]));const se=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];m.current.length>1&&S&&!H.extent&&(se[0][0]=H.positionAbsolute.x-V.x+S[0][0],se[1][0]=H.positionAbsolute.x+(H.width??0)-V.x2+S[1][0],se[0][1]=H.positionAbsolute.y-V.y+S[0][1],se[1][1]=H.positionAbsolute.y+(H.height??0)-V.y2+S[1][1]);const pe=Vh(H,ie,W,se,O,$);return M=M||H.position.x!==pe.position.x||H.position.y!==pe.position.y,H.position=pe.position,H.positionAbsolute=pe.positionAbsolute,H}),!M)return;G(m.current,!0,!0),y(!0);const k=a?B:wu(Z);if(k&&N.current){const[H,ie]=xu({nodeId:a,dragItems:m.current,nodeInternals:W});k(N.current,H,ie)}},Y=()=>{if(!E.current)return;const[q,X]=fh(_.current,E.current);if(q!==0||X!==0){const{transform:W,panBy:B}=p.getState();v.current.x=(v.current.x??0)-q/W[2],v.current.y=(v.current.y??0)-X/W[2],B({x:q,y:X})&&P(v.current)}x.current=requestAnimationFrame(Y)},U=q=>{const{nodeInternals:X,multiSelectionActive:W,nodesDraggable:B,unselectNodesAndEdges:Z,onNodeDragStart:G,onSelectionDragStart:S}=p.getState();C.current=!0;const A=a?G:wu(S);(!d||!c)&&!W&&a&&(X.get(a)?.selected||Z()),a&&c&&d&&Du({id:a,store:p,nodeRef:n});const L=z(q);if(v.current=L,m.current=Qx(X,B,L,a),A&&m.current){const[O,$]=xu({nodeId:a,dragItems:m.current,nodeInternals:X});A(q.sourceEvent,O,$)}};if(o)I.on(".drag",null);else{const q=i1().on("start",X=>{const{domNode:W,nodeDragThreshold:B}=p.getState();B===0&&U(X),j.current=!1;const Z=z(X);v.current=Z,E.current=W?.getBoundingClientRect()||null,_.current=sr(X.sourceEvent,E.current)}).on("drag",X=>{const W=z(X),{autoPanOnNodeDrag:B,nodeDragThreshold:Z}=p.getState();if(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1&&(j.current=!0),!j.current){if(!T.current&&C.current&&B&&(T.current=!0,Y()),!C.current){const G=W.xSnapped-(v?.current?.x??0),S=W.ySnapped-(v?.current?.y??0);Math.sqrt(G*G+S*S)>Z&&U(X)}(v.current.x!==W.xSnapped||v.current.y!==W.ySnapped)&&m.current&&C.current&&(N.current=X.sourceEvent,_.current=sr(X.sourceEvent,E.current),P(W))}}).on("end",X=>{if(!(!C.current||j.current)&&(y(!1),T.current=!1,C.current=!1,cancelAnimationFrame(x.current),m.current)){const{updateNodePositions:W,nodeInternals:B,onNodeDragStop:Z,onSelectionDragStop:G}=p.getState(),S=a?Z:wu(G);if(W(m.current,!1,!1),S){const[A,L]=xu({nodeId:a,dragItems:m.current,nodeInternals:B});S(X.sourceEvent,A,L)}}}).filter(X=>{const W=X.target;return!X.button&&(!i||!Np(W,`.${i}`,n))&&(!l||Np(W,l,n))});return I.call(q),()=>{I.on(".drag",null)}}}},[n,o,i,l,c,p,a,d,z]),h}function Wh(){const n=pt();return b.useCallback(i=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:c,getNodes:d,snapToGrid:p,snapGrid:h,onError:y,nodesDraggable:m}=n.getState(),v=d().filter(j=>j.selected&&(j.draggable||m&&typeof j.draggable>"u")),x=p?h[0]:5,E=p?h[1]:5,_=i.isShiftPressed?4:1,N=i.x*x*_,T=i.y*E*_,C=v.map(j=>{if(j.positionAbsolute){const z={x:j.positionAbsolute.x+N,y:j.positionAbsolute.y+T};p&&(z.x=h[0]*Math.round(z.x/h[0]),z.y=h[1]*Math.round(z.y/h[1]));const{positionAbsolute:I,position:P}=Vh(j,z,l,a,void 0,y);j.position=P,j.positionAbsolute=I}return j});c(C,!0,!1)},[])}const co={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ii=n=>{const o=({id:i,type:l,data:a,xPos:c,yPos:d,xPosOrigin:p,yPosOrigin:h,selected:y,onClick:m,onMouseEnter:v,onMouseMove:x,onMouseLeave:E,onContextMenu:_,onDoubleClick:N,style:T,className:C,isDraggable:j,isSelectable:z,isConnectable:I,isFocusable:P,selectNodesOnDrag:Y,sourcePosition:U,targetPosition:q,hidden:X,resizeObserver:W,dragHandle:B,zIndex:Z,isParent:G,noDragClassName:S,noPanClassName:A,initialized:L,disableKeyboardA11y:O,ariaLabel:$,rfId:M,hasHandleBounds:V})=>{const k=pt(),H=b.useRef(null),ie=b.useRef(null),se=b.useRef(U),pe=b.useRef(q),J=b.useRef(l),ue=z||j||m||v||x||E,he=Wh(),Ee=oi(i,k.getState,v),ge=oi(i,k.getState,x),Le=oi(i,k.getState,E),Ve=oi(i,k.getState,_),Ie=oi(i,k.getState,N),Fe=te=>{const{nodeDragThreshold:Q}=k.getState();if(z&&(!Y||!j||Q>0)&&Du({id:i,store:k,nodeRef:H}),m){const le=k.getState().nodeInternals.get(i);le&&m(te,{...le})}},He=te=>{if(!Au(te)&&!O)if(hh.includes(te.key)&&z){const Q=te.key==="Escape";Du({id:i,store:k,unselect:Q,nodeRef:H})}else j&&y&&Object.prototype.hasOwnProperty.call(co,te.key)&&(k.setState({ariaLiveMessage:`Moved selected node ${te.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),he({x:co[te.key].x,y:co[te.key].y,isShiftPressed:te.shiftKey}))};b.useEffect(()=>()=>{ie.current&&(W?.unobserve(ie.current),ie.current=null)},[]),b.useEffect(()=>{if(H.current&&!X){const te=H.current;(!L||!V||ie.current!==te)&&(ie.current&&W?.unobserve(ie.current),W?.observe(te),ie.current=te)}},[X,L,V]),b.useEffect(()=>{const te=J.current!==l,Q=se.current!==U,le=pe.current!==q;H.current&&(te||Q||le)&&(te&&(J.current=l),Q&&(se.current=U),le&&(pe.current=q),k.getState().updateNodeDimensions([{id:i,nodeElement:H.current,forceUpdate:!0}]))},[i,l,U,q]);const re=Uh({nodeRef:H,disabled:X||!j,noDragClassName:S,handleSelector:B,nodeId:i,isSelectable:z,selectNodesOnDrag:Y});return X?null:oe.createElement("div",{className:kt(["react-flow__node",`react-flow__node-${l}`,{[A]:j},C,{selected:y,selectable:z,parent:G,dragging:re}]),ref:H,style:{zIndex:Z,transform:`translate(${p}px,${h}px)`,pointerEvents:ue?"all":"none",visibility:L?"visible":"hidden",...T},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:Ee,onMouseMove:ge,onMouseLeave:Le,onContextMenu:Ve,onClick:Fe,onDoubleClick:Ie,onKeyDown:P?He:void 0,tabIndex:P?0:void 0,role:P?"button":void 0,"aria-describedby":O?void 0:`${Lh}-${M}`,"aria-label":$},oe.createElement(cx,{value:i},oe.createElement(n,{id:i,data:a,type:l,xPos:c,yPos:d,selected:y,isConnectable:I,sourcePosition:U,targetPosition:q,dragging:re,dragHandle:B,zIndex:Z})))};return o.displayName="NodeWrapper",b.memo(o)};const Gx=n=>{const o=n.getNodes().filter(i=>i.selected);return{...qu(o,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function qx({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=pt(),{width:a,height:c,x:d,y:p,transformString:h,userSelectionActive:y}=Je(Gx,Et),m=Wh(),v=b.useRef(null);if(b.useEffect(()=>{i||v.current?.focus({preventScroll:!0})},[i]),Uh({nodeRef:v}),y||!a||!c)return null;const x=n?_=>{const N=l.getState().getNodes().filter(T=>T.selected);n(_,N)}:void 0,E=_=>{Object.prototype.hasOwnProperty.call(co,_.key)&&m({x:co[_.key].x,y:co[_.key].y,isShiftPressed:_.shiftKey})};return oe.createElement("div",{className:kt(["react-flow__nodesselection","react-flow__container",o]),style:{transform:h}},oe.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:i?void 0:-1,onKeyDown:i?void 0:E,style:{width:a,height:c,top:p,left:d}}))}var Jx=b.memo(qx);const ew=n=>n.nodesSelectionActive,Xh=({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:p,onMove:h,onMoveStart:y,onMoveEnd:m,selectionKeyCode:v,selectionOnDrag:x,selectionMode:E,onSelectionStart:_,onSelectionEnd:N,multiSelectionKeyCode:T,panActivationKeyCode:C,zoomActivationKeyCode:j,elementsSelectable:z,zoomOnScroll:I,zoomOnPinch:P,panOnScroll:Y,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:X,panOnDrag:W,defaultViewport:B,translateExtent:Z,minZoom:G,maxZoom:S,preventScrolling:A,onSelectionContextMenu:L,noWheelClassName:O,noPanClassName:$,disableKeyboardA11y:M})=>{const V=Je(ew),k=yi(v),H=yi(C),ie=H||W,se=H||Y,pe=k||x&&ie!==!0;return Hx({deleteKeyCode:p,multiSelectionKeyCode:T}),oe.createElement(Vx,{onMove:h,onMoveStart:y,onMoveEnd:m,onPaneContextMenu:c,elementsSelectable:z,zoomOnScroll:I,zoomOnPinch:P,panOnScroll:se,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:X,panOnDrag:!k&&ie,defaultViewport:B,translateExtent:Z,minZoom:G,maxZoom:S,zoomActivationKeyCode:j,preventScrolling:A,noWheelClassName:O,noPanClassName:$},oe.createElement(Fh,{onSelectionStart:_,onSelectionEnd:N,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:ie,isSelecting:!!pe,selectionMode:E},n,V&&oe.createElement(Jx,{onSelectionContextMenu:L,noPanClassName:$,disableKeyboardA11y:M})))};Xh.displayName="FlowRenderer";var tw=b.memo(Xh);function nw(n){return Je(b.useCallback(i=>n?Sh(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[n]))}function rw(n){const o={input:ii(n.input||jh),default:ii(n.default||$u),output:ii(n.output||Mh),group:ii(n.group||ec)},i={},l=Object.keys(n).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=ii(n[c]||$u),a),i);return{...o,...l}}const ow=({x:n,y:o,width:i,height:l,origin:a})=>!i||!l?{x:n,y:o}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:n,y:o}:{x:n-i*a[0],y:o-l*a[1]},iw=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),Yh=n=>{const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:c,onError:d}=Je(iw,Et),p=nw(n.onlyRenderVisibleElements),h=b.useRef(),y=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(v=>{const x=v.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));c(x)});return h.current=m,m},[]);return b.useEffect(()=>()=>{h?.current?.disconnect()},[]),oe.createElement("div",{className:"react-flow__nodes",style:tc},p.map(m=>{let v=m.type||"default";n.nodeTypes[v]||(d?.("003",In.error003(v)),v="default");const x=n.nodeTypes[v]||n.nodeTypes.default,E=!!(m.draggable||o&&typeof m.draggable>"u"),_=!!(m.selectable||a&&typeof m.selectable>"u"),N=!!(m.connectable||i&&typeof m.connectable>"u"),T=!!(m.focusable||l&&typeof m.focusable>"u"),C=n.nodeExtent?Xu(m.positionAbsolute,n.nodeExtent):m.positionAbsolute,j=C?.x??0,z=C?.y??0,I=ow({x:j,y:z,width:m.width??0,height:m.height??0,origin:n.nodeOrigin});return oe.createElement(x,{key:m.id,id:m.id,className:m.className,style:m.style,type:v,data:m.data,sourcePosition:m.sourcePosition||ye.Bottom,targetPosition:m.targetPosition||ye.Top,hidden:m.hidden,xPos:j,yPos:z,xPosOrigin:I.x,yPosOrigin:I.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!m.selected,isDraggable:E,isSelectable:_,isConnectable:N,isFocusable:T,resizeObserver:y,dragHandle:m.dragHandle,zIndex:m[nt]?.z??0,isParent:!!m[nt]?.isParent,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!m.width&&!!m.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!m[nt]?.handleBounds})}))};Yh.displayName="NodeRenderer";var sw=b.memo(Yh);const lw=(n,o,i)=>i===ye.Left?n-o:i===ye.Right?n+o:n,aw=(n,o,i)=>i===ye.Top?n-o:i===ye.Bottom?n+o:n,kp="react-flow__edgeupdater",Cp=({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:p})=>oe.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:kt([kp,`${kp}-${p}`]),cx:lw(o,l,n),cy:aw(i,l,n),r:l,stroke:"transparent",fill:"transparent"}),uw=()=>!0;var io=n=>{const o=({id:i,className:l,type:a,data:c,onClick:d,onEdgeDoubleClick:p,selected:h,animated:y,label:m,labelStyle:v,labelShowBg:x,labelBgStyle:E,labelBgPadding:_,labelBgBorderRadius:N,style:T,source:C,target:j,sourceX:z,sourceY:I,targetX:P,targetY:Y,sourcePosition:U,targetPosition:q,elementsSelectable:X,hidden:W,sourceHandleId:B,targetHandleId:Z,onContextMenu:G,onMouseEnter:S,onMouseMove:A,onMouseLeave:L,reconnectRadius:O,onReconnect:$,onReconnectStart:M,onReconnectEnd:V,markerEnd:k,markerStart:H,rfId:ie,ariaLabel:se,isFocusable:pe,isReconnectable:J,pathOptions:ue,interactionWidth:he,disableKeyboardA11y:Ee})=>{const ge=b.useRef(null),[Le,Ve]=b.useState(!1),[Ie,Fe]=b.useState(!1),He=pt(),re=b.useMemo(()=>`url('#${Iu(H,ie)}')`,[H,ie]),te=b.useMemo(()=>`url('#${Iu(k,ie)}')`,[k,ie]);if(W)return null;const Q=Ye=>{const{edges:Ht,addSelectedEdges:an,unselectNodesAndEdges:un,multiSelectionActive:Ln}=He.getState(),Ct=Ht.find(Kt=>Kt.id===i);Ct&&(X&&(He.setState({nodesSelectionActive:!1}),Ct.selected&&Ln?(un({nodes:[],edges:[Ct]}),ge.current?.blur()):an([i])),d&&d(Ye,Ct))},le=ri(i,He.getState,p),ve=ri(i,He.getState,G),_e=ri(i,He.getState,S),$e=ri(i,He.getState,A),Te=ri(i,He.getState,L),Be=(Ye,Ht)=>{if(Ye.button!==0)return;const{edges:an,isValidConnection:un}=He.getState(),Ln=Ht?j:C,Ct=(Ht?Z:B)||null,Kt=Ht?"target":"source",lr=un||uw,ar=Ht,xn=an.find(dn=>dn.id===i);Fe(!0),M?.(Ye,xn,Kt);const cn=dn=>{Fe(!1),V?.(dn,xn,Kt)};Ch({event:Ye,handleId:Ct,nodeId:Ln,onConnect:dn=>$?.(xn,dn),isTarget:ar,getState:He.getState,setState:He.setState,isValidConnection:lr,edgeUpdaterType:Kt,onReconnectEnd:cn})},Re=Ye=>Be(Ye,!0),rt=Ye=>Be(Ye,!1),et=()=>Ve(!0),yt=()=>Ve(!1),Ke=!X&&!d,ht=Ye=>{if(!Ee&&hh.includes(Ye.key)&&X){const{unselectNodesAndEdges:Ht,addSelectedEdges:an,edges:un}=He.getState();Ye.key==="Escape"?(ge.current?.blur(),Ht({edges:[un.find(Ct=>Ct.id===i)]})):an([i])}};return oe.createElement("g",{className:kt(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:h,animated:y,inactive:Ke,updating:Le}]),onClick:Q,onDoubleClick:le,onContextMenu:ve,onMouseEnter:_e,onMouseMove:$e,onMouseLeave:Te,onKeyDown:pe?ht:void 0,tabIndex:pe?0:void 0,role:pe?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":se===null?void 0:se||`Edge from ${C} to ${j}`,"aria-describedby":pe?`${$h}-${ie}`:void 0,ref:ge},!Ie&&oe.createElement(n,{id:i,source:C,target:j,selected:h,animated:y,label:m,labelStyle:v,labelShowBg:x,labelBgStyle:E,labelBgPadding:_,labelBgBorderRadius:N,data:c,style:T,sourceX:z,sourceY:I,targetX:P,targetY:Y,sourcePosition:U,targetPosition:q,sourceHandleId:B,targetHandleId:Z,markerStart:re,markerEnd:te,pathOptions:ue,interactionWidth:he}),J&&oe.createElement(oe.Fragment,null,(J==="source"||J===!0)&&oe.createElement(Cp,{position:U,centerX:z,centerY:I,radius:O,onMouseDown:Re,onMouseEnter:et,onMouseOut:yt,type:"source"}),(J==="target"||J===!0)&&oe.createElement(Cp,{position:q,centerX:P,centerY:Y,radius:O,onMouseDown:rt,onMouseEnter:et,onMouseOut:yt,type:"target"})))};return o.displayName="EdgeWrapper",b.memo(o)};function cw(n){const o={default:io(n.default||ul),straight:io(n.bezier||Zu),step:io(n.step||Ku),smoothstep:io(n.step||ml),simplebezier:io(n.simplebezier||Qu)},i={},l=Object.keys(n).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=io(n[c]||ul),a),i);return{...o,...l}}function bp(n,o,i=null){const l=(i?.x||0)+o.x,a=(i?.y||0)+o.y,c=i?.width||o.width,d=i?.height||o.height;switch(n){case ye.Top:return{x:l+c/2,y:a};case ye.Right:return{x:l+c,y:a+d/2};case ye.Bottom:return{x:l+c/2,y:a+d};case ye.Left:return{x:l,y:a+d/2}}}function Tp(n,o){return n?n.length===1||!o?n[0]:o&&n.find(i=>i.id===o)||null:null}const dw=(n,o,i,l,a,c)=>{const d=bp(i,n,o),p=bp(c,l,a);return{sourceX:d.x,sourceY:d.y,targetX:p.x,targetY:p.y}};function fw({sourcePos:n,targetPos:o,sourceWidth:i,sourceHeight:l,targetWidth:a,targetHeight:c,width:d,height:p,transform:h}){const y={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x+i,o.x+a),y2:Math.max(n.y+l,o.y+c)};y.x===y.x2&&(y.x2+=1),y.y===y.y2&&(y.y2+=1);const m=Yu({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:d/h[2],height:p/h[2]}),v=Math.max(0,Math.min(m.x2,y.x2)-Math.max(m.x,y.x)),x=Math.max(0,Math.min(m.y2,y.y2)-Math.max(m.y,y.y));return Math.ceil(v*x)>0}function Rp(n){const o=n?.[nt]?.handleBounds||null,i=o&&n?.width&&n?.height&&typeof n?.positionAbsolute?.x<"u"&&typeof n?.positionAbsolute?.y<"u";return[{x:n?.positionAbsolute?.x||0,y:n?.positionAbsolute?.y||0,width:n?.width||0,height:n?.height||0},o,!!i]}const pw=[{level:0,isMaxLevel:!0,edges:[]}];function hw(n,o,i=!1){let l=-1;const a=n.reduce((d,p)=>{const h=Qt(p.zIndex);let y=h?p.zIndex:0;if(i){const m=o.get(p.target),v=o.get(p.source),x=p.selected||m?.selected||v?.selected,E=Math.max(v?.[nt]?.z||0,m?.[nt]?.z||0,1e3);y=(h?p.zIndex:0)+(x?E:0)}return d[y]?d[y].push(p):d[y]=[p],l=y>l?y:l,d},{}),c=Object.entries(a).map(([d,p])=>{const h=+d;return{edges:p,level:h,isMaxLevel:h===l}});return c.length===0?pw:c}function gw(n,o,i){const l=Je(b.useCallback(a=>n?a.edges.filter(c=>{const d=o.get(c.source),p=o.get(c.target);return d?.width&&d?.height&&p?.width&&p?.height&&fw({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:p.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:p.width,targetHeight:p.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[n,o]));return hw(l,o,i)}const mw=({color:n="none",strokeWidth:o=1})=>oe.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),yw=({color:n="none",strokeWidth:o=1})=>oe.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),jp={[mi.Arrow]:mw,[mi.ArrowClosed]:yw};function vw(n){const o=pt();return b.useMemo(()=>Object.prototype.hasOwnProperty.call(jp,n)?jp[n]:(o.getState().onError?.("009",In.error009(n)),null),[n])}const xw=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:p="auto-start-reverse"})=>{const h=vw(o);return h?oe.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:p,refX:"0",refY:"0"},oe.createElement(h,{color:i,strokeWidth:d})):null},ww=({defaultColor:n,rfId:o})=>i=>{const l=[];return i.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const p=Iu(d,o);l.includes(p)||(a.push({id:p,color:d.color||n,...d}),l.push(p))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},Qh=({defaultColor:n,rfId:o})=>{const i=Je(b.useCallback(ww({defaultColor:n,rfId:o}),[n,o]),(l,a)=>!(l.length!==a.length||l.some((c,d)=>c.id!==a[d].id)));return oe.createElement("defs",null,i.map(l=>oe.createElement(xw,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};Qh.displayName="MarkerDefinitions";var Sw=b.memo(Qh);const Ew=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),Kh=({defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:i,rfId:l,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:p,onEdgeMouseMove:h,onEdgeMouseLeave:y,onEdgeClick:m,onEdgeDoubleClick:v,onReconnect:x,onReconnectStart:E,onReconnectEnd:_,reconnectRadius:N,children:T,disableKeyboardA11y:C})=>{const{edgesFocusable:j,edgesUpdatable:z,elementsSelectable:I,width:P,height:Y,connectionMode:U,nodeInternals:q,onError:X}=Je(Ew,Et),W=gw(o,q,i);return P?oe.createElement(oe.Fragment,null,W.map(({level:B,edges:Z,isMaxLevel:G})=>oe.createElement("svg",{key:B,style:{zIndex:B},width:P,height:Y,className:"react-flow__edges react-flow__container"},G&&oe.createElement(Sw,{defaultColor:n,rfId:l}),oe.createElement("g",null,Z.map(S=>{const[A,L,O]=Rp(q.get(S.source)),[$,M,V]=Rp(q.get(S.target));if(!O||!V)return null;let k=S.type||"default";a[k]||(X?.("011",In.error011(k)),k="default");const H=a[k]||a.default,ie=U===Rr.Strict?M.target:(M.target??[]).concat(M.source??[]),se=Tp(L.source,S.sourceHandle),pe=Tp(ie,S.targetHandle),J=se?.position||ye.Bottom,ue=pe?.position||ye.Top,he=!!(S.focusable||j&&typeof S.focusable>"u"),Ee=S.reconnectable||S.updatable,ge=typeof x<"u"&&(Ee||z&&typeof Ee>"u");if(!se||!pe)return X?.("008",In.error008(se,S)),null;const{sourceX:Le,sourceY:Ve,targetX:Ie,targetY:Fe}=dw(A,se,J,$,pe,ue);return oe.createElement(H,{key:S.id,id:S.id,className:kt([S.className,c]),type:k,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Le,sourceY:Ve,targetX:Ie,targetY:Fe,sourcePosition:J,targetPosition:ue,elementsSelectable:I,onContextMenu:d,onMouseEnter:p,onMouseMove:h,onMouseLeave:y,onClick:m,onEdgeDoubleClick:v,onReconnect:x,onReconnectStart:E,onReconnectEnd:_,reconnectRadius:N,rfId:l,ariaLabel:S.ariaLabel,isFocusable:he,isReconnectable:ge,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:C})})))),T):null};Kh.displayName="EdgeRenderer";var Nw=b.memo(Kh);const _w=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function kw({children:n}){const o=Je(_w);return oe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}function Cw(n){const o=go(),i=b.useRef(!1);b.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const bw={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top},Zh=({nodeId:n,handleType:o,style:i,type:l=or.Bezier,CustomComponent:a,connectionStatus:c})=>{const{fromNode:d,handleId:p,toX:h,toY:y,connectionMode:m}=Je(b.useCallback(Y=>({fromNode:Y.nodeInternals.get(n),handleId:Y.connectionHandleId,toX:(Y.connectionPosition.x-Y.transform[0])/Y.transform[2],toY:(Y.connectionPosition.y-Y.transform[1])/Y.transform[2],connectionMode:Y.connectionMode}),[n]),Et),v=d?.[nt]?.handleBounds;let x=v?.[o];if(m===Rr.Loose&&(x=x||v?.[o==="source"?"target":"source"]),!d||!x)return null;const E=p?x.find(Y=>Y.id===p):x[0],_=E?E.x+E.width/2:(d.width??0)/2,N=E?E.y+E.height/2:d.height??0,T=(d.positionAbsolute?.x??0)+_,C=(d.positionAbsolute?.y??0)+N,j=E?.position,z=j?bw[j]:null;if(!j||!z)return null;if(a)return oe.createElement(a,{connectionLineType:l,connectionLineStyle:i,fromNode:d,fromHandle:E,fromX:T,fromY:C,toX:h,toY:y,fromPosition:j,toPosition:z,connectionStatus:c});let I="";const P={sourceX:T,sourceY:C,sourcePosition:j,targetX:h,targetY:y,targetPosition:z};return l===or.Bezier?[I]=xh(P):l===or.Step?[I]=Mu({...P,borderRadius:0}):l===or.SmoothStep?[I]=Mu(P):l===or.SimpleBezier?[I]=vh(P):I=`M${T},${C} ${h},${y}`,oe.createElement("path",{d:I,fill:"none",className:"react-flow__connection-path",style:i})};Zh.displayName="ConnectionLine";const Tw=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function Rw({containerStyle:n,style:o,type:i,component:l}){const{nodeId:a,handleType:c,nodesConnectable:d,width:p,height:h,connectionStatus:y}=Je(Tw,Et);return!(a&&c&&p&&d)?null:oe.createElement("svg",{style:n,width:p,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},oe.createElement("g",{className:kt(["react-flow__connection",y])},oe.createElement(Zh,{nodeId:a,handleType:c,style:o,type:i,CustomComponent:l,connectionStatus:y})))}function Ap(n,o){return b.useRef(null),pt(),b.useMemo(()=>o(n),[n])}const Gh=({nodeTypes:n,edgeTypes:o,onMove:i,onMoveStart:l,onMoveEnd:a,onInit:c,onNodeClick:d,onEdgeClick:p,onNodeDoubleClick:h,onEdgeDoubleClick:y,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:E,onSelectionContextMenu:_,onSelectionStart:N,onSelectionEnd:T,connectionLineType:C,connectionLineStyle:j,connectionLineComponent:z,connectionLineContainerStyle:I,selectionKeyCode:P,selectionOnDrag:Y,selectionMode:U,multiSelectionKeyCode:q,panActivationKeyCode:X,zoomActivationKeyCode:W,deleteKeyCode:B,onlyRenderVisibleElements:Z,elementsSelectable:G,selectNodesOnDrag:S,defaultViewport:A,translateExtent:L,minZoom:O,maxZoom:$,preventScrolling:M,defaultMarkerColor:V,zoomOnScroll:k,zoomOnPinch:H,panOnScroll:ie,panOnScrollSpeed:se,panOnScrollMode:pe,zoomOnDoubleClick:J,panOnDrag:ue,onPaneClick:he,onPaneMouseEnter:Ee,onPaneMouseMove:ge,onPaneMouseLeave:Le,onPaneScroll:Ve,onPaneContextMenu:Ie,onEdgeContextMenu:Fe,onEdgeMouseEnter:He,onEdgeMouseMove:re,onEdgeMouseLeave:te,onReconnect:Q,onReconnectStart:le,onReconnectEnd:ve,reconnectRadius:_e,noDragClassName:$e,noWheelClassName:Te,noPanClassName:Be,elevateEdgesOnSelect:Re,disableKeyboardA11y:rt,nodeOrigin:et,nodeExtent:yt,rfId:Ke})=>{const ht=Ap(n,rw),Ye=Ap(o,cw);return Cw(c),oe.createElement(tw,{onPaneClick:he,onPaneMouseEnter:Ee,onPaneMouseMove:ge,onPaneMouseLeave:Le,onPaneContextMenu:Ie,onPaneScroll:Ve,deleteKeyCode:B,selectionKeyCode:P,selectionOnDrag:Y,selectionMode:U,onSelectionStart:N,onSelectionEnd:T,multiSelectionKeyCode:q,panActivationKeyCode:X,zoomActivationKeyCode:W,elementsSelectable:G,onMove:i,onMoveStart:l,onMoveEnd:a,zoomOnScroll:k,zoomOnPinch:H,zoomOnDoubleClick:J,panOnScroll:ie,panOnScrollSpeed:se,panOnScrollMode:pe,panOnDrag:ue,defaultViewport:A,translateExtent:L,minZoom:O,maxZoom:$,onSelectionContextMenu:_,preventScrolling:M,noDragClassName:$e,noWheelClassName:Te,noPanClassName:Be,disableKeyboardA11y:rt},oe.createElement(kw,null,oe.createElement(Nw,{edgeTypes:Ye,onEdgeClick:p,onEdgeDoubleClick:y,onlyRenderVisibleElements:Z,onEdgeContextMenu:Fe,onEdgeMouseEnter:He,onEdgeMouseMove:re,onEdgeMouseLeave:te,onReconnect:Q,onReconnectStart:le,onReconnectEnd:ve,reconnectRadius:_e,defaultMarkerColor:V,noPanClassName:Be,elevateEdgesOnSelect:!!Re,disableKeyboardA11y:rt,rfId:Ke},oe.createElement(Rw,{style:j,type:C,component:z,containerStyle:I})),oe.createElement("div",{className:"react-flow__edgelabel-renderer"}),oe.createElement(sw,{nodeTypes:ht,onNodeClick:d,onNodeDoubleClick:h,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:E,selectNodesOnDrag:S,onlyRenderVisibleElements:Z,noPanClassName:Be,noDragClassName:$e,disableKeyboardA11y:rt,nodeOrigin:et,nodeExtent:yt,rfId:Ke})))};Gh.displayName="GraphView";var jw=b.memo(Gh);const zu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],er={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:zu,nodeExtent:zu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Rr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ox,isValidConnection:void 0},Aw=()=>ym((n,o)=>({...er,setNodes:i=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:c}=o();n({nodeInternals:yu(i,l,a,c)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:l={}}=o();n({edges:i.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(i,l)=>{const a=typeof i<"u",c=typeof l<"u",d=a?yu(i,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;n({nodeInternals:d,edges:c?l:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:i=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:p,domNode:h,nodeOrigin:y}=o(),m=h?.querySelector(".react-flow__viewport");if(!m)return;const v=window.getComputedStyle(m),{m22:x}=new window.DOMMatrixReadOnly(v.transform),E=i.reduce((N,T)=>{const C=a.get(T.id);if(C?.hidden)a.set(C.id,{...C,[nt]:{...C[nt],handleBounds:void 0}});else if(C){const j=Wu(T.nodeElement);!!(j.width&&j.height&&(C.width!==j.width||C.height!==j.height||T.forceUpdate))&&(a.set(C.id,{...C,[nt]:{...C[nt],handleBounds:{source:_p(".source",T.nodeElement,x,y),target:_p(".target",T.nodeElement,x,y)}},...j}),N.push({id:C.id,type:"dimensions",dimensions:j}))}return N},[]);zh(a,y);const _=d||c&&!d&&Ph(o,{initial:!0,...p});n({nodeInternals:new Map(a),fitViewOnInitDone:_}),E?.length>0&&l?.(E)},updateNodePositions:(i,l=!0,a=!1)=>{const{triggerNodeChanges:c}=o(),d=i.map(p=>{const h={id:p.id,type:"position",dragging:a};return l&&(h.positionAbsolute=p.positionAbsolute,h.position=p.position),h});c(d)},triggerNodeChanges:i=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:d,getNodes:p,elevateNodesOnSelect:h}=o();if(i?.length){if(c){const y=Oh(i,p()),m=yu(y,a,d,h);n({nodeInternals:m})}l?.(i)}},addSelectedNodes:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,p=null;l?d=i.map(h=>rr(h,!0)):(d=so(c(),i),p=so(a,[])),Ks({changedNodes:d,changedEdges:p,get:o,set:n})},addSelectedEdges:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,p=null;l?d=i.map(h=>rr(h,!0)):(d=so(a,i),p=so(c(),[])),Ks({changedNodes:p,changedEdges:d,get:o,set:n})},unselectNodesAndEdges:({nodes:i,edges:l}={})=>{const{edges:a,getNodes:c}=o(),d=i||c(),p=l||a,h=d.map(m=>(m.selected=!1,rr(m.id,!1))),y=p.map(m=>rr(m.id,!1));Ks({changedNodes:h,changedEdges:y,get:o,set:n})},setMinZoom:i=>{const{d3Zoom:l,maxZoom:a}=o();l?.scaleExtent([i,a]),n({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:l,minZoom:a}=o();l?.scaleExtent([a,i]),n({maxZoom:i})},setTranslateExtent:i=>{o().d3Zoom?.translateExtent(i),n({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:l}=o(),c=l().filter(p=>p.selected).map(p=>rr(p.id,!1)),d=i.filter(p=>p.selected).map(p=>rr(p.id,!1));Ks({changedNodes:c,changedEdges:d,get:o,set:n})},setNodeExtent:i=>{const{nodeInternals:l}=o();l.forEach(a=>{a.positionAbsolute=Xu(a.position,i)}),n({nodeExtent:i,nodeInternals:new Map(l)})},panBy:i=>{const{transform:l,width:a,height:c,d3Zoom:d,d3Selection:p,translateExtent:h}=o();if(!d||!p||!i.x&&!i.y)return!1;const y=ir.translate(l[0]+i.x,l[1]+i.y).scale(l[2]),m=[[0,0],[a,c]],v=d?.constrain()(y,m,h);return d.transform(p,v),l[0]!==v.x||l[1]!==v.y||l[2]!==v.k},cancelConnection:()=>n({connectionNodeId:er.connectionNodeId,connectionHandleId:er.connectionHandleId,connectionHandleType:er.connectionHandleType,connectionStatus:er.connectionStatus,connectionStartHandle:er.connectionStartHandle,connectionEndHandle:er.connectionEndHandle}),reset:()=>n({...er})}),Object.is),yl=({children:n})=>{const o=b.useRef(null);return o.current||(o.current=Aw()),oe.createElement(Zv,{value:o.current},n)};yl.displayName="ReactFlowProvider";const qh=({children:n})=>b.useContext(gl)?oe.createElement(oe.Fragment,null,n):oe.createElement(yl,null,n);qh.displayName="ReactFlowWrapper";const Mw={input:jh,default:$u,output:Mh,group:ec},Iw={default:ul,straight:Zu,step:Ku,smoothstep:ml,simplebezier:Qu},Lw=[0,0],$w=[15,15],Dw={x:0,y:0,zoom:1},zw={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},nc=b.forwardRef(({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c=Mw,edgeTypes:d=Iw,onNodeClick:p,onEdgeClick:h,onInit:y,onMove:m,onMoveStart:v,onMoveEnd:x,onConnect:E,onConnectStart:_,onConnectEnd:N,onClickConnectStart:T,onClickConnectEnd:C,onNodeMouseEnter:j,onNodeMouseMove:z,onNodeMouseLeave:I,onNodeContextMenu:P,onNodeDoubleClick:Y,onNodeDragStart:U,onNodeDrag:q,onNodeDragStop:X,onNodesDelete:W,onEdgesDelete:B,onSelectionChange:Z,onSelectionDragStart:G,onSelectionDrag:S,onSelectionDragStop:A,onSelectionContextMenu:L,onSelectionStart:O,onSelectionEnd:$,connectionMode:M=Rr.Strict,connectionLineType:V=or.Bezier,connectionLineStyle:k,connectionLineComponent:H,connectionLineContainerStyle:ie,deleteKeyCode:se="Backspace",selectionKeyCode:pe="Shift",selectionOnDrag:J=!1,selectionMode:ue=gi.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:Ee=al()?"Meta":"Control",zoomActivationKeyCode:ge=al()?"Meta":"Control",snapToGrid:Le=!1,snapGrid:Ve=$w,onlyRenderVisibleElements:Ie=!1,selectNodesOnDrag:Fe=!0,nodesDraggable:He,nodesConnectable:re,nodesFocusable:te,nodeOrigin:Q=Lw,edgesFocusable:le,edgesUpdatable:ve,elementsSelectable:_e,defaultViewport:$e=Dw,minZoom:Te=.5,maxZoom:Be=2,translateExtent:Re=zu,preventScrolling:rt=!0,nodeExtent:et,defaultMarkerColor:yt="#b1b1b7",zoomOnScroll:Ke=!0,zoomOnPinch:ht=!0,panOnScroll:Ye=!1,panOnScrollSpeed:Ht=.5,panOnScrollMode:an=Cr.Free,zoomOnDoubleClick:un=!0,panOnDrag:Ln=!0,onPaneClick:Ct,onPaneMouseEnter:Kt,onPaneMouseMove:lr,onPaneMouseLeave:ar,onPaneScroll:xn,onPaneContextMenu:cn,children:wn,onEdgeContextMenu:dn,onEdgeDoubleClick:Ei,onEdgeMouseEnter:Ni,onEdgeMouseMove:_i,onEdgeMouseLeave:ki,onEdgeUpdate:mo,onEdgeUpdateStart:Ci,onEdgeUpdateEnd:ur,onReconnect:yo,onReconnectStart:cr,onReconnectEnd:vl,reconnectRadius:dr=10,edgeUpdaterRadius:jr=10,onNodesChange:Ar,onEdgesChange:vo,noDragClassName:xl="nodrag",noWheelClassName:wl="nowheel",noPanClassName:bi="nopan",fitView:Sn=!1,fitViewOptions:Ti,connectOnClick:Ri=!0,attributionPosition:Sl,proOptions:ji,defaultEdgeOptions:Ai,elevateNodesOnSelect:Mi=!0,elevateEdgesOnSelect:Ii=!1,disableKeyboardA11y:Li=!1,autoPanOnConnect:El=!0,autoPanOnNodeDrag:Ze=!0,connectionRadius:Nl=20,isValidConnection:xo,onError:$i,style:Mr,id:Di,nodeDragThreshold:zi,...Ir},Ot)=>{const wo=Di||"1";return oe.createElement("div",{...Ir,style:{...Mr,...zw},ref:Ot,className:kt(["react-flow",a]),"data-testid":"rf__wrapper",id:Di},oe.createElement(qh,null,oe.createElement(jw,{onInit:y,onMove:m,onMoveStart:v,onMoveEnd:x,onNodeClick:p,onEdgeClick:h,onNodeMouseEnter:j,onNodeMouseMove:z,onNodeMouseLeave:I,onNodeContextMenu:P,onNodeDoubleClick:Y,nodeTypes:c,edgeTypes:d,connectionLineType:V,connectionLineStyle:k,connectionLineComponent:H,connectionLineContainerStyle:ie,selectionKeyCode:pe,selectionOnDrag:J,selectionMode:ue,deleteKeyCode:se,multiSelectionKeyCode:Ee,panActivationKeyCode:he,zoomActivationKeyCode:ge,onlyRenderVisibleElements:Ie,selectNodesOnDrag:Fe,defaultViewport:$e,translateExtent:Re,minZoom:Te,maxZoom:Be,preventScrolling:rt,zoomOnScroll:Ke,zoomOnPinch:ht,zoomOnDoubleClick:un,panOnScroll:Ye,panOnScrollSpeed:Ht,panOnScrollMode:an,panOnDrag:Ln,onPaneClick:Ct,onPaneMouseEnter:Kt,onPaneMouseMove:lr,onPaneMouseLeave:ar,onPaneScroll:xn,onPaneContextMenu:cn,onSelectionContextMenu:L,onSelectionStart:O,onSelectionEnd:$,onEdgeContextMenu:dn,onEdgeDoubleClick:Ei,onEdgeMouseEnter:Ni,onEdgeMouseMove:_i,onEdgeMouseLeave:ki,onReconnect:yo??mo,onReconnectStart:cr??Ci,onReconnectEnd:vl??ur,reconnectRadius:dr??jr,defaultMarkerColor:yt,noDragClassName:xl,noWheelClassName:wl,noPanClassName:bi,elevateEdgesOnSelect:Ii,rfId:wo,disableKeyboardA11y:Li,nodeOrigin:Q,nodeExtent:et}),oe.createElement(bx,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:E,onConnectStart:_,onConnectEnd:N,onClickConnectStart:T,onClickConnectEnd:C,nodesDraggable:He,nodesConnectable:re,nodesFocusable:te,edgesFocusable:le,edgesUpdatable:ve,elementsSelectable:_e,elevateNodesOnSelect:Mi,minZoom:Te,maxZoom:Be,nodeExtent:et,onNodesChange:Ar,onEdgesChange:vo,snapToGrid:Le,snapGrid:Ve,connectionMode:M,translateExtent:Re,connectOnClick:Ri,defaultEdgeOptions:Ai,fitView:Sn,fitViewOptions:Ti,onNodesDelete:W,onEdgesDelete:B,onNodeDragStart:U,onNodeDrag:q,onNodeDragStop:X,onSelectionDrag:S,onSelectionDragStart:G,onSelectionDragStop:A,noPanClassName:bi,nodeOrigin:Q,rfId:wo,autoPanOnConnect:El,autoPanOnNodeDrag:Ze,onError:$i,connectionRadius:Nl,isValidConnection:xo,nodeDragThreshold:zi}),oe.createElement(kx,{onSelectionChange:Z}),wn,oe.createElement(qv,{proOptions:ji,position:Sl}),oe.createElement(Mx,{rfId:wo,disableKeyboardA11y:Li})))});nc.displayName="ReactFlow";function Jh(n){return o=>{const[i,l]=b.useState(o),a=b.useCallback(c=>l(d=>n(c,d)),[]);return[i,l,a]}}const e0=Jh(Oh),t0=Jh(Xx);function Pw(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},oe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Hw(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},oe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Ow(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},oe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Fw(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},oe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Bw(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},oe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ui=({children:n,className:o,...i})=>oe.createElement("button",{type:"button",className:kt(["react-flow__controls-button",o]),...i},n);ui.displayName="ControlButton";const Vw=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),n0=({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:p,onInteractiveChange:h,className:y,children:m,position:v="bottom-left"})=>{const x=pt(),[E,_]=b.useState(!1),{isInteractive:N,minZoomReached:T,maxZoomReached:C}=Je(Vw,Et),{zoomIn:j,zoomOut:z,fitView:I}=go();if(b.useEffect(()=>{_(!0)},[]),!E)return null;const P=()=>{j(),c?.()},Y=()=>{z(),d?.()},U=()=>{I(a),p?.()},q=()=>{x.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),h?.(!N)};return oe.createElement(dh,{className:kt(["react-flow__controls",y]),position:v,style:n,"data-testid":"rf__controls"},o&&oe.createElement(oe.Fragment,null,oe.createElement(ui,{onClick:P,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C},oe.createElement(Pw,null)),oe.createElement(ui,{onClick:Y,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:T},oe.createElement(Hw,null))),i&&oe.createElement(ui,{className:"react-flow__controls-fitview",onClick:U,title:"fit view","aria-label":"fit view"},oe.createElement(Ow,null)),l&&oe.createElement(ui,{className:"react-flow__controls-interactive",onClick:q,title:"toggle interactivity","aria-label":"toggle interactivity"},N?oe.createElement(Bw,null):oe.createElement(Fw,null)),m)};n0.displayName="Controls";var r0=b.memo(n0),sn;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(sn||(sn={}));function Uw({color:n,dimensions:o,lineWidth:i}){return oe.createElement("path",{stroke:n,strokeWidth:i,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function Ww({color:n,radius:o}){return oe.createElement("circle",{cx:o,cy:o,r:o,fill:n})}const Xw={[sn.Dots]:"#91919a",[sn.Lines]:"#eee",[sn.Cross]:"#e2e2e2"},Yw={[sn.Dots]:1,[sn.Lines]:1,[sn.Cross]:6},Qw=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function o0({id:n,variant:o=sn.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=2,color:d,style:p,className:h}){const y=b.useRef(null),{transform:m,patternId:v}=Je(Qw,Et),x=d||Xw[o],E=l||Yw[o],_=o===sn.Dots,N=o===sn.Cross,T=Array.isArray(i)?i:[i,i],C=[T[0]*m[2]||1,T[1]*m[2]||1],j=E*m[2],z=N?[j,j]:C,I=_?[j/c,j/c]:[z[0]/c,z[1]/c];return oe.createElement("svg",{className:kt(["react-flow__background",h]),style:{...p,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:y,"data-testid":"rf__background"},oe.createElement("pattern",{id:v+n,x:m[0]%C[0],y:m[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`},_?oe.createElement(Ww,{color:x,radius:j/c}):oe.createElement(Uw,{dimensions:z,color:x,lineWidth:a})),oe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+n})`}))}o0.displayName="Background";var i0=b.memo(o0);function s0({onStepBack:n,onStepForward:o,onStart:i,onStop:l,onReset:a,onClear:c,isRunning:d,isFinished:p,canUndo:h}){return g.jsxs("div",{className:"playback-controls",children:[g.jsx("button",{onClick:n,disabled:d||!h,children:""}),g.jsx("button",{onClick:o,disabled:d||p,children:""}),g.jsx("button",{onClick:i,disabled:d||p,children:"Start"}),g.jsx("button",{onClick:l,disabled:!d,children:"Stop"}),g.jsx("button",{onClick:a,children:"Restart"}),g.jsx("button",{onClick:c,children:"Clear"})]})}function tl({tape:n,head:o,activeLabel:i,cellSize:l=40,width:a="80vw",instantScroll:c=!1}){const d=b.useRef(o),p=b.useRef(null),h=Math.abs(o-d.current)>1;b.useEffect(()=>{d.current=o},[o]);const y=i===""?"":i||"START";return g.jsxs("div",{style:{position:"relative",width:a,display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("div",{className:"tape-header",children:g.jsxs("div",{className:"tape-pointer",children:[y&&g.jsx("div",{className:"tape-start-label",children:y}),g.jsx("div",{className:"tape-arrow",children:""})]})}),g.jsx("div",{ref:p,className:"tape-wrapper",style:{width:"100%"},children:g.jsx("div",{className:"tape",style:{left:`calc(50% - ${l/2}px)`,transform:`translateX(${-o*l}px)`,transition:c||h?"none":"transform 0.3s ease-in-out",height:`${l}px`},children:n.map((m,v)=>{const x=typeof m=="string"&&m.includes("^"),E=x?m.replace("^",""):m,_=E===""?" ":E;return g.jsx("div",{className:`cell ${v===o?"active":""}`,style:{width:`${l}px`,height:`${l}px`,fontSize:`${l*.45}px`},children:g.jsxs("div",{className:"cell-content-wrapper",children:[x&&g.jsx("span",{className:"diacritic-marker",children:"^"}),_||""]})},v)})})})]})}function rc(n){return n.find(o=>o.type==="start")||null}function Kw(n){return n?.type==="accept"}function tr(n){return n?.data?.label||n?.id||""}function Zw(n,o,i){const l=i.filter(a=>a.source===n);for(const a of l){const d=(a.data?.labels||[]).find(p=>p.read===o||p.read===""&&o==="");if(d)return{edgeId:a.id,toNodeId:a.target,rule:d}}return null}function Gw(n){return n===null}function qw({currentNodeId:n,tape:o,head:i,nodes:l,edges:a,stepCount:c=0}){const d=o[i]||"",p=Zw(n,d,a);if(Gw(p))return{halted:!0,reason:"No transition defined",read:d,fromNodeId:n,stepCount:c};const{toNodeId:h,rule:y,edgeId:m}=p,v=l.find(x=>x.id===h);return{halted:!1,read:d,write:y.write,direction:y.direction,fromNodeId:n,toNodeId:h,edgeId:m,isAccept:Kw(v),rule:y,stepCount:c+1}}function Jw(n){return n?.type==="accept"}function e3(n,o,i){const l=i.filter(c=>c.source===n),a=o.length;for(const c of l){const p=(c.data?.labels||[]).find(h=>{for(let y=0;y<a;y++){const m=`tape${y+1}`,v=h[m],x=o[y];if(v&&v.read!==x&&!(v.read===""&&x===""))return!1}return!0});if(p)return{edgeId:c.id,toNodeId:c.target,rule:p}}return null}function t3({currentNodeId:n,tapes:o,heads:i,nodes:l,edges:a,stepCount:c=0}){const d=i.map((_,N)=>o[N][_]||""),p=e3(n,d,a);if(!p)return{halted:!0,reason:"No transition defined",reads:d,fromNodeId:n,stepCount:c};const{toNodeId:h,rule:y,edgeId:m}=p,v=l.find(_=>_.id===h),x=[],E=[];for(let _=0;_<o.length;_++){const N=`tape${_+1}`,T=y[N];T?(x.push(T.write),E.push(T.direction)):(x.push(d[_]||""),E.push("N"))}return{halted:!1,reads:d,writes:x,directions:E,fromNodeId:n,toNodeId:h,edgeId:m,isAccept:Jw(v),rule:y,stepCount:c+1}}const Su=[[0,100,50],[180,100,40],[280,100,55],[60,100,40],[210,100,50],[120,100,40],[300,100,50],[30,100,50],[240,100,55],[150,100,40],[330,100,55],[190,100,45],[260,100,60],[15,100,50],[90,100,45],[200,100,50],[45,100,45],[315,100,55],[255,100,55],[345,100,50]];function n3(n){let o=2166136261;for(let i=0;i<n.length;i++)o^=n.charCodeAt(i),o=Math.imul(o,16777619);return o>>>0}function l0(n){const o=n3(n),l=n.split(".").length*11,a=(o+l)%Su.length;let[c,d,p]=Su[a];const h=Math.floor((o+l)/Su.length);if(h>0){c=(c+h*137.5)%360;const y=h%2===0?15:-10;p=Math.max(35,Math.min(75,p+y))}return`hsl(${c}, ${d}%, ${p}%)`}function Mp(n){return n&&n.type==="accept"}function r3(n,o,i){const l=i.filter(c=>c.source===n),a=[];for(const c of l)(c.data?.labels||[]).forEach(p=>{(p.read===o||p.read===""&&o==="")&&a.push({edgeId:c.id,toNodeId:c.target,rule:p})});return a}function o3({threads:n,nodes:o,edges:i}){const l=[];let a=!1;return n.forEach(c=>{if(c.status!=="active"){l.push(c);return}const d=c.tape[c.head]||"",p=r3(c.currentNodeId,d,i);if(p.length===0)l.push({...c,status:"rejected",lastStepInfo:"No transition"});else if(p.length===1){const h=p[0],y=o.find(T=>T.id===h.toNodeId),m=Mp(y);m&&(a=!0);let v=[...c.tape];const x=h.rule.write;v[c.head]=x;let E=c.head;h.rule.direction==="R"&&E++,h.rule.direction==="L"&&E--;const _=15,N=20;if(E<_)v=[...Array(N).fill(""),...v],E+=N;else if(E>=v.length-_){const T=Array(N).fill("");v=[...v,...T]}l.push({...c,tape:v,head:E,currentNodeId:h.toNodeId,activeEdgeId:h.edgeId,lastRead:d,lastRule:h.rule,status:m?"accepted":"active",stepCount:(c.stepCount||0)+1,history:[...c.history||[],h.toNodeId],color:c.color})}else l.push({...c,status:"frozen"}),p.forEach((h,y)=>{const m=o.find(j=>j.id===h.toNodeId),v=Mp(m);v&&(a=!0);let x=[...c.tape];const E=h.rule.write===""?"":h.rule.write;x[c.head]=E;let _=c.head;h.rule.direction==="R"&&_++,h.rule.direction==="L"&&_--;const N=15,T=25;if(_<N)x=[...Array(T).fill(""),...x],_+=T;else if(_>=x.length-N){const j=Array(T).fill("");x=[...x,...j]}const C=`${c.id}.${y+1}`;l.push({id:C,parentId:c.id,tape:x,head:_,currentNodeId:h.toNodeId,activeEdgeId:h.edgeId,lastRead:d,lastRule:h.rule,status:v?"accepted":"active",stepCount:(c.stepCount||0)+1,history:[...c.history||[],h.toNodeId],color:l0(C)})})}),{threads:l,globalAccept:a}}const i3=(n=13)=>{const o=Math.floor(n/2),[i,l]=b.useState(Array(n).fill("")),[a,c]=b.useState(o),[d,p]=b.useState(null),[h,y]=b.useState(null),[m,v]=b.useState(null),[x,E]=b.useState(0),[_,N]=b.useState(null),[T,C]=b.useState(!1),[j,z]=b.useState([]),I=b.useCallback(()=>{l(Array(n).fill("")),c(o),p(null),y(null),v(null),E(0),N(null),C(!1),z([])},[n,o]),P=b.useCallback(()=>{z(U=>{if(U.length===0)return U;const q=U[U.length-1];return l(q.tape),c(q.head),p(q.activeNodeId),y(q.activeEdgeId),v(q.lastRead),E(q.stepCount),N(null),C(!1),U.slice(0,-1)})},[]),Y=b.useCallback((U,q)=>{if(_||T)return;let X=d;if(!X){const A=rc(U);if(!A){N("No Start Node");return}z(L=>[...L,{tape:[...i],head:a,activeNodeId:null,activeEdgeId:null,lastRead:null,stepCount:x}]),X=A.id,p(X);return}const W=qw({currentNodeId:X,tape:i,head:a,nodes:U,edges:q,stepCount:x});if(W.halted){y(null),N(W.reason),E(W.stepCount||x);return}z(A=>[...A,{tape:[...i],head:a,activeNodeId:X,activeEdgeId:h,lastRead:m,stepCount:x}]);let B=[...i];B[a]=W.write;let Z=a;W.direction==="R"&&Z++,W.direction==="L"&&Z--;const G=15,S=25;if(Z<G)B=[...Array(S).fill(""),...B],Z+=S;else if(Z>=B.length-G){const A=Array(S).fill("");B=[...B,...A]}if(l(B),c(Z),p(W.toNodeId),y(W.edgeId),v(W.read),E(W.stepCount),W.isAccept){C(!0);return}},[d,h,_,T,i,a,m,x]);return{tape:i,head:a,activeNodeId:d,activeEdgeId:h,lastRead:m,stepCount:x,error:_,success:T,setTape:l,setHead:c,stepForward:Y,stepBack:P,reset:I,canUndo:j.length>0}},s3=(n=13,o=2)=>{const i=Math.floor(n/2),[l,a]=b.useState(Array.from({length:o},()=>Array(n).fill(""))),[c,d]=b.useState(Array(o).fill(i)),[p,h]=b.useState(null),[y,m]=b.useState(null),[v,x]=b.useState(Array(o).fill(null)),[E,_]=b.useState(0),[N,T]=b.useState(null),[C,j]=b.useState(!1),[z,I]=b.useState([]),P=b.useCallback(()=>{a(Array.from({length:o},()=>Array(n).fill(""))),d(Array(o).fill(i)),h(null),m(null),x(Array(o).fill(null)),_(0),T(null),j(!1),I([])},[n,i,o]),Y=b.useCallback(()=>{I(q=>{if(q.length===0)return q;const X=q[q.length-1];return a(X.tapes),d(X.heads),h(X.activeNodeId),m(X.activeEdgeId),x(X.lastRead),_(X.stepCount),T(null),j(!1),q.slice(0,-1)})},[]),U=b.useCallback((q,X)=>{if(N||C)return;let W=p;if(!W){const S=rc(q);if(!S){T("No Start Node");return}I(A=>[...A,{tapes:l.map(L=>[...L]),heads:[...c],activeNodeId:null,activeEdgeId:null,lastRead:Array(o).fill(null),stepCount:E}]),W=S.id,h(W);return}const B=t3({currentNodeId:W,tapes:l,heads:c,nodes:q,edges:X,stepCount:E});if(B.halted){m(null),T(B.reason),_(B.stepCount||E);return}I(S=>[...S,{tapes:l.map(A=>[...A]),heads:[...c],activeNodeId:W,activeEdgeId:y,lastRead:v,stepCount:E}]);const Z=l.map(S=>[...S]),G=[...c];for(let S=0;S<o;S++){const A=B.writes[S];Z[S][G[S]]=A;const L=B.directions[S];L==="R"&&G[S]++,L==="L"&&G[S]--;const O=6,$=6;if(G[S]<O){const M=Array($).fill("");Z[S]=[...M,...Z[S]],G[S]+=$}else if(G[S]>=Z[S].length-O){const M=Array($).fill("");Z[S]=[...Z[S],...M]}}if(a(Z),d(G),h(B.toNodeId),m(B.edgeId),x(B.reads),_(B.stepCount),B.isAccept){j(!0);return}},[p,y,N,C,l,c,v,E,o]);return{tapes:l,heads:c,activeNodeId:p,activeEdgeId:y,lastRead:v,stepCount:E,error:N,success:C,setTapes:a,setHeads:d,stepForward:U,stepBack:Y,reset:P,canUndo:z.length>0}},l3=(n=13)=>{const[o,i]=b.useState([]),[l,a]=b.useState(0),[c,d]=b.useState(!1),[p,h]=b.useState([]),y=b.useCallback((E,_)=>{i([{id:"1",tape:[...E],head:_,currentNodeId:null,status:"active",stepCount:0,history:[],color:l0("1")}]),d(!1),a(0),h([])},[]),m=b.useCallback((E,_)=>{if(c)return;h(z=>[...z,{threads:o,stepCount:l,success:c}]);let N=o;const T=E.find(z=>z.type==="start")||null;if(l===0&&o.length>0&&o[0].currentNodeId===null){if(!T){i(z=>z.map(I=>({...I,status:"rejected",reason:"No Start Node"})));return}N=[{...o[0],currentNodeId:T.id}]}const{threads:C,globalAccept:j}=o3({threads:N,nodes:E,edges:_});i(C),a(z=>z+1),j&&d(!0)},[o,l,c]),v=b.useCallback(()=>{h(E=>{if(E.length===0)return E;const _=E[E.length-1];return i(_.threads),a(_.stepCount),d(_.success),E.slice(0,-1)})},[]),x=b.useCallback(()=>{i([]),a(0),d(!1),h([])},[]);return{threads:o,setInitialThread:y,stepForward:m,stepBack:v,reset:x,canUndo:p.length>0,success:c,stepCount:l}},Ip=40;function a3({nodes:n,edges:o,setNodes:i,activeNodeId:l,setActiveNodeId:a,setActiveEdgeId:c,setCurrentSymbol:d,setStepCount:p,loadedInput:h,validAlphabet:y,engine:m,isRunning:v,setIsRunning:x}){const E=m==="MultiTape",_=m==="NonDeterministic",[N,T]=b.useState(!1),[C,j]=b.useState(!1),z=b.useMemo(()=>{if(!E)return 1;let te=2;return o.forEach(Q=>{Q.data?.labels?.forEach(le=>{Object.keys(le).forEach(ve=>{if(ve.startsWith("tape")){const _e=parseInt(ve.replace("tape",""),10);isNaN(_e)||(te=Math.max(_e,te))}})})}),te},[o,E]),I=i3(13),P=s3(13,z),Y=l3(13);let U;_?U=Y:E?U=P:U=I;const{error:q,success:X,stepForward:W,stepBack:B,reset:Z,canUndo:G,stepCount:S}=U,{setTape:A,setHead:L}=I,{setTapes:O,setHeads:$}=P,{setInitialThread:M}=Y,[V,k]=b.useState(h||""),[H,ie]=b.useState(!1),[se,pe]=b.useState(null),[J,ue]=b.useState(1),he=!!(q||X||H);b.useEffect(()=>{h!==void 0&&(k(h),Z())},[h,Z]),b.useEffect(()=>{if(!V){pe(null);return}const Q=V.split("").filter(le=>!y.has(le));Q.length>0?pe(`Invalid: ${[...new Set(Q)].join(", ")}`):pe(null)},[V,y]),b.useEffect(()=>{if(n&&i&&!v){const te=n.find(Q=>Q.type==="start");te&&te.data.input!==V&&i(Q=>Q.map(le=>le.type==="start"?{...le,data:{...le.data,input:V}}:le))}},[V,n,i,v]),b.useEffect(()=>{if(_)a(U.threads),c(null),d(""),p(S);else{a(U.activeNodeId),c(U.activeEdgeId);const te=E&&Array.isArray(U.lastRead)?U.lastRead.join(","):U.lastRead!==null?U.lastRead:"";d(te),p(S)}},[U.activeNodeId,U.threads,U.activeEdgeId,U.lastRead,S,a,c,d,p,E,_]);const Ee=b.useCallback(()=>{if(se)return;const te=50,Q=Math.floor(te/2),le=V.split(""),ve=Math.max(te,Q+le.length),_e=Array(ve).fill("");if(le.forEach(($e,Te)=>{_e[Q+Te]=$e}),_)M(_e,Q);else if(E){const $e=[_e];for(let Te=1;Te<z;Te++)$e.push(Array(ve).fill(""));O($e),$(Array(z).fill(Q))}else A(_e),L(Q)},[V,se,E,_,z,M,O,$,A,L]);b.useEffect(()=>{!G&&S===0&&Ee()},[V,Ee,G,S]),b.useEffect(()=>{if(!v)return;const te=1e3/J,Q=setInterval(()=>{if(S>=200){x(!1),ie(!0);return}_?U.success||!U.threads.some(le=>le.status==="active")&&S>0?x(!1):W(n,o):!q&&!X?W(n,o):x(!1)},te);return()=>clearInterval(Q)},[v,q,X,S,W,n,o,J,_,U.threads,U.success]);const ge=te=>{if(!te)return"START";const Q=n.find(le=>le.id===te);return tr(Q)||"S?"},Le=()=>{x(!1),ie(!1),Z(),setTimeout(Ee,0)},Ve=()=>{x(!1),ie(!1),k(""),Z();const te=Array(50).fill(""),Q=25;_?M(te,Q):E?(O(Array.from({length:z},()=>[...te])),$(Array(z).fill(Q))):(A(te),L(Q))},Ie=()=>{alert(H?"Rejected: Execution timed out (Max steps reached).":q?`Rejected: ${q}`:"Rejected: Machine halted in a non-accepting state.")},Fe=y.size>0?[...y].sort().join(", "):"",He=()=>{let te="active",Q="Ready";return X?(te="accepted",Q=" Accepted"):q||H?(te="rejected",Q=" Rejected"):v&&(te="active",Q=" Running"),g.jsx("div",{className:"thread-list-container",style:{width:"90%",border:"none",gap:"20px"},children:E?U.tapes.map((le,ve)=>g.jsx("div",{className:"thread-tree-row",style:{width:"100%"},children:g.jsxs("div",{className:`thread-card ${te} tree-card`,style:{width:"100%",marginTop:"0px"},children:[g.jsxs("div",{className:"thread-header",children:[g.jsxs("div",{className:"thread-id-info",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:"#e8d71a",border:"1px solid rgba(0,0,0,0.1)"}}),g.jsxs("span",{className:"thread-name",children:["Tape ",ve+1]})]}),g.jsxs("span",{className:"thread-meta",children:["(Step ",S,")"]})]}),g.jsx("span",{className:`thread-status-badge ${te}`,style:{cursor:te==="rejected"?"pointer":"default"},onClick:()=>te==="rejected"&&Ie(),title:te==="rejected"?"Click for reason":"",children:Q})]}),g.jsx(tl,{tape:le,head:U.heads[ve],activeLabel:ge(U.activeNodeId),cellSize:Ip,width:"100%"})]})},ve)):g.jsx("div",{className:"thread-tree-row",style:{width:"100%"},children:g.jsxs("div",{className:`thread-card ${te} tree-card`,style:{width:"100%",marginTop:"0"},children:[g.jsxs("div",{className:"thread-header",children:[g.jsxs("div",{className:"thread-id-info",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:"#e8d71a",border:"1px solid rgba(0,0,0,0.1)"}}),g.jsx("span",{className:"thread-name",children:"Tape"})]}),g.jsxs("span",{className:"thread-meta",children:["(Step ",S,")"]})]}),g.jsx("span",{className:`thread-status-badge ${te}`,style:{cursor:te==="rejected"?"pointer":"default"},onClick:()=>te==="rejected"&&Ie(),title:te==="rejected"?"Click for reason":"",children:Q})]}),g.jsx(tl,{tape:U.tape,head:U.head,activeLabel:ge(U.activeNodeId),cellSize:Ip,width:"100%"})]})})})},re=()=>{const Q=U.threads.filter(le=>!!(le.status==="active"||le.status==="accepted"||le.status==="frozen"&&N||le.status==="rejected"&&C)).sort((le,ve)=>le.id.localeCompare(ve.id,void 0,{numeric:!0}));return g.jsxs("div",{className:"thread-list-wrapper",style:{width:"90%"},children:[g.jsxs("div",{className:"ntm-view-controls",style:{display:"flex",gap:"15px",marginBottom:"10px",fontSize:"0.9rem",color:"#555",width:"90%",maxWidth:"1200px",margin:"0 auto 10px auto"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:N,onChange:le=>T(le.target.checked),style:{marginRight:"6px"}}),"Show History (Frozen)"]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:C,onChange:le=>j(le.target.checked),style:{marginRight:"6px"}}),"Show Rejected"]})]}),g.jsxs("div",{className:"thread-list-container",style:{padding:"15px"},children:[!C&&U.threads.some(le=>le.reason==="No Start Node")?g.jsx("div",{className:"empty-threads",children:"No Start Node found in diagram."}):!C&&Q.length===0&&S>0&&g.jsx("div",{className:"empty-threads",children:"All threads rejected (Hidden)."}),Q.map(le=>{const ve=le.id.split(".").length-1,_e=ve*35,$e=ve>0,Te=le.status==="active"&&H,Be=Te?"rejected":le.status;return g.jsxs("div",{className:"thread-tree-row",style:{marginLeft:`${_e}px`},children:[$e&&g.jsx("div",{className:"tree-connector"}),g.jsxs("div",{className:`thread-card ${Be} tree-card`,children:[g.jsxs("div",{className:"thread-header",children:[g.jsxs("div",{className:"thread-id-info",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"3px",backgroundColor:le.color||"#e6194b",border:"1px solid rgba(0,0,0,0.1)"}}),g.jsxs("span",{className:"thread-name",children:["Thread ",le.id]})]}),g.jsx("span",{className:"thread-meta",children:le.status==="frozen"?` (Split at Step ${le.stepCount})`:` (Step ${le.stepCount})`})]}),g.jsx("span",{className:`thread-status-badge ${Be==="active"?"active":Be}`,style:{cursor:Be==="rejected"?"pointer":"default"},onClick:()=>{Te?alert("Rejected: Execution timed out (Max steps reached)."):le.status==="rejected"&&alert(le.reason||"Thread halted at non-accepting state.")},children:Te?" TIME OUT":le.status==="active"?S===0&&!v?"READY":" RUNNING":le.status==="frozen"?" SPLIT":le.status==="accepted"?" ACCEPTED":" REJECTED"})]}),g.jsx(tl,{tape:le.tape,head:le.head,activeLabel:ge(le.currentNodeId),cellSize:40,width:"100%"})]})]},le.id)})]})]})};return g.jsxs("div",{className:"tape-container",children:[_?re():He(),g.jsxs("div",{className:"controls-row",children:[g.jsxs("div",{className:"input-wrapper",children:[g.jsx("input",{className:`tape-input ${se?"error":""}`,type:"text",value:V,onChange:te=>k(te.target.value),disabled:v||he||G,placeholder:"Input string..."}),g.jsxs("div",{className:"alphabet-label",children:[": ",g.jsx("span",{children:`{ ${Fe} }`})]})]}),g.jsx(s0,{onStepForward:()=>{x(!1),H||W(n,o)},onStepBack:()=>{x(!1),ie(!1),B()},onStart:()=>{!he&&!se&&x(!0)},onStop:()=>x(!1),onReset:Le,onClear:Ve,isRunning:v,isFinished:he||!!se,canUndo:G}),g.jsxs("div",{className:"speed-control",children:[g.jsxs("label",{children:["Speed: ",J,"x"]}),g.jsx("input",{type:"range",min:"0.25",max:"2",step:"0.25",value:J,onChange:te=>ue(Number(te.target.value))})]})]})]})}function u3(){return g.jsxs("div",{className:"node-menu",children:[g.jsxs("div",{className:"node-container",draggable:!0,onDragStart:n=>n.dataTransfer.setData("node-type","start"),children:[g.jsx("span",{className:"arrow",children:""}),g.jsx("div",{className:"node start"})]}),g.jsx("div",{className:"node-container",draggable:!0,onDragStart:n=>n.dataTransfer.setData("node-type","normal"),children:g.jsx("div",{className:"node normal"})}),g.jsx("div",{className:"node-container",draggable:!0,onDragStart:n=>n.dataTransfer.setData("node-type","accept"),children:g.jsx("div",{className:"node accept",children:g.jsx("div",{className:"inner-circle"})})})]})}function c3({handleClearAll:n,Undo:o,Redo:i,handleExport:l,handleImport:a,canUndo:c,canRedo:d,isLocked:p,engine:h,onConvert:y}){const m=b.useRef(null),v=()=>{p||m.current?.click()},x=E=>{const _=E.target.files?.[0];if(!_)return;const N=new FileReader;N.onload=T=>{try{const C=JSON.parse(T.target.result);a(C)}catch(C){console.error("Error parsing JSON:",C),alert("Failed to load file. Please ensure it is a valid JSON file.")}},N.readAsText(_),E.target.value=""};return g.jsxs("div",{className:"diagram-controls",children:[g.jsxs("div",{className:"history-controls",children:[g.jsx("button",{onClick:o,disabled:!c||p,children:""}),g.jsx("button",{onClick:i,disabled:!d||p,children:""})]}),g.jsx("button",{onClick:n,disabled:p,style:p?{opacity:.5,cursor:"not-allowed"}:{},children:"Clear All"}),g.jsx("button",{onClick:l,disabled:p,children:"Export JSON"}),g.jsx("button",{onClick:v,disabled:p,children:"Import JSON"}),g.jsx("input",{type:"file",accept:".json",ref:m,style:{display:"none"},onChange:x}),h==="MultiTape"&&g.jsx("button",{onClick:()=>y("combined"),className:"Convert-btn",children:"Single-Tape View"})]})}function oc(n,o){b.useEffect(()=>{const i=requestAnimationFrame(()=>{const l=n.current,a=l?.parentElement;if(!l||!a||a.clientWidth===0||a.clientHeight===0)return;const c=8,d=16;let p=c,h=d,y=c;for(;p<=h;){const m=(p+h)/2;l.style.fontSize=`${m}px`,l.scrollWidth<=a.clientWidth&&l.scrollHeight<=a.clientHeight?(y=m,p=m+.5):h=m-.5}l.style.fontSize=`${y}px`});return()=>cancelAnimationFrame(i)},[o])}function ic({showLeft:n}){return g.jsxs(g.Fragment,{children:[n&&g.jsx(st,{type:"target",position:ye.Left,id:"L",style:{left:"4%",top:"50%",transform:"translate(-50%, -50%)"}}),n&&g.jsx(st,{type:"source",position:ye.Left,id:"L",style:{left:"4%",top:"50%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Right,id:"R",style:{left:"96%",top:"50%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Right,id:"R",style:{left:"96%",top:"50%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Top,id:"T",style:{left:"50%",top:"4%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Top,id:"T",style:{left:"50%",top:"4%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Bottom,id:"B",style:{left:"50%",top:"96%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Bottom,id:"B",style:{left:"50%",top:"96%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Top,id:"TL",style:{left:"18%",top:"18%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Top,id:"TL",style:{left:"18%",top:"18%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Top,id:"TR",style:{left:"82%",top:"18%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Top,id:"TR",style:{left:"82%",top:"18%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Bottom,id:"BL",style:{left:"18%",top:"82%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Bottom,id:"BL",style:{left:"18%",top:"82%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"target",position:ye.Bottom,id:"BR",style:{left:"82%",top:"82%",transform:"translate(-50%, -50%)"}}),g.jsx(st,{type:"source",position:ye.Bottom,id:"BR",style:{left:"82%",top:"82%",transform:"translate(-50%, -50%)"}})]})}function a0({data:n={}}){const o=b.useRef(null);oc(o,n.label);const i=n.threadColors||[];let l={};return n.isActive&&(i.length===0?l={borderColor:"#e8d71a",borderWidth:"3px"}:i.length===1?l={borderColor:i[0],borderWidth:"3px"}:l={borderColor:"black",borderWidth:"2px"}),g.jsxs("div",{className:`node start ${n.isActive?"active":""}`,style:l,children:[g.jsx("span",{className:"arrow",children:""}),i.length>1&&i.map((a,c)=>g.jsx("div",{className:"node-ring",style:{borderColor:a,width:`${50+c*8}px`,height:`${50+c*8}px`,zIndex:-c}},c)),g.jsx("div",{className:"node-body",children:n?.label&&g.jsx("div",{ref:o,className:"node-label",children:n.label})}),g.jsx(ic,{showLeft:!1})]})}function u0({data:n={}}){const o=b.useRef(null);oc(o,n.label);const i=n.threadColors||[];let l={};return n.isActive&&(i.length===0?l={borderColor:"#e8d71a",borderWidth:"3px"}:i.length===1?l={borderColor:i[0],borderWidth:"3px"}:l={borderColor:"black",borderWidth:"2px"}),g.jsxs("div",{className:`node normal ${n.isActive?"active":""}`,style:l,children:[i.length>1&&i.map((a,c)=>g.jsx("div",{className:"node-ring",style:{borderColor:a,width:`${50+c*8}px`,height:`${50+c*8}px`,zIndex:-c}},c)),g.jsx("div",{className:"node-body",children:n?.label&&g.jsx("div",{ref:o,className:"node-label",children:n.label})}),g.jsx(ic,{showLeft:!0})]})}function c0({data:n={}}){const o=b.useRef(null);oc(o,n.label);const i=n.threadColors||[];let l={};return n.isActive&&(i.length===0?l={borderColor:"#e8d71a",borderWidth:"3px"}:i.length===1?l={borderColor:i[0],borderWidth:"3px"}:l={borderColor:"black",borderWidth:"2px"}),g.jsxs("div",{className:`node accept ${n.isActive?"active":""}`,style:l,children:[i.length>1&&i.map((a,c)=>g.jsx("div",{className:"node-ring",style:{borderColor:a,width:`${50+c*8}px`,height:`${50+c*8}px`,zIndex:-c}},c)),g.jsx("div",{className:"node-body",children:g.jsx("div",{className:"inner-circle",children:n?.label&&g.jsx("div",{ref:o,className:"node-label",children:n.label})})}),g.jsx(ic,{showLeft:!0})]})}const d0=b.createContext(null);function d3(n){return n?n.includes("B")?"bottom":n.includes("T")?"top":n.includes("L")?"left":n.includes("R")?"right":"top":"top"}function f3(n,o,i,l,a,c,d){if(n===i&&o===l)return{cx:a,cy:c};const p=(a-(1-d)**2*n-d**2*i)/(2*d*(1-d)),h=(c-(1-d)**2*o-d**2*l)/(2*d*(1-d));return{cx:p,cy:h}}function f0({id:n,source:o,target:i,sourceX:l,sourceY:a,targetX:c,targetY:d,sourceHandleId:p,markerEnd:h,data:y,selected:m}){const{setEdges:v,getZoom:x,getEdge:E}=go(),_=b.useContext(d0),N=E(n),T=o===i,C=T?d3(p):"top",j=N?.data?.t??.5,z=N?.data?.dxOffset??0,I=N?.data?.dyOffset??0,P=y?.stepCount,Y=y?.threadColors||[],U=y?.activeThreads||[];let q,X,W;if(T){let A=l,L=a;C==="top"&&(L-=60),C==="bottom"&&(L+=60),C==="left"&&(A-=60),C==="right"&&(A+=60),q=A+z,X=L+I;const O={x:l,y:a},$={x:c,y:d},M={x:q,y:X},V=45;let k={x:M.x,y:M.y};const H=O.x>$.x,ie=O.y>$.y;C==="top"||C==="bottom"?H?k.x+=V:k.x-=V:ie?k.y+=V:k.y-=V;const se={x:(M.x-.125*O.x-.375*k.x-.125*$.x)/.375,y:(M.y-.125*O.y-.375*k.y-.125*$.y)/.375};W=`M${O.x},${O.y} C${k.x},${k.y} ${se.x},${se.y} ${$.x},${$.y}`}else{q=N?.data?.px!==void 0?N.data.px+z:l*(1-j)+c*j+z,X=N?.data?.py!==void 0?N.data.py+I:a*(1-j)+d*j+I;const{cx:S,cy:A}=f3(l,a,c,d,q,X,j);W=`M${l},${a} Q${S},${A} ${c},${d}`}const B=b.useCallback(S=>{S.stopPropagation();const A=S.target;A.setPointerCapture(S.pointerId);const L=x(),O=S.clientX,$=S.clientY,M=z,V=I;_&&_();const k=ie=>{const se=(ie.clientX-O)/L,pe=(ie.clientY-$)/L;v(J=>J.map(ue=>ue.id!==n?ue:{...ue,data:{...ue.data,dxOffset:M+se,dyOffset:V+pe}}))},H=ie=>{A.releasePointerCapture(ie.pointerId),A.removeEventListener("pointermove",k),A.removeEventListener("pointerup",H)};A.addEventListener("pointermove",k),A.addEventListener("pointerup",H)},[n,z,I,v,x,_]),Z=N?.data?.labels??[],G=16;return g.jsxs(g.Fragment,{children:[Y.length>0?Y.map((S,A)=>{const L=3+(Y.length-1-A)*3,O=A===Y.length-1;return g.jsx("path",{d:W,className:"edge-path active-thread",style:{stroke:S,strokeWidth:L,transition:"stroke-width 0.2s, stroke 0.2s",fill:"none"},markerEnd:O?h:void 0},`edge-${A}`)}):g.jsx("path",{d:W,className:`edge-path ${m?"selected":""} ${y?.isActive?"active":""}`,markerEnd:h},`path-${n}-${P}`),g.jsx("path",{d:W,className:"edge-hitbox"}),Z.map((S,A)=>{let L="",O=!1,$=[];const M=Object.keys(S).filter(J=>J.startsWith("tape")).sort();if(M.length>0?L=`(${M.map(ue=>{const he=S[ue];return`${he.read},${he.write},${he.direction}`}).join(" : ")})`:L=`${S.read}, ${S.write}, ${S.direction}`,U.length>0){const J=U.filter(ue=>ue.lastRule?JSON.stringify(ue.lastRule)===JSON.stringify(S):!1);J.length>0&&(O=!0,$=J.map(ue=>ue.color))}else if(y?.isActive)if(M.length>0){if(y.activeSymbol){const J=y.activeSymbol.split(",");let ue=!0;M.forEach((he,Ee)=>{const ge=S[he],Le=J[Ee]||"";ge.read!==Le&&!(ge.read===""&&Le==="")&&(ue=!1)}),O=ue}}else O=S.read===y.activeSymbol||S.read===""&&y.activeSymbol==="";let V=q,k=X;const H=Z.length*G,ie=X-H/2+A*G+G/2;C==="top"?k=X-15-A*G:C==="bottom"?k=X+25+A*G:C==="left"?(V=q-25,k=ie):C==="right"?(V=q+25,k=ie):k=X-15-A*G;const se=L.length*7,pe=V+se/2+8;return g.jsxs("g",{style:{pointerEvents:"none",userSelect:"none"},children:[g.jsx("text",{x:V,y:k,textAnchor:"middle",stroke:"white",strokeWidth:"4",fontSize:12,fontWeight:O?"bold":"normal",children:L}),g.jsx("text",{x:V,y:k,textAnchor:"middle",fill:O&&$.length===0?"#e8d71a":"black",fontSize:12,fontWeight:O?"bold":"normal",children:L}),O&&$.length>0&&g.jsx("g",{children:$.map((J,ue)=>g.jsx("circle",{cx:pe+ue*10,cy:k-4,r:4,fill:J,stroke:"white",strokeWidth:"1"},`badge-${ue}`))})]},`${A}-${P}`)}),m&&g.jsx("circle",{className:"edge-handle",cx:q,cy:X,onPointerDown:B,r:5})]})}function p3({node:n,onClose:o,onSave:i}){const l=n?.data?.label||"",[a,c]=b.useState(l),d=a.trim()==="",p=y=>{y.key==="Enter"&&!d?h():y.key==="Escape"&&o()},h=()=>{d||(i(n.id,a,n?.type),o())};return g.jsx("div",{className:"popup-overlay",onClick:o,children:g.jsxs("div",{className:"popup-menu",style:{maxWidth:"350px"},onClick:y=>y.stopPropagation(),children:[g.jsxs("div",{className:"popup-header",children:[g.jsx("h3",{children:"Edit Node"}),g.jsx("button",{className:"close-btn",onClick:o,children:""})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Node Label:"}),g.jsx("input",{type:"text",value:a,onChange:y=>c(y.target.value),onKeyDown:p,placeholder:"e.g. S0, Accept, etc.",autoFocus:!0})]}),g.jsxs("div",{className:"popup-actions",children:[g.jsx("button",{className:"window-toggle-btn",style:{backgroundColor:d?"#f0f0f0":"#e3f2fd",color:"#000000"},onClick:h,disabled:d,children:"Save Changes"}),g.jsx("button",{className:"window-toggle-btn",onClick:o,children:"Cancel"})]})]})})}function h3({edge:n,onClose:o,onSave:i,onDelete:l,engine:a,globalTapeCount:c=2}){const d=a==="MultiTape",p=n?.data?.labels||[],[h,y]=b.useState([]),m=()=>{if(p.length>0){let W=2;return p.forEach(B=>{Object.keys(B).forEach(Z=>{if(Z.startsWith("tape")){const G=parseInt(Z.replace("tape",""),10);isNaN(G)||(W=Math.max(W,G))}})}),Math.max(c,W)}return Math.max(2,c)},[v,x]=b.useState(()=>d?m():1),[E,_]=b.useState(()=>{if(p.length>0)return p;if(d){const W={};for(let B=1;B<=v;B++)W[`tape${B}`]={read:"",write:"",direction:""};return[W]}return[{read:"",write:"",direction:""}]}),N=()=>{const W=v+1;x(W);const B=`tape${W}`;y(Z=>[...Z,{type:"ADD"}]),_(Z=>Z.map(G=>({...G,[B]:{read:"",write:"",direction:"N"}})))},T=W=>{v<=2||(y(B=>[...B,{type:"DELETE",index:W}]),x(B=>B-1),_(B=>B.map(Z=>{const G={};Object.keys(Z).forEach(A=>{A.startsWith("tape")||(G[A]=Z[A])});let S=1;for(let A=1;A<=v;A++){if(A===W)continue;const L=`tape${A}`,O=`tape${S}`;Z[L]?G[O]=Z[L]:G[O]={read:"",write:"",direction:""},S++}return G})))},C=(W,B,Z)=>{_(G=>G.map((S,A)=>A===W?{...S,[B]:Z}:S))},j=(W,B,Z,G)=>{_(S=>S.map((A,L)=>L!==W?A:{...A,[B]:{...A[B]||{read:"",write:"",direction:""},[Z]:G}}))},z=(W,B,Z,G=null)=>{const S=Z===""?"":"";G?j(W,G,B,S):C(W,B,S)},I=()=>{if(d){const W={};for(let B=1;B<=v;B++)W[`tape${B}`]={read:"",write:"",direction:""};_(B=>[...B,W])}else _(W=>[...W,{read:"",write:"",direction:""}])},P=W=>{E.length!==1&&_(B=>B.filter((Z,G)=>G!==W))},Y=E.every(W=>{if(d){for(let B=1;B<=v;B++){const Z=W[`tape${B}`];if(!Z||Z.read===""||Z.write===""||Z.direction==="")return!1}return!0}else return W.read!==""&&W.write!==""&&W.direction!==""}),U=()=>{Y&&(i(n.id,E,h),o())},q=()=>{!p||p.length===0?l(n.id):_(p),o()},X=({selected:W,onClick:B,text:Z})=>g.jsx("button",{className:W?"selected":"",onClick:B,style:{flex:1,padding:"4px",minWidth:"30px"},children:Z});return g.jsx("div",{className:"popup-overlay",children:g.jsxs("div",{className:"popup-menu",style:{maxWidth:d?"90vw":"320px",width:"auto"},children:[g.jsxs("h3",{children:["Edit Edge ",d]}),g.jsx("h4",{children:"check box to indicate blank"}),g.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:E.map((W,B)=>g.jsxs("div",{className:"label-row",style:{borderBottom:"2px solid #ccc",paddingBottom:"15px",marginBottom:"15px"},children:[!d&&g.jsxs(g.Fragment,{children:[g.jsxs("label",{children:["Read:",g.jsx("input",{type:"text",value:W.read,onChange:Z=>C(B,"read",Z.target.value)}),g.jsx("input",{type:"checkbox",checked:W.read==="",onChange:()=>z(B,"read",W.read)})]}),g.jsxs("label",{children:["Write:",g.jsx("input",{type:"text",value:W.write,onChange:Z=>C(B,"write",Z.target.value)}),g.jsx("input",{type:"checkbox",checked:W.write==="",onChange:()=>z(B,"write",W.write)})]}),g.jsxs("div",{className:"direction-buttons",children:[g.jsx(X,{selected:W.direction==="L",onClick:()=>C(B,"direction","L"),text:"Left"}),a!=="Deterministic"&&g.jsx(X,{selected:W.direction==="N",onClick:()=>C(B,"direction","N"),text:"None"}),g.jsx(X,{selected:W.direction==="R",onClick:()=>C(B,"direction","R"),text:"Right"})]})]}),d&&g.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto",paddingBottom:"10px"},children:Array.from({length:v}).map((Z,G)=>{const S=G+1,A=`tape${S}`,L=W[A]||{read:"",write:"",direction:""},O=v>2;return g.jsxs("div",{style:{minWidth:"150px",borderRight:G<v-1?"1px solid #ccc":"none",paddingRight:"15px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[g.jsxs("h5",{style:{margin:0},children:["Tape ",S]}),O&&g.jsx("button",{onClick:()=>T(S),title:"Delete this tape (Saved on close)",style:{background:"none",border:"none",color:"#d9534f",cursor:"pointer",fontSize:"1.2rem",fontWeight:"bold",padding:"0 5px",lineHeight:"1"},children:""})]}),g.jsxs("label",{children:["Read:",g.jsx("input",{type:"text",value:L.read,onChange:$=>j(B,A,"read",$.target.value)}),g.jsx("input",{type:"checkbox",checked:L.read==="",onChange:()=>z(B,"read",L.read,A)})]}),g.jsxs("label",{children:["Write:",g.jsx("input",{type:"text",value:L.write,onChange:$=>j(B,A,"write",$.target.value)}),g.jsx("input",{type:"checkbox",checked:L.write==="",onChange:()=>z(B,"write",L.write,A)})]}),g.jsxs("div",{className:"direction-buttons",style:{marginTop:"5px"},children:[g.jsx(X,{selected:L.direction==="L",onClick:()=>j(B,A,"direction","L"),text:"L"}),g.jsx(X,{selected:L.direction==="N",onClick:()=>j(B,A,"direction","N"),text:"N"}),g.jsx(X,{selected:L.direction==="R",onClick:()=>j(B,A,"direction","R"),text:"R"})]})]},A)})}),g.jsx("button",{className:"remove-button",onClick:()=>P(B),disabled:E.length===1,style:{marginTop:"10px"},children:"Remove Rule"})]},B))}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[g.jsx("button",{className:"add-label-button",onClick:I,children:"Add new rule"}),d&&g.jsx("button",{className:"add-label-button",onClick:N,style:{backgroundColor:"#e2e6ea"},children:"+ Add Tape"})]}),!Y&&g.jsx("p",{className:"warning-text",style:{visibility:Y?"hidden":"visible"},children:"All boxes (Read, Write, Direction) must be filled to save."}),g.jsxs("div",{className:"popup-actions",children:[g.jsx("button",{onClick:U,disabled:!Y,children:"Save"}),g.jsx("button",{onClick:q,children:"Cancel"})]})]})})}const g3=({fromX:n,fromY:o,toX:i,toY:l,fromHandleId:a})=>{const c=Math.abs(n-i)<5&&Math.abs(o-l)<5;let d;if(c){let y=n,m=o;a?.includes("T")?m-=60:a?.includes("B")?m+=60:a?.includes("L")?y-=60:a?.includes("R")?y+=60:m-=60;const v=a?.includes("T")||a?.includes("B")||!a,x={x:v?y-45:y,y:v?m:m-45},E={x:v?y+45:y,y:v?m:m+45};d=`M${n},${o} C${x.x},${x.y} ${E.x},${E.y} ${i},${l}`}else d=`M${n},${o} L${i},${l}`;return g.jsxs("g",{children:[g.jsx("path",{fill:"none",stroke:"#333",strokeWidth:2,d}),g.jsx("circle",{cx:i,cy:l,fill:"#fff",r:3,stroke:"#333",strokeWidth:1.5})]})},Yt="",Me="|",si="";function m3(n,o,i="normal",l=0,a=0){return{id:n,type:i,position:{x:l,y:a},data:{label:o}}}function y3(n,o,i){return{id:`e_${n}_${o}_${Math.random().toString(36).slice(2,7)}`,type:"draggable",source:n,target:o,markerEnd:{type:"arrowclosed",color:"#333"},data:{labels:i,t:.5}}}function Pe(n,o,i){return{read:n,write:o,direction:i}}const lt={scan:(n,o)=>`scan__${n}__${o.join(",")}`,rewindDec:(n,o,i)=>`rwdDec__${n}__${o.join("")}__${i}`,update:(n,o,i,l)=>`update__${n}__${o}__${i.join("")}__${l}`,placeHat:(n,o,i,l)=>`placeHat__${n}__${o}__${i.join("")}__${l}`,afterUpdate:(n,o,i,l)=>`afterUpdate__${n}__${o}__${i.join("")}__${l}`,rewindFinal:(n,o)=>`rewind__${n}__${o}`,shiftMark:n=>`shiftMark__${n}`,shiftMarkL:n=>`shiftMarkL__${n}`,shiftCarry:(n,o,i)=>`shiftCarry_${o}_D${i}__${n}`,shiftFinish:n=>`shiftFinish__${n}`,shiftReturn:(n,o)=>`shiftReturn_D${o}__${n}`,shiftDone:n=>`shiftDone__${n}`};function v3(n){let o=1;for(const i of n)for(const l of i.data?.labels||[])for(const a of Object.keys(l))if(a.startsWith("tape")){const c=parseInt(a.replace("tape",""),10);isNaN(c)||(o=Math.max(o,c))}return o}function x3(n){return Object.fromEntries(n.map(o=>[o.id,o]))}function w3(n,o){const i=Object.fromEntries(n.map(l=>[l.id,[]]));for(const l of o)for(const a of l.data?.labels||[])i[l.source]||(i[l.source]=[]),i[l.source].push({edgeId:l.id,target:l.target,label:a});return i}function S3(n,o){const i=new Set([Yt]);for(const a of n)for(const c of a.data?.labels||[])for(let d=1;d<=o;d++){const p=c[`tape${d}`];p?.read&&i.add(p.read),p?.write&&i.add(p.write)}const l=new Set([...i].map(a=>"^"+a));return{alphabet:i,hatSymbols:l}}class E3{constructor(){this.nodes=[],this.edges=[],this._created=new Set}addNode(o,i,l="normal"){this._created.has(o)||(this.nodes.push(m3(o,i,l)),this._created.add(o))}addEdge(o,i,l){this.edges.push(y3(o,i,l))}addLoop(o,i,l="R"){this.addEdge(o,o,[Pe(i,i,l)])}mergeParallelEdges(){const o=new Map,i=new Map;for(const l of this.edges){const a=`${l.source}||${l.target}`;o.has(a)||(o.set(a,{...l,data:{...l.data,labels:[]}}),i.set(a,new Set));const c=o.get(a),d=i.get(a);for(const p of l.data.labels||[]){const h=JSON.stringify(p);d.has(h)||(d.add(h),c.data.labels.push(p))}}this.edges=[...o.values()]}applyLayout(o){const i={[o]:0},l=[o],a={};for(const p of this.edges)(a[p.source]||=[]).push(p.target);for(;l.length>0;){const p=l.shift();for(const h of a[p]||[])i[h]===void 0&&(i[h]=i[p]+1,l.push(h))}const c={},d={};for(const p of this.nodes){const h=i[p.id]??0;c[h]=(c[h]||0)+1}for(const p of this.nodes){const h=i[p.id]??0,y=d[h]=d[h]??0,m=c[h];p.position={x:(y-(m-1)/2)*220,y:h*150-100},d[h]++}}}function N3({origStateId:n,scannedSoFar:o,origNodeMap:i,origTransitions:l,numTapes:a,alphabet:c,hatSymbols:d,graph:p,queue:h,visited:y}){const m=o.length,v=lt.scan(n,o),x=i[n]?.data?.label||n,E=new Set((l[n]||[]).map(({label:_})=>_[`tape${m+1}`]?.read).filter(Boolean));for(const _ of[...c,...d,Me]){const N=_.startsWith("^"),T=N?_.slice(1):null;if(N&&E.has(T)){const C=[...o,T],j=lt.scan(n,C),z=`${n}|${C.join(",")}`;y.has(z)||(y.add(z),h.push({origStateId:n,scannedSoFar:C})),p.addNode(j,`scan
${x}
[${C.join(",")}]`),p.addEdge(v,j,[Pe(_,_,"R")])}else p.addLoop(v,_,"R")}}function _3(n,o,i,l){return(i[n]||[]).find(({label:a})=>Array.from({length:l},(c,d)=>{const p=a[`tape${d+1}`],h=o[d]??Yt;return p&&(p.read===h||p.read===Yt&&h===Yt)}).every(Boolean))}function k3({lastScanId:n,origStateId:o,readTuple:i,upIds:l,numTapes:a,alphabet:c,hatSymbols:d,graph:p}){const h=lt.rewindDec(o,i,"scanToEnd");p.addNode(h,`scanToEnd
t${a}`);for(const m of[...c,...d])p.addEdge(n,h,[Pe(m,m,"R")]),p.addLoop(h,m,"R");let y=h;for(let m=1;m<=a+1;m++){const v=m===a+1,x=v?l[0]:lt.rewindDec(o,i,m);if(v||p.addNode(x,`rewind
t${a+1-m}`),p.addEdge(y,x,[Pe(Me,Me,v?"R":"L")]),m===1&&p.addEdge(n,x,[Pe(Me,Me,v?"R":"L")]),!v)for(const E of[...c,...d])p.addLoop(x,E,"L");y=x}}function C3({origStateId:n,edgeId:o,tapeIdx:i,readTuple:l,readSym:a,writeVal:c,dir:d,nextStateId:p,isLastTape:h,numTapes:y,alphabet:m,hatSymbols:v,graph:x}){const E=lt.update(n,o,l,i);for(const N of[...m,Me])N.startsWith("^")||x.addLoop(E,N,"R");let _;if(h)_=p;else{const N=lt.afterUpdate(n,o,l,i);x.addNode(N,`crossToNext
t${i+1}`);for(const T of[...m,...v])x.addLoop(N,T,"R");x.addEdge(N,p,[Pe(Me,Me,"R")]),_=N}if(d==="N")x.addEdge(E,_,[Pe("^"+a,"^"+c,"N")]);else{const N=lt.placeHat(n,o,l,i);x.addNode(N,`placeHat
t${i+1}:${d}`),x.addEdge(E,N,[Pe("^"+a,c,d)]);for(const C of m)x.addEdge(N,_,[Pe(C,"^"+C,"N")]);const T=d==="R"?i+2:i+1;b3({placeHatId:N,nextStateId:_,tapeIdx:i,delimHit:T,dir:d,origStateId:n,edgeId:o,readTuple:l,numTapes:y,alphabet:m,hatSymbols:v,graph:x})}}function b3({placeHatId:n,nextStateId:o,tapeIdx:i,delimHit:l,dir:a,origStateId:c,edgeId:d,readTuple:p,numTapes:h,alphabet:y,hatSymbols:m,graph:v}){const x=`${c}__${d}__${p.join("")}__${i}__d${l}`,E=l,_=h+1,N=[...y,...m],T=(P,Y)=>lt.shiftCarry(x,P,Y),C=P=>lt.shiftReturn(x,P),j=lt.shiftMark(x),z=lt.shiftFinish(x),I=lt.shiftDone(x);if(v.addNode(j,`shiftMark
t${i+1}`),a==="R")if(v.addEdge(n,j,[Pe(Me,si,"R")]),E===_)v.addNode(C(_),`shiftReturn
D${_}`),v.addEdge(j,C(_),[Pe(Yt,Me,"L")]);else{for(const P of N)v.addEdge(j,T(P,E),[Pe(P,Me,"R")]);v.addEdge(j,T(Me,E+1),[Pe(Me,Me,"R")])}else{const P=lt.shiftMarkL(x);if(v.addNode(P,`shiftMarkL
t${i+1}`),v.addEdge(n,P,[Pe(Me,Me,"R")]),E===_)v.addNode(C(_),`shiftReturn
D${_}`),v.addEdge(P,C(_),[Pe(Yt,Me,"L")]);else{for(const Y of N)v.addEdge(P,T(Y,E),[Pe(Y,si,"R")]);v.addEdge(P,T(Me,E+1),[Pe(Yt,si,"R")])}}for(let P=E;P<=_;P++){const Y=P===_;for(const U of N){const q=T(U,P);if(v.addNode(q,`carry:${U}
D${P}`),Y)v.addNode(z,`shiftFinish
t${i+1}`),v.addNode(C(P),`shiftReturn
D${P}`),v.addEdge(q,z,[Pe(Yt,U,"R")]),v.addEdge(z,C(P),[Pe(Yt,Me,"L")]);else{for(const X of N)v.addEdge(q,T(X,P),[Pe(X,U,"R")]);v.addEdge(q,T(Me,P+1),[Pe(Me,U,"R")])}}}for(let P=E;P<=_;P++){const Y=P===_,U=T(Me,P);if(v.addNode(U,`carry:${Me}
D${P}${Y?"(final)":""}`),Y)v.addNode(C(P),`shiftReturn
D${P}`),v.addEdge(U,C(P),[Pe(Yt,Me,"L")]);else{for(const q of N)v.addEdge(U,T(q,P),[Pe(q,Me,"R")]);v.addEdge(U,T(Me,P+1),[Pe(Me,Me,"R")])}}for(let P=_;P>=E;P--){const Y=C(P);v.addNode(Y,`shiftReturn
D${P}`);for(const U of N)v.addLoop(Y,U,"L");P>E?v.addEdge(Y,C(P-1),[Pe(Me,Me,"L")]):v.addLoop(Y,Me,"L"),v.addNode(I,`shiftDone
t${i+1}`),v.addEdge(Y,I,[Pe(si,"^"+Yt,"R")])}for(const P of[...N,Me,si])v.addEdge(I,o,[Pe(P,P,"N")])}function T3({rewindStartId:n,targetId:o,nextScanId:i,numTapes:l,alphabet:a,hatSymbols:c,graph:d}){const p=lt.rewindFinal(o,"scan");d.addNode(p,`rewind
scanend`);for(const y of[...a,...c])d.addEdge(n,p,[Pe(y,y,"R")]),d.addLoop(p,y,"R");let h=p;for(let y=1;y<=l+1;y++){const m=y===l+1,v=m?i:lt.rewindFinal(o,y);m||d.addNode(v,`rewind
t${l+1-y}`),y===1&&d.addEdge(n,v,[Pe(Me,Me,m?"R":"L")]),d.addEdge(h,v,[Pe(Me,Me,m?"R":"L")]);for(const x of[...a,...c])d.addLoop(h,x,"L");h=v}}function R3(n,o){const i=v3(o),l=x3(n),a=w3(n,o),{alphabet:c,hatSymbols:d}=S3(o,i),p=n.find(j=>j.type==="start");if(!p)return{nodes:[],edges:[]};const h=new Set(n.filter(j=>j.type==="accept").map(j=>j.id)),y=new E3,m="q_init";y.addNode(m,"q_init","start");const v=lt.scan(p.id,[]),x=l[p.id]?.data?.label||p.id;y.addNode(v,`scan
${x}
[]`),y.addEdge(m,v,[Pe(Me,Me,"R")]);const E=[{origStateId:p.id,scannedSoFar:[]}],_=new Set([`${p.id}|`]);for(;E.length>0;){const{origStateId:j,scannedSoFar:z}=E.shift();if(z.length<i)N3({origStateId:j,scannedSoFar:z,origNodeMap:l,origTransitions:a,numTapes:i,alphabet:c,hatSymbols:d,graph:y,queue:E,visited:_});else{const P=z,Y=lt.scan(j,P),U=_3(j,P,a,i);if(!U)continue;const{edgeId:q,target:X,label:W}=U,B=[],Z=[];for(let O=0;O<i;O++){const $=W[`tape${O+1}`];B.push($?.write||Yt),Z.push($?.direction||"N")}const G=Array.from({length:i},(O,$)=>{const M=lt.update(j,q,P,$),V=l[j]?.data?.label||j;return y.addNode(M,`update
${V}
t${$+1}:${B[$]},${Z[$]}`),M});k3({lastScanId:Y,origStateId:j,readTuple:P,upIds:G,numTapes:i,alphabet:c,hatSymbols:d,graph:y});const S=lt.rewindFinal(X,0),A=l[X]?.data?.label||X,L=h.has(X)?"accept":"normal";y.addNode(S,`rewind
${A}`,L);for(let O=0;O<i;O++){const $=O===i-1,M=$?S:G[O+1];C3({origStateId:j,edgeId:q,tapeIdx:O,readTuple:P,readSym:P[O],writeVal:B[O],dir:Z[O],nextStateId:M,isLastTape:$,numTapes:i,alphabet:c,hatSymbols:d,graph:y})}if(!h.has(X)){const O=lt.scan(X,[]);y.addNode(O,`scan
${A}
[]`),T3({rewindStartId:S,targetId:X,nextScanId:O,numTapes:i,alphabet:c,hatSymbols:d,graph:y});const $=`${X}|`;_.has($)||(_.add($),E.push({origStateId:X,scannedSoFar:[]}))}}}y.mergeParallelEdges();const N=new Set,T=[m];N.add(m);const C={};for(const j of y.edges)(C[j.source]||=[]).push(j.target);for(;T.length>0;){const j=T.shift();for(const z of C[j]||[])N.has(z)||(N.add(z),T.push(z))}return y.nodes=y.nodes.filter(j=>N.has(j.id)),y.edges=y.edges.filter(j=>N.has(j.source)&&N.has(j.target)&&y.nodes.find(z=>z.id===j.source)?.type!=="accept"),y.applyLayout(m),{nodes:y.nodes,edges:y.edges}}const j3={start:a0,normal:u0,accept:c0},A3={draggable:f0},M3=40,cl=60;function I3(n,o){let i=2;(o||[]).forEach(d=>{(d.data?.labels||[]).forEach(p=>{Object.keys(p).forEach(h=>{if(h.startsWith("tape")){const y=parseInt(h.replace("tape",""),10);isNaN(y)||(i=Math.max(i,y))}})})});const l=n?n.split(""):[],a=Array(cl).fill("");let c=[...a,"|"];if(l.length>0){const d=l[0]===" "?"":l[0];c.push("^"+d),c.push(...l.slice(1).map(p=>p===" "?"":p))}else c.push("^");for(let d=1;d<i;d++)c.push("|"),c.push("^");return c.push("|"),c.push(...a),{tape:c,head:cl}}function L3(n,o){const{setCenter:i,getNodes:l}=go();b.useEffect(()=>{if(!n)return;const a=l().find(y=>y.id===n);if(!a)return;const{x:c,y:d}=a.position,p=a.width??150,h=a.height??50;i(c+p/2,d+h/2,{duration:0,zoom:1})},[n,o,i,l])}const $3=50;function D3({rawNodes:n,rawEdges:o,activeNodeId:i,activeEdgeId:l,activeSymbol:a,stepCount:c,onReady:d}){const p=b.useMemo(()=>n.map(U=>({...U,style:{...U.style||{},border:"none",boxShadow:"none",background:"transparent",transition:"none"}})),[n]),h=b.useMemo(()=>o.map(U=>({...U,markerEnd:{...U.markerEnd,color:"#333"},data:{...U.data,isActive:!1,activeSymbol:null}})),[o]),[y,m]=b.useState(0),v=y>=p.length;b.useEffect(()=>{m(0)},[p]),b.useEffect(()=>{if(v){d?.();return}const U=requestAnimationFrame(()=>{m(q=>Math.min(q+$3,p.length))});return()=>cancelAnimationFrame(U)},[y,v,p.length,d]);const x=b.useMemo(()=>p.slice(0,y),[p,y]),E=v?h:[],[_,N,T]=e0(x),[C,j,z]=t0(E);b.useEffect(()=>{N(x)},[x,N]),b.useEffect(()=>{v&&j(h)},[v,h,j]);const I=b.useRef(null),P=b.useRef(null),Y=b.useRef(null);return b.useEffect(()=>{if(!v)return;const U=I.current;I.current=i,N(q=>q.map(X=>X.id===U&&X.id!==i?{...X,data:{...X.data,isActive:!1},style:{...X.style,border:"none",boxShadow:"none",background:"transparent"}}:X.id===i?{...X,data:{...X.data,isActive:!0},style:{...X.style,border:"none",boxShadow:"none",background:"transparent"}}:X))},[i,v,N]),b.useEffect(()=>{if(!v)return;const U=P.current,q=U!==l;P.current=l,Y.current=a,j(X=>X.map(W=>q&&W.id===U&&W.id!==l?{...W,markerEnd:{...W.markerEnd,color:"#333"},data:{...W.data,isActive:!1,activeSymbol:null}}:W.id===l?{...W,markerEnd:{...W.markerEnd,color:"#e8d71a"},data:{...W.data,isActive:!0,activeSymbol:a}}:W))},[l,a,c,v,j]),L3(v?i:null,c),g.jsxs(nc,{nodes:_,edges:C,nodeTypes:j3,edgeTypes:A3,onNodesChange:T,onEdgesChange:z,fitView:!0,fitViewOptions:{padding:1.2},minZoom:.05,children:[g.jsx(i0,{}),g.jsx(r0,{})]})}function z3(n,o,i){const l=rc(n);if(!l)return null;const{tape:a,head:c}=I3(i,o);return{tape:a,head:c,currentNodeId:l.id,activeEdgeId:null,stepCount:0,status:"IDLE",statusMessage:"Initialized. Press Start or Step."}}function P3(n,o){switch(o.type){case"INIT":return{...o.payload,history:[]};case"STEP":{const{result:i,PAD:l}=o,a={tape:n.tape,head:n.head,currentNodeId:n.currentNodeId,activeEdgeId:n.activeEdgeId,stepCount:n.stepCount,status:n.status,statusMessage:n.statusMessage};if(i.halted)return{...n,status:"REJECTED",statusMessage:`Halted: ${i.reason}`,activeEdgeId:null,activeRead:null,history:[...n.history,a]};const c=[...n.tape];c[n.head]=i.write;let d=n.head;for(i.direction==="R"&&d++,i.direction==="L"&&d--,d<0&&(c.unshift(...Array(l).fill("")),d+=l);d>=c.length;)c.push("");return{...n,tape:c,head:d,currentNodeId:i.toNodeId,activeEdgeId:i.edgeId,activeRead:i.read,stepCount:i.stepCount,status:i.isAccept?"ACCEPTED":"RUNNING",statusMessage:i.isAccept?"ACCEPTED!":n.statusMessage,history:[...n.history,a]}}case"UNDO":{if(n.history.length===0)return n;const i=n.history[n.history.length-1];return{...n,...i,history:n.history.slice(0,-1)}}default:return n}}function H3(n,o,i,l){const[a,c]=b.useState(l||""),[d,p]=b.useState(!1),[h,y]=b.useState(1),[m,v]=b.useReducer(P3,null,()=>({tape:[],head:0,currentNodeId:null,activeEdgeId:null,stepCount:0,status:"IDLE",statusMessage:"Ready.",history:[]})),x=b.useMemo(()=>{const N=Object.fromEntries(n.map(C=>[C.id,C])),T={};for(const C of o){const j={...C,_targetIsAccept:N[C.target]?.type==="accept"};(T[C.source]||=[]).push(j)}return T},[n,o]),E=b.useCallback(()=>{const N=z3(n,i,a);N&&(v({type:"INIT",payload:N}),p(!1))},[n,i,a]);b.useEffect(()=>{E()},[E]);const _=b.useCallback(()=>{if(m.status==="ACCEPTED"||m.status==="REJECTED")return;const N=x[m.currentNodeId]||[],T=m.tape[m.head]||"";let C=null;for(const I of N){const P=(I.data?.labels||[]).find(Y=>Y.read===T||Y.read===""&&T==="");if(P){C={edge:I,rule:P};break}}if(!C){v({type:"STEP",result:{halted:!0,reason:"No transition defined",read:T,fromNodeId:m.currentNodeId,stepCount:m.stepCount},PAD:cl});return}const{edge:j,rule:z}=C;v({type:"STEP",result:{halted:!1,read:T,write:z.write,direction:z.direction,fromNodeId:m.currentNodeId,toNodeId:j.target,edgeId:j.id,isAccept:j._targetIsAccept,rule:z,stepCount:m.stepCount+1},PAD:cl})},[m,x]);return b.useEffect(()=>{if(!d||m.status==="ACCEPTED"||m.status==="REJECTED"){(m.status==="ACCEPTED"||m.status==="REJECTED")&&p(!1);return}const N=setInterval(_,1e3/h);return()=>clearInterval(N)},[d,_,h,m.status]),{localInput:a,setLocalInput:c,tape:m.tape,head:m.head,currentNodeId:m.currentNodeId,activeEdgeId:m.activeEdgeId,activeRead:m.activeRead,stepCount:m.stepCount,status:m.status,statusMessage:m.statusMessage,isRunning:d,setIsRunning:p,speed:h,setSpeed:y,history:m.history,initialize:E,undo:()=>{v({type:"UNDO"}),p(!1)},step:_,handleClear:()=>c("")}}function O3({nodes:n,edges:o,onClose:i}){const l=n.find(z=>z.type==="start")?.data?.input||"",[a,c]=b.useState(null),[d,p]=b.useState(!1);b.useEffect(()=>{c(null),p(!1);const z=setTimeout(()=>{const I=R3(n,o);c(I),p(!0)},0);return()=>clearTimeout(z)},[n,o]);const h=a?.nodes??[],y=a?.edges??[],m=a===null||d,v=H3(h,y,o,l),x=v.activeRead??null,E=b.useMemo(()=>h.find(I=>I.id===v.currentNodeId)?.data?.label||v.currentNodeId||"",[h,v.currentNodeId]),_=v.status==="ACCEPTED",N=v.status==="REJECTED",T=_||N,C=_?"accepted":N?"rejected":"active",j=_?" ACCEPTED":N?" REJECTED":v.isRunning?" RUNNING":"READY";return g.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.80)",zIndex:2e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{background:"#fff",borderRadius:10,width:"96vw",height:"94vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 8px 40px rgba(0,0,0,0.45)"},children:[m&&g.jsxs("div",{style:{position:"absolute",inset:0,zIndex:10,background:"rgba(249,249,249,0.97)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:14,borderRadius:10,fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[g.jsx("style",{children:"@keyframes cdm-spin { to { transform: rotate(360deg); } }"}),g.jsx("button",{onClick:i,style:{position:"absolute",top:10,right:12,padding:"6px 13px",borderRadius:6,cursor:"pointer",background:"transparent",border:"1px solid #ccc",fontSize:20,lineHeight:1,color:"#555"},children:""}),g.jsx("div",{style:{width:44,height:44,borderRadius:"50%",border:"4px solid #eee",borderTopColor:"#e8d71a",animation:"cdm-spin 0.8s linear infinite"}}),g.jsx("div",{style:{fontSize:14,fontWeight:500,color:"#555"},children:a===null?"Converting":"Rendering"})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 18px",borderBottom:"1px solid #e0e0e0",background:"#fafafa",flexShrink:0},children:[g.jsx("span",{style:{fontWeight:600,fontSize:14,color:"#333"}}),g.jsx("button",{onClick:i,style:{padding:"6px 13px",borderRadius:6,cursor:"pointer",background:"transparent",border:"1px solid #ccc",fontSize:20,lineHeight:1,color:"#555"},children:""})]}),g.jsxs("div",{style:{flexShrink:0,borderBottom:"2px solid #e0e0e0",padding:"12px 18px 10px",background:"#fdfdfd",display:"flex",flexDirection:"column",gap:10},children:[g.jsxs("div",{className:`thread-card ${C} tree-card`,style:{width:"100%",marginTop:0},children:[g.jsxs("div",{className:"thread-header",children:[g.jsxs("div",{className:"thread-id-info",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("div",{style:{width:14,height:14,borderRadius:3,backgroundColor:"#333",border:"1px solid rgba(0,0,0,0.1)"}}),g.jsx("span",{className:"thread-name",children:"Sipser Single-Tape Equivalent"})]}),g.jsxs("span",{className:"thread-meta",children:["Step: ",v.stepCount]})]}),g.jsx("span",{className:`thread-status-badge ${C}`,onClick:()=>N&&alert(v.statusMessage),title:N?"Click to see reason":"",style:{cursor:N?"pointer":"default"},children:j})]}),g.jsx(tl,{tape:v.tape,head:v.head,activeLabel:E,cellSize:M3,width:"100%",instantScroll:!0})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:22,flexWrap:"wrap"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("label",{style:{fontWeight:500,color:"#555",fontSize:13},children:"Input:"}),g.jsx("input",{type:"text",value:v.localInput,onChange:z=>v.setLocalInput(z.target.value),disabled:v.isRunning,style:{padding:"5px 8px",borderRadius:4,border:"1px solid #ccc",fontSize:13,width:160,fontFamily:"monospace"}})]}),g.jsx(s0,{onStepForward:v.step,onStart:()=>v.setIsRunning(!0),onStop:()=>v.setIsRunning(!1),onReset:v.initialize,onClear:v.handleClear,onStepBack:v.undo,isRunning:v.isRunning,isFinished:T,canUndo:v.history.length>0}),g.jsxs("div",{className:"speed-control",style:{display:"flex",alignItems:"center",gap:8,fontSize:13},children:[g.jsxs("label",{children:["Speed: ",v.speed,"x"]}),g.jsx("input",{type:"range",min:"0.25",max:"2",step:"0.25",value:v.speed,onChange:z=>v.setSpeed(Number(z.target.value))})]})]})]}),g.jsxs("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{display:"flex",gap:20,flexWrap:"wrap",padding:"5px 14px",background:"#f8f8f8",borderBottom:"1px solid #e8e8e8",fontSize:12,alignItems:"center",flexShrink:0},children:[g.jsxs("span",{style:{color:"#555"},children:["States: ",g.jsx("strong",{children:h.length})]}),g.jsxs("span",{style:{color:"#555"},children:["Transitions: ",g.jsx("strong",{children:y.length})]})]}),g.jsxs("div",{style:{flex:1,minHeight:0},children:[g.jsx("style",{children:`
              .cdm-no-transition .node,
              .cdm-no-transition .node-ring,
              .cdm-no-transition .edge-path,
              .cdm-no-transition .react-flow__edge-path,
              .cdm-no-transition .react-flow__node,
              .cdm-no-transition .react-flow__handle,
              .cdm-no-transition svg path,
              .cdm-no-transition svg text {
                transition: none !important;
                animation: none !important;
              }
            `}),g.jsx("div",{className:"cdm-no-transition",style:{width:"100%",height:"100%"},children:g.jsx(yl,{children:g.jsx(D3,{rawNodes:h,rawEdges:y,activeNodeId:v.currentNodeId,activeEdgeId:v.activeEdgeId,activeSymbol:x,stepCount:v.stepCount,onReady:()=>p(!1)})})})]})]})]})})}const F3={start:a0,normal:u0,accept:c0},B3={draggable:f0};function V3({nodes:n,edges:o,onNodesChange:i,onEdgesChange:l,setNodes:a,setEdges:c,activeNodeId:d,activeEdgeId:p,currentSymbol:h,stepCount:y,engine:m,onClear:v,isLocked:x}){const[E,_]=b.useState(!1),{project:N,fitView:T}=go(),C=b.useMemo(()=>{if(m!=="MultiTape")return 1;let re=2;return o.forEach(te=>{te.data?.labels&&te.data.labels.forEach(Q=>{Object.keys(Q).forEach(le=>{if(le.startsWith("tape")){const ve=parseInt(le.replace("tape",""),10);isNaN(ve)||(re=Math.max(re,ve))}})})}),re},[o,m]);b.useEffect(()=>{const re=setTimeout(()=>{T({padding:.4,duration:0})},100);return()=>clearTimeout(re)},[T]);const[j,z]=b.useState(null),[I,P]=b.useState(null),[Y,U]=b.useState([]),[q,X]=b.useState([]),W=b.useRef(0),B=b.useCallback((re="Unknown Action",te=null)=>{W.current+=1;const Q=W.current,le=te?te.nodes:n,ve=te?te.edges:o,_e=le.map(Te=>({...Te,data:{...Te.data}})),$e=ve.map(Te=>({...Te,data:{...Te.data,labels:JSON.parse(JSON.stringify(Te.data.labels||[]))}}));U(Te=>[...Te,{nodes:_e,edges:$e,metadata:{id:Q,label:re}}].slice(-50)),X([])},[n,o]),Z=b.useRef(null),G=b.useCallback(re=>{Z.current&&clearTimeout(Z.current),Z.current=setTimeout(()=>{B(re),Z.current=null},200)},[B]),S=()=>{if(x||Y.length===0)return;const re=Y[Y.length-1],te={nodes:n.map(Q=>({...Q,data:{...Q.data}})),edges:o.map(Q=>({...Q,data:{...Q.data,labels:JSON.parse(JSON.stringify(Q.data.labels||[]))}}))};U(Q=>Q.slice(0,-1)),X(Q=>[...Q,{...te,metadata:re.metadata}]),a(re.nodes),c(re.edges)},A=()=>{if(x||q.length===0)return;const re=q[q.length-1],te={nodes:n.map(Q=>({...Q,data:{...Q.data}})),edges:o.map(Q=>({...Q,data:{...Q.data,labels:JSON.parse(JSON.stringify(Q.data.labels||[]))}}))};X(Q=>Q.slice(0,-1)),U(Q=>[...Q,{...te,metadata:re.metadata}]),a(re.nodes),c(re.edges)},L=b.useRef({x:0,y:0}),O=b.useRef(null),$=b.useCallback((re,te)=>{x||(L.current={x:te.position.x,y:te.position.y},O.current={nodes:n,edges:o})},[n,o,x]),M=b.useCallback((re,te)=>{if(x)return;const Q=te.position.x-L.current.x,le=te.position.y-L.current.y;Math.sqrt(Q*Q+le*le)>5&&O.current&&B("Node Moved",O.current),O.current=null},[B,x]),V=b.useCallback(()=>{x||(O.current={nodes:n,edges:o})},[n,o,x]),k=b.useCallback(()=>{x||O.current&&(B("Group Moved",O.current),O.current=null)},[B,x]),H=b.useCallback(re=>{if(x)return;B("Edge Created");const te=re.source===re.target;let Q,le,ve,_e,$e,Te;if(te){const Re=n.find(Ke=>Ke.id===re.source);if(!Re)return;const rt=Re.width||40,et=Re.height||40;ve=Re.position.x+rt*.25,$e=Re.position.x+rt*.75,_e=Re.position.y+et/2,Te=Re.position.y+et/2;const yt=et*1.5;le=Re.position.y-yt,Q=Re.position.x+rt/2}const Be={...re,id:`edge-${Date.now()}`,type:"draggable",markerEnd:{type:mi.ArrowClosed,color:"#333"},data:te?{px:Q,py:le,t:.5,sourceX:ve,sourceY:_e,targetX:$e,targetY:Te,labels:[]}:{px:void 0,py:void 0,t:.5,labels:[]}};c(Re=>[...Re,Be]),P(Be)},[n,B,c,x]),ie=b.useCallback(re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},[]),se=b.useCallback(re=>{if(re.preventDefault(),x)return;const te=re.dataTransfer.getData("node-type");if(!te)return;const Q=re.currentTarget.getBoundingClientRect(),le=N({x:re.clientX-Q.left,y:re.clientY-Q.top});le.x-=20,le.y-=20;const ve={id:`${Date.now()}`,type:te,position:le,data:{label:`S${n.length}`}};B("Node Created"),a(_e=>[..._e,ve])},[N,B,a,n.length,x]),pe=(re,te)=>{re.preventDefault(),!x&&(te.type!=="normal"&&te.type!=="accept"||(B("Node Type Changed"),a(Q=>Q.map(le=>le.id===te.id?{...le,type:le.type==="normal"?"accept":"normal"}:le))))},J=(re,te)=>{re.preventDefault(),!x&&(z(te),P(null))},ue=(re,te)=>{re.preventDefault(),!x&&(P(te),z(null))},he=(re,te,Q)=>{B("Node Edited"),a(le=>le.map(ve=>ve.id===re?{...ve,type:Q,data:{...ve.data,label:te}}:ve)),z(null)},Ee=(re,te,Q=[])=>{B("Edge Edited"),c(le=>le.map(ve=>{if(ve.id===re)return{...ve,data:{...ve.data,labels:te}};if(m==="MultiTape"&&Q.length>0){let _e=(ve.data.labels||[]).map($e=>{let Te={...$e};return Q.forEach(Be=>{if(Be.type==="ADD"){let Re=0;Object.keys(Te).forEach(rt=>{if(rt.startsWith("tape")){const et=parseInt(rt.replace("tape",""),10);isNaN(et)||(Re=Math.max(Re,et))}}),Te[`tape${Re+1}`]={read:"",write:"",direction:"N"}}else if(Be.type==="DELETE"){const Re=Be.index,rt={};Object.keys(Te).forEach(Ke=>{Ke.startsWith("tape")||(rt[Ke]=Te[Ke])});let et=0;Object.keys(Te).forEach(Ke=>{if(Ke.startsWith("tape")){const ht=parseInt(Ke.replace("tape",""),10);isNaN(ht)||(et=Math.max(et,ht))}});let yt=1;for(let Ke=1;Ke<=et;Ke++){if(Ke===Re)continue;const ht=`tape${Ke}`,Ye=`tape${yt}`;Te[ht]&&(rt[Ye]=Te[ht]),yt++}Te=rt}}),Te});return{...ve,data:{...ve.data,labels:_e}}}return ve})),P(null)},ge=re=>{B("Edge Deleted"),c(te=>te.filter(Q=>Q.id!==re)),P(null)},Le=()=>{x||(B("Cleared All"),v?v():(a([]),c([])))},Ve=()=>{let re=window.prompt("Enter a filename for the export:","turing_machine_diagram");if(re===null)return;re.trim()===""&&(re="turing_machine_diagram"),re.toLowerCase().endsWith(".json")||(re+=".json");const Q=JSON.stringify({nodes:n,edges:o},null,2),le=new Blob([Q],{type:"application/json"}),ve=URL.createObjectURL(le),_e=document.createElement("a");_e.href=ve,_e.download=re,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(ve)},Ie=b.useCallback(re=>{if(!x){if(!re||typeof re!="object"){alert("Invalid file format.");return}if(!Array.isArray(re.nodes)||!Array.isArray(re.edges)){alert("Invalid JSON: File must contain 'nodes' and 'edges' arrays.");return}B("Imported Diagram"),a(re.nodes),c(re.edges),z(null),P(null)}},[B,a,c,x]),Fe=n.map(re=>{let te=[];return m==="NonDeterministic"&&Array.isArray(d)&&(te=d.filter(Q=>Q.currentNodeId===re.id&&(Q.status==="active"||Q.status==="accepted")).map(Q=>Q.color)),{...re,data:{...re.data,isActive:m==="NonDeterministic"?te.length>0:re.id===d,threadColors:te}}}),He=o.map(re=>{let te=re.id===p,Q=[],le=[];return m==="NonDeterministic"&&Array.isArray(d)&&(le=d.filter(ve=>ve.activeEdgeId===re.id&&(ve.status==="active"||ve.status==="accepted")),le.length>0&&(te=!0,Q=le.map(ve=>ve.color))),{...re,markerEnd:{...re.markerEnd,color:Q.length>0?Q[Q.length-1]:te?"#e8d71a":"#333"},data:{...re.data,isActive:te,activeSymbol:te?h:null,stepCount:te?y:null,threadColors:Q,activeThreads:le}}});return b.useCallback(re=>{B(`Deleted Symbol: ${re}`),c(te=>te.map(Q=>({...Q,data:{...Q.data,labels:Q.data.labels.filter(le=>m==="MultiTape"?!Object.keys(le).some(ve=>ve.startsWith("tape")&&le[ve].read===re):le.read!==re)}})).filter(Q=>Q.data.labels.length>0))},[m,c,B]),b.useCallback((re,te)=>{B(`Replaced ${re} with ${te}`),c(Q=>Q.map(le=>({...le,data:{...le.data,labels:le.data.labels.map(ve=>{const _e={...ve};return m==="MultiTape"?Object.keys(_e).forEach($e=>{$e.startsWith("tape")&&(_e[$e].read===re&&(_e[$e].read=te),_e[$e].write===re&&(_e[$e].write=te))}):(_e.read===re&&(_e.read=te),_e.write===re&&(_e.write=te)),_e})}})))},[m,c,B]),g.jsx(d0.Provider,{value:B,children:g.jsxs("div",{className:"diagram-container",children:[g.jsx(u3,{}),g.jsx("div",{className:`reactflow-wrapper ${x?"locked":""}`,children:g.jsxs(nc,{nodes:Fe,edges:He,nodeTypes:F3,edgeTypes:B3,connectionLineComponent:g3,onNodesChange:i,onEdgesChange:l,onNodeDoubleClick:pe,onNodeContextMenu:J,onEdgeDoubleClick:ue,onConnect:H,onDrop:se,onDragOver:ie,nodesDraggable:!x,nodesConnectable:!x,deleteKeyCode:x?null:["Backspace","Delete"],onNodeDragStart:$,onNodeDragStop:M,onSelectionDragStart:V,onSelectionDragStop:k,onNodesDelete:()=>!x&&G("Nodes Deleted"),onEdgesDelete:()=>!x&&G("Edges Deleted"),fitView:!0,children:[g.jsx(i0,{}),g.jsx(r0,{})]})}),g.jsx(c3,{handleClearAll:Le,Undo:S,Redo:A,handleExport:Ve,handleImport:Ie,canUndo:!x&&Y.length>0,canRedo:!x&&q.length>0,isLocked:x,engine:m,onConvert:re=>{m==="MultiTape"&&re==="combined"&&_(!0)}}),E&&g.jsx(O3,{nodes:n,edges:o,onClose:()=>_(!1)}),j&&g.jsx(p3,{node:j,onClose:()=>z(null),onSave:he}),I&&g.jsx(h3,{edge:I,onClose:()=>P(null),onSave:Ee,onDelete:ge,engine:m,globalTapeCount:C})]})})}function U3({nodes:n,edges:o,manualSymbols:i,setManualSymbols:l,onClose:a,onDeleteSymbol:c,onReplaceSymbol:d}){const[p,h]=b.useState(""),[y,m]=b.useState(!1),[v,x]=b.useState("matrix"),[E,_]=b.useState({x:50,y:100}),[N,T]=b.useState(!1),C=b.useRef({x:0,y:0}),[j,z]=b.useState({width:600,height:400}),[I,P]=b.useState(!1),Y=b.useRef({x:0,y:0,width:0,height:0}),[U,q]=b.useState(""),[X,W]=b.useState(null),B=J=>{y&&(T(!0),C.current={x:J.clientX-E.x,y:J.clientY-E.y})},Z=J=>{J.stopPropagation(),J.preventDefault(),P(!0),Y.current={x:J.clientX,y:J.clientY,width:j.width,height:j.height}};b.useEffect(()=>{const J=he=>{if(N&&_({x:he.clientX-C.current.x,y:he.clientY-C.current.y}),I){const Ee=he.clientX-Y.current.x,ge=he.clientY-Y.current.y;z({width:Math.max(320,Y.current.width+Ee),height:Math.max(200,Y.current.height+ge)})}},ue=()=>{T(!1),P(!1)};return(N||I)&&(document.addEventListener("mousemove",J),document.addEventListener("mouseup",ue)),()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",ue)}},[N,I]);const{symbols:G,matrix:S,sortedNodes:A,derivedSymbols:L,isMultiTape:O,multiTapeRules:$,multiTapeColumns:M,multiTapeMatrix:V}=b.useMemo(()=>{const J=new Set,ue={};n.forEach(ge=>{ue[ge.id]=ge});const he=o.some(ge=>ge.data?.labels?.some(Le=>Object.keys(Le).some(Ve=>Ve.startsWith("tape")))),Ee=[...n].sort((ge,Le)=>{if(ge.type==="start")return-1;if(Le.type==="start")return 1;const Ve=tr(ge),Ie=tr(Le);return Ve.localeCompare(Ie,void 0,{numeric:!0})});if(he){const ge=[];let Le=2;o.forEach(re=>re.data?.labels?.forEach(te=>{Object.keys(te).forEach(Q=>{if(Q.startsWith("tape")){const le=parseInt(Q.replace("tape",""),10);isNaN(le)||(Le=Math.max(Le,le))}})})),o.forEach(re=>{const te=ue[re.source];if(!te)return;const Q=tr(te),le=ue[re.target]?tr(ue[re.target]):"?";re.data?.labels?.forEach(ve=>{const _e=[],$e=[],Te=[];for(let Be=1;Be<=Le;Be++){const Re=ve[`tape${Be}`]||{read:"",write:"",direction:"N"};_e.push(Re.read),$e.push(Re.write),Te.push(Re.direction),Re.read&&Re.read!==""&&Re.read!==""&&J.add(Re.read),Re.write&&Re.write!==""&&Re.write!==""&&J.add(Re.write)}ge.push({start:Q,startId:re.source,read:_e.join(","),write:$e.join(", "),direction:Te.join(", "),end:le,rawWrites:$e,rawDirs:Te,sortKey:`${Q}-${_e.join(",")}`})})}),ge.sort((re,te)=>re.sortKey.localeCompare(te.sortKey,void 0,{numeric:!0}));const Ve=Array.from(new Set(ge.map(re=>re.read))).sort(),Ie={};ge.forEach(re=>{Ie[re.startId]||(Ie[re.startId]={});const te=`(${re.rawWrites.map((Q,le)=>`${Q},${re.rawDirs[le]}`).join(" : ")}) -> ${re.end}`;Ie[re.startId][re.read]?Ie[re.startId][re.read]+=` | ${te}`:Ie[re.startId][re.read]=te});const Fe=new Set([...J,...i]);return{symbols:Array.from(Fe).sort(),matrix:{},sortedNodes:Ee,derivedSymbols:J,isMultiTape:!0,multiTapeRules:ge,multiTapeColumns:Ve,multiTapeMatrix:Ie}}else{const ge={};Ee.forEach(Ie=>ge[Ie.id]={}),o.forEach(Ie=>{const Fe=Ie.source,He=ue[Ie.target]?tr(ue[Ie.target]):"?";(Ie.data?.labels||[]).forEach(te=>{if(te.read===void 0)return;J.add(te.read),te.write&&J.add(te.write);const Q=`${te.write}, ${te.direction}, ${He}`;ge[Fe]||(ge[Fe]={}),ge[Fe][te.read]?ge[Fe][te.read]+=` | ${Q}`:ge[Fe][te.read]=Q})});const Le=new Set([...J,...i]);return{symbols:Array.from(Le).sort(),matrix:ge,sortedNodes:Ee,derivedSymbols:J,isMultiTape:!1,multiTapeRules:[],multiTapeColumns:[],multiTapeMatrix:{}}}},[n,o,i]),k=J=>{J.preventDefault();const ue=p.trim();ue&&(i.includes(ue)||l(he=>[...he,ue]),h(""))},H=J=>{L.has(J)?W(J):l(ue=>ue.filter(he=>he!==J))},ie=J=>{J==="delete"?c(X):J==="replace"&&d(X,U),W(null),q("")},se=y?"popup-menu table-popup modeless-window":"popup-menu table-popup",pe=y?{left:`${E.x}px`,top:`${E.y}px`,width:`${j.width}px`,height:`${j.height}px`,margin:0,position:"fixed"}:{};return g.jsxs("div",{className:y?"":"popup-overlay",onClick:y?void 0:a,children:[g.jsxs("div",{className:se,style:pe,onClick:J=>J.stopPropagation(),children:[g.jsxs("div",{className:"popup-header",style:{cursor:y?"grab":"default"},onMouseDown:B,children:[g.jsx("h3",{children:"Transition Table"}),g.jsxs("div",{className:"header-actions",children:[O&&g.jsx("button",{className:"window-toggle-btn",onClick:()=>x(v==="list"?"matrix":"list"),onMouseDown:J=>J.stopPropagation(),children:v==="list"?"Matrix View":"List View"}),g.jsx("button",{className:"window-toggle-btn",onClick:()=>m(!y),onMouseDown:J=>J.stopPropagation(),children:y?"Modal View":"Float Window"}),g.jsx("button",{className:"close-btn",onClick:a,onMouseDown:J=>J.stopPropagation(),children:""})]})]}),O?g.jsxs("div",{className:"multitape-alphabet-display",children:[g.jsx("div",{className:"sigma-box",children:" :"}),g.jsxs("div",{className:"symbol-list",children:[G.map(J=>g.jsxs("span",{className:`symbol-tag ${L.has(J)?"derived":"manual"}`,children:[J,g.jsx("button",{className:"remove-symbol-btn",onClick:()=>H(J),children:""})]},J)),g.jsx("form",{onSubmit:k,style:{display:"inline-flex"},children:g.jsx("input",{type:"text",value:p,onChange:J=>h(J.target.value),placeholder:"+",maxLength:1,className:"symbol-input-inline",title:"Type and press Enter to add symbol"})})]})]}):g.jsxs("form",{className:"alphabet-controls",onSubmit:k,children:[g.jsx("label",{children:"Alphabet (): "}),g.jsx("input",{type:"text",value:p,onChange:J=>h(J.target.value),placeholder:"Add char...",maxLength:1,className:"symbol-input"}),g.jsx("button",{type:"submit",disabled:!p.trim(),children:"Add"})]}),g.jsx("div",{className:"table-wrapper",children:g.jsx("table",{className:"transition-table",children:O?v==="list"?g.jsxs(g.Fragment,{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{style:{textAlign:"left",borderRight:"none"},children:"Start State"}),g.jsx("th",{style:{textAlign:"center"},children:"Read"}),g.jsx("th",{style:{textAlign:"center"},children:"Write"}),g.jsx("th",{style:{textAlign:"center"},children:"Direction"}),g.jsx("th",{style:{textAlign:"center"},children:"Next State"})]})}),g.jsx("tbody",{children:$.map((J,ue)=>g.jsxs("tr",{children:[g.jsx("td",{style:{textAlign:"left",fontWeight:"bold"},children:J.start}),g.jsx("td",{children:J.read.replace(/,/g,", ")}),g.jsx("td",{children:J.write}),g.jsx("td",{children:J.direction}),g.jsx("td",{style:{fontStyle:"italic"},children:J.end})]},ue))})]}):g.jsxs(g.Fragment,{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsxs("th",{className:"diagonal-cell",children:[g.jsx("span",{className:"diagonal-top",children:"Read"}),g.jsx("span",{className:"diagonal-bottom",children:"Q"})]}),M.map(J=>g.jsx("th",{className:"symbol-header",children:J},J))]})}),g.jsx("tbody",{children:A.map(J=>g.jsxs("tr",{children:[g.jsx("td",{className:"row-header",children:tr(J)}),M.map(ue=>{const he=V[J.id]?.[ue];return g.jsx("td",{children:he?g.jsx("span",{className:"rule-cell",style:{fontSize:"0.85rem"},children:he}):g.jsx("span",{className:"empty-cell",children:"/"})},`${J.id}-${ue}`)})]},J.id))})]}):g.jsxs(g.Fragment,{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsxs("th",{className:"diagonal-cell",children:[g.jsx("span",{className:"diagonal-top",children:""}),g.jsx("span",{className:"diagonal-bottom",children:"Q"})]}),G.map(J=>g.jsxs("th",{className:"symbol-header",style:{position:"relative"},children:[g.jsx("span",{style:{color:L.has(J)?"#1565c0":"#a21f1f"},children:J}),g.jsx("button",{className:"delete-symbol-btn",onClick:()=>H(J),children:""})]},J))]})}),g.jsx("tbody",{children:A.map(J=>g.jsxs("tr",{children:[g.jsx("td",{className:"row-header",children:tr(J)}),G.map(ue=>{const he=S[J.id]?.[ue];return g.jsx("td",{children:he?g.jsx("span",{className:"rule-cell",children:he}):g.jsx("span",{className:"empty-cell",children:"/"})},`${J.id}-${ue}`)})]},J.id))})]})})}),y&&g.jsx("div",{className:"resize-handle",onMouseDown:Z})]}),X&&g.jsx("div",{className:"popup-overlay",style:{zIndex:3e3},onClick:J=>J.stopPropagation(),children:g.jsxs("div",{className:"popup-menu",style:{maxWidth:"400px",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[g.jsxs("h3",{children:['Manage Symbol: "',X,'"']}),g.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"20px",textAlign:"center"},children:"This symbol is used in the diagram. Deleting it will remove all rules that read this character."}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Replace with another character?"}),g.jsx("input",{type:"text",maxLength:1,value:U,onChange:J=>q(J.target.value),placeholder:"New char...",className:"symbol-input",style:{width:"80%",margin:"0 auto"}})]}),g.jsxs("div",{className:"popup-actions",style:{flexDirection:"column",gap:"10px"},children:[g.jsx("button",{className:"add-label-button",style:{backgroundColor:"#d1e7dd",width:"100%",color:"#0f5132"},onClick:()=>ie("replace"),disabled:!U.trim(),children:"Replace Everywhere"}),g.jsxs("button",{className:"remove-button",style:{width:"100%",margin:0},onClick:()=>ie("delete"),children:['Delete All Rules with "',X,'"']}),g.jsx("button",{className:"window-toggle-btn",style:{width:"100%"},onClick:()=>{W(null),q("")},children:"Cancel"})]})]})})]})}const W3="aabbaa",X3=[{id:"1767729035491",type:"start",position:{x:221.36712341185802,y:74.2449226678741},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:221.36712341185802,y:74.2449226678741},dragging:!1},{id:"1767729040312",type:"accept",position:{x:223.87699866178912,y:-70.28085418390305},data:{label:"S1"},width:59,height:59,selected:!1,positionAbsolute:{x:223.87699866178912,y:-70.28085418390305},dragging:!1},{id:"1767729044317",type:"normal",position:{x:5.656113212958246,y:41.666253874867095},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:5.656113212958246,y:41.666253874867095},dragging:!1},{id:"1767729046669",type:"normal",position:{x:481.38833215736753,y:56.258899945885105},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:481.38833215736753,y:56.258899945885105},dragging:!1},{id:"1767729048778",type:"normal",position:{x:3.3693528287274717,y:267.6110701274309},data:{label:"S4"},width:57,height:57,selected:!1,dragging:!1,positionAbsolute:{x:3.3693528287274717,y:267.6110701274309}},{id:"1767729055048",type:"normal",position:{x:223.3082550803263,y:259.2875621510783},data:{label:"S5"},width:57,height:57,selected:!0,positionAbsolute:{x:223.3082550803263,y:259.2875621510783},dragging:!1},{id:"1767729057614",type:"normal",position:{x:449.3826572271382,y:266.1850444100668},data:{label:"S6"},width:57,height:57,selected:!1,positionAbsolute:{x:449.3826572271382,y:266.1850444100668},dragging:!1},{id:"1767729063212",type:"normal",position:{x:205.53225955787028,y:406.867285909216},data:{label:"S7"},width:57,height:57,selected:!1,positionAbsolute:{x:205.53225955787028,y:406.867285909216},dragging:!1}],Y3=[{source:"1767729035491",sourceHandle:"T",target:"1767729040312",targetHandle:"B",id:"edge-1767729094272",type:"draggable",markerEnd:{type:"arrowclosed",color:"#c7b52a"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!0,activeSymbol:"",stepCount:8}},{source:"1767729035491",sourceHandle:"R",target:"1767729046669",targetHandle:"L",id:"edge-1767729126552",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"b",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729035491",sourceHandle:"TL",target:"1767729044317",targetHandle:"R",id:"edge-1767729153787",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"a",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:-2.1840876233579753,dyOffset:-4.368203018896861},selected:!1},{source:"1767729044317",sourceHandle:"TL",target:"1767729044317",targetHandle:"T",id:"edge-1767729205000",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:34.156113212958246,py:-43.833746125132905,t:.5,sourceX:19.906113212958246,sourceY:70.1662538748671,targetX:48.406113212958246,targetY:70.1662538748671,labels:[{read:"a",write:"a",direction:"R"},{read:"b",write:"b",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729044317",sourceHandle:"B",target:"1767729048778",targetHandle:"T",id:"edge-1767729215648",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1767729048778",sourceHandle:"TR",target:"1767729040312",targetHandle:"BL",id:"edge-1767729242199",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729048778",sourceHandle:"R",target:"1767729055048",targetHandle:"L",id:"edge-1767729256814",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"a",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:2.6501562257756888,dyOffset:0},selected:!1},{source:"1767729048778",sourceHandle:"BR",target:"1767729063212",targetHandle:"L",id:"edge-1767729269171",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"b",write:"b",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729055048",sourceHandle:"BL",target:"1767729055048",targetHandle:"B",id:"edge-1767729278690",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:240.069107563892,py:184.96312156215913,t:.5,sourceX:225.819107563892,sourceY:298.96312156215913,targetX:254.319107563892,targetY:298.96312156215913,labels:[{read:"a",write:"a",direction:"L"},{read:"b",write:"b",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:-3.640155296323596,dyOffset:-31.305329993946742},selected:!1},{source:"1767729055048",sourceHandle:"T",target:"1767729035491",targetHandle:"B",id:"edge-1767729296355",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729057614",sourceHandle:"B",target:"1767729063212",targetHandle:"R",id:"edge-1767729312642",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"a",write:"a",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729057614",sourceHandle:"L",target:"1767729055048",targetHandle:"R",id:"edge-1767729320662",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"b",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729046669",sourceHandle:"B",target:"1767729057614",targetHandle:"T",id:"edge-1767729335727",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767729057614",sourceHandle:"TL",target:"1767729040312",targetHandle:"BR",id:"edge-1767729348420",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:35.673533012843606,dyOffset:49.50610647556472},selected:!1},{source:"1767729046669",sourceHandle:"T",target:"1767729046669",targetHandle:"TR",id:"edge-1767729398719",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:509.88833215736753,py:-29.241100054114895,t:.5,sourceX:495.63833215736753,sourceY:84.7588999458851,targetX:524.1383321573676,targetY:84.7588999458851,labels:[{read:"a",write:"a",direction:"R"},{read:"b",write:"b",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}}],Q3={defaultInput:W3,nodes:X3,edges:Y3},K3="1011",Z3=[{id:"1767730162245",type:"start",position:{x:-628.9474162860629,y:145.6121871134109},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-628.9474162860629,y:145.6121871134109},dragging:!1},{id:"1767730166691",type:"normal",position:{x:-505.7669816820013,y:146.4234303846272},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-505.7669816820013,y:146.4234303846272},dragging:!1},{id:"1767730170107",type:"accept",position:{x:-373.12632385414076,y:146.029398202495},data:{label:"S2"},width:57,height:57,selected:!0,dragging:!1,positionAbsolute:{x:-373.12632385414076,y:146.029398202495}}],G3=[{source:"1767730162245",sourceHandle:"R",target:"1767730166691",targetHandle:"L",id:"edge-1767730173906",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730162245",sourceHandle:"T",target:"1767730162245",targetHandle:"TR",id:"edge-1767730183498",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-592.6124444165695,py:54.627706804765495,t:.5,sourceX:-606.8624444165695,sourceY:168.6277068047655,targetX:-578.3624444165695,targetY:168.6277068047655,labels:[{read:"1",write:"1",direction:"R"},{read:"0",write:"0",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:10,dyOffset:27.599990844726562},selected:!1},{source:"1767730166691",sourceHandle:"R",target:"1767730170107",targetHandle:"L",id:"edge-1767730193993",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"0",write:"1",direction:"L"},{read:"",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730166691",sourceHandle:"T",target:"1767730166691",targetHandle:"TR",id:"edge-1767730210381",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-481.184467616748,py:59.356436010728515,t:.5,sourceX:-495.434467616748,sourceY:173.35643601072852,targetX:-466.934467616748,targetY:173.35643601072852,labels:[{read:"1",write:"0",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:7.20001220703125,dyOffset:24},selected:!1}],q3={defaultInput:K3,nodes:Z3,edges:G3},J3="",e2=[{id:"1767730468038",type:"start",position:{x:-676.1633330049825,y:103.61632340007677},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-676.1633330049825,y:103.61632340007677},dragging:!1},{id:"1767730471172",type:"normal",position:{x:-548.3255928253445,y:1.7616890966623941},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-548.3255928253445,y:1.7616890966623941},dragging:!1},{id:"1767730473634",type:"normal",position:{x:-445.6667465274849,y:98.91534027838071},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:-445.6667465274849,y:98.91534027838071},dragging:!1},{id:"1767730476323",type:"accept",position:{x:-560.8339280732059,y:185.13455552196814},data:{label:"S3"},width:57,height:57,selected:!0,dragging:!1,positionAbsolute:{x:-560.8339280732059,y:185.13455552196814}}],t2=[{source:"1767730468038",sourceHandle:"T",target:"1767730471172",targetHandle:"L",id:"edge-1767730574765",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"1",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730471172",sourceHandle:"T",target:"1767730471172",targetHandle:"TR",id:"edge-1767730587293",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-472.88481096670415,py:-48.0633166907709,t:.5,sourceX:-487.13481096670415,sourceY:65.9366833092291,targetX:-458.63481096670415,targetY:65.9366833092291,labels:[{read:"1",write:"1",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.949518245763723,dyOffset:32.94335876766441},selected:!1},{source:"1767730471172",sourceHandle:"BL",target:"1767730468038",targetHandle:"TR",id:"edge-1767730597614",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:11.90914289536801,dyOffset:11.282378620419795},selected:!1},{source:"1767730468038",sourceHandle:"R",target:"1767730473634",targetHandle:"L",id:"edge-1767730616556",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"1",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730473634",sourceHandle:"T",target:"1767730471172",targetHandle:"R",id:"edge-1767730625097",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1767730473634",sourceHandle:"BL",target:"1767730476323",targetHandle:"TR",id:"edge-1767730636793",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"1",write:"1",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}}],n2={defaultInput:J3,nodes:e2,edges:t2},r2="aabbaa",o2=[{id:"1768845757853",type:"start",position:{x:-330.886326644982,y:-40.06562833010889},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-330.886326644982,y:-40.06562833010889},dragging:!1},{id:"1768845759686",type:"normal",position:{x:-159.96525835153832,y:-41.989483239438414},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-159.96525835153832,y:-41.989483239438414},dragging:!1},{id:"1768845761935",type:"normal",position:{x:-13.979036438922634,y:-44.077840915681975},data:{label:"S2"},width:59,height:59,selected:!1,positionAbsolute:{x:-13.979036438922634,y:-44.077840915681975},dragging:!1},{id:"1768845763550",type:"accept",position:{x:158.98021123712698,y:-44.976571065769235},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:158.98021123712698,y:-44.976571065769235},dragging:!1}],i2=[{source:"1768845757853",sourceHandle:"T",target:"1768845757853",targetHandle:"TR",id:"edge-1768845774795",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-307.2972693806422,py:-119.42694991053364,t:.5,sourceX:-321.5472693806422,sourceY:-5.4269499105336365,targetX:-293.0472693806422,targetY:-5.4269499105336365,labels:[{tape1:{read:"a",write:"a",direction:"R"},tape2:{read:"",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"R"},tape2:{read:"",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:22.590366558052825},selected:!1},{source:"1768845757853",sourceHandle:"R",target:"1768845759686",targetHandle:"L",id:"edge-1768846440934",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1768845759686",sourceHandle:"T",target:"1768845759686",targetHandle:"TR",id:"edge-1768846500551",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-130.50333089687354,py:-125.5656283301089,t:.5,sourceX:-144.75333089687354,sourceY:-11.565628330108893,targetX:-116.25333089687354,targetY:-11.565628330108893,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"a",write:"a",direction:"L"}},{tape1:{read:"",write:"",direction:"N"},tape2:{read:"b",write:"b",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:5.89319123082373,dyOffset:19.643770942640963},selected:!1},{source:"1768845759686",sourceHandle:"R",target:"1768845761935",targetHandle:"L",id:"edge-1768846534078",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"L"},tape2:{read:"",write:"",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!0},{source:"1768845761935",sourceHandle:"T",target:"1768845761935",targetHandle:"TR",id:"edge-1768846622466",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:15.520963561077366,py:-132.57784091568197,t:.5,sourceX:.770963561077366,sourceY:-14.577840915681975,targetX:30.270963561077366,targetY:-14.577840915681975,labels:[{tape1:{read:"a",write:"a",direction:"L"},tape2:{read:"a",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"L"},tape2:{read:"b",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:21.608118062889336},selected:!1},{source:"1768845761935",sourceHandle:"R",target:"1768845763550",targetHandle:"L",id:"edge-1768846647715",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:.9821735601241878,dyOffset:-.9821735601241878},selected:!1}],s2={defaultInput:r2,nodes:o2,edges:i2},l2="aabb#aabb",a2=[{id:"1768845757853",type:"start",position:{x:-330.886326644982,y:-40.06562833010889},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-330.886326644982,y:-40.06562833010889},dragging:!1},{id:"1768845759686",type:"normal",position:{x:-159.96525835153832,y:-41.989483239438414},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-159.96525835153832,y:-41.989483239438414},dragging:!1},{id:"1768845761935",type:"normal",position:{x:-13.979036438922634,y:-44.077840915681975},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:-13.979036438922634,y:-44.077840915681975},dragging:!1},{id:"1768845763550",type:"accept",position:{x:158.98021123712698,y:-44.976571065769235},data:{label:"S3"},width:59,height:59,selected:!1,positionAbsolute:{x:158.98021123712698,y:-44.976571065769235},dragging:!1}],u2=[{source:"1768845757853",sourceHandle:"T",target:"1768845757853",targetHandle:"TR",id:"edge-1768845774795",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-307.2972693806422,py:-119.42694991053364,t:.5,sourceX:-321.5472693806422,sourceY:-5.4269499105336365,targetX:-293.0472693806422,targetY:-5.4269499105336365,labels:[{tape1:{read:"a",write:"a",direction:"R"},tape2:{read:"",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"R"},tape2:{read:"",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:22.590366558052825},selected:!1},{source:"1768845757853",sourceHandle:"R",target:"1768845759686",targetHandle:"L",id:"edge-1768846440934",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"#",write:"",direction:"N"},tape2:{read:"",write:"",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1768845759686",sourceHandle:"T",target:"1768845759686",targetHandle:"TR",id:"edge-1768846500551",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-130.50333089687354,py:-125.5656283301089,t:.5,sourceX:-144.75333089687354,sourceY:-11.565628330108893,targetX:-116.25333089687354,targetY:-11.565628330108893,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"a",write:"a",direction:"L"}},{tape1:{read:"",write:"",direction:"N"},tape2:{read:"b",write:"b",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:5.89319123082373,dyOffset:19.643770942640963},selected:!1},{source:"1768845759686",sourceHandle:"R",target:"1768845761935",targetHandle:"L",id:"edge-1768846534078",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"R"},tape2:{read:"",write:"",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null},selected:!1},{source:"1768845761935",sourceHandle:"T",target:"1768845761935",targetHandle:"TR",id:"edge-1768846622466",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:15.520963561077366,py:-132.57784091568197,t:.5,sourceX:.770963561077366,sourceY:-14.577840915681975,targetX:30.270963561077366,targetY:-14.577840915681975,labels:[{tape1:{read:"a",write:"a",direction:"R"},tape2:{read:"a",write:"a",direction:"R"}},{tape1:{read:"b",write:"b",direction:"R"},tape2:{read:"b",write:"b",direction:"R"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:8.839711911196293,dyOffset:21.608118062889336},selected:!0},{source:"1768845761935",sourceHandle:"R",target:"1768845763550",targetHandle:"L",id:"edge-1768846647715",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:.9821735601241878,dyOffset:-.9821735601241878},selected:!1}],c2={defaultInput:l2,nodes:a2,edges:u2},d2="1011+10",f2=[{id:"1768850787231",type:"start",position:{x:-794.1175096790427,y:108.95197339888205},data:{label:"S0"},width:57,height:57},{id:"1768850801767",type:"normal",position:{x:-653.8715132151108,y:130.10639744651417},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:-653.8715132151108,y:130.10639744651417},dragging:!1},{id:"1768850802817",type:"normal",position:{x:-495.6050814513438,y:123.83841995091944},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:-495.6050814513438,y:123.83841995091944},dragging:!1},{id:"1768850804031",type:"normal",position:{x:-605.4073701620664,y:288.5904915550781},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:-605.4073701620664,y:288.5904915550781},dragging:!1},{id:"1768850805060",type:"normal",position:{x:-873.3539802139617,y:318.5729916368649},data:{label:"S4"},width:57,height:57,selected:!1,positionAbsolute:{x:-873.3539802139617,y:318.5729916368649},dragging:!1},{id:"1768851283751",type:"accept",position:{x:-605.9435922519613,y:437.5119483283645},data:{label:"S5"},width:59,height:59,selected:!1,positionAbsolute:{x:-605.9435922519613,y:437.5119483283645},dragging:!1}],p2=[{source:"1768850787231",sourceHandle:"T",target:"1768850787231",targetHandle:"TR",id:"edge-1768850815211",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-765.6175096790427,py:23.451973398882046,t:.5,sourceX:-779.8675096790427,sourceY:137.45197339888205,targetX:-751.3675096790427,targetY:137.45197339888205,labels:[{tape1:{read:"0",write:"0",direction:"R"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"1",write:"1",direction:"R"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850787231",sourceHandle:"R",target:"1768850801767",targetHandle:"TL",id:"edge-1768850884650",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"+",write:"",direction:"R"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850801767",sourceHandle:"T",target:"1768850801767",targetHandle:"TR",id:"edge-1768850922659",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-625.3715132151108,py:44.606397446514165,t:.5,sourceX:-639.6215132151108,sourceY:158.60639744651417,targetX:-611.1215132151108,targetY:158.60639744651417,labels:[{tape1:{read:"0",write:"",direction:"R"},tape2:{read:"",write:"0",direction:"R"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"1",write:"",direction:"R"},tape2:{read:"",write:"1",direction:"R"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850801767",sourceHandle:"R",target:"1768850802817",targetHandle:"L",id:"edge-1768850993328",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850802817",sourceHandle:"T",target:"1768850802817",targetHandle:"TR",id:"edge-1768851020628",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-467.1050814513438,py:38.338419950919445,t:.5,sourceX:-481.3550814513438,sourceY:152.33841995091944,targetX:-452.8550814513438,targetY:152.33841995091944,labels:[{tape1:{read:"",write:"",direction:"L"},tape2:{read:"0",write:"0",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"1",write:"1",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850802817",sourceHandle:"B",target:"1768850804031",targetHandle:"TR",id:"edge-1768851080008",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"1",write:"1",direction:"N"},tape2:{read:"0",write:"0",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"1",write:"1",direction:"N"},tape2:{read:"1",write:"1",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"0",write:"0",direction:"N"},tape2:{read:"1",write:"1",direction:"N"},tape3:{read:"",write:"",direction:"N"}},{tape1:{read:"0",write:"0",direction:"N"},tape2:{read:"0",write:"0",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:-5.098373335565389,dyOffset:29.084675279091883},selected:!0},{source:"1768850804031",sourceHandle:"R",target:"1768850804031",targetHandle:"BR",id:"edge-1768851198325",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-576.9073701620664,py:203.09049155507807,t:.5,sourceX:-591.1573701620664,sourceY:317.0904915550781,targetX:-562.6573701620664,targetY:317.0904915550781,labels:[{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"0",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:24.02504717348046,dyOffset:8.736378265612812},selected:!1},{source:"1768850804031",sourceHandle:"L",target:"1768850805060",targetHandle:"R",id:"edge-1768851256883",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"0",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:.6267881853848272,dyOffset:19.43076849304223},selected:!1},{source:"1768850804031",sourceHandle:"B",target:"1768851283751",targetHandle:"T",id:"edge-1768851290036",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"",direction:"N"}}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1768850805060",sourceHandle:"TR",target:"1768850804031",targetHandle:"TL",id:"edge-1768851421114",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"1",direction:"L"}}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:3.760800843618803,dyOffset:-24.44509788655746},selected:!1},{source:"1768850805060",sourceHandle:"TL",target:"1768850805060",targetHandle:"T",id:"edge-1768851449192",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:-776.6010684078943,py:204.86178809035698,t:.5,sourceX:-790.8510684078943,sourceY:318.861788090357,targetX:-762.3510684078943,targetY:318.861788090357,labels:[{tape1:{read:"0",write:"0",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"0",write:"0",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"1",direction:"L"}},{tape1:{read:"",write:"",direction:"L"},tape2:{read:"1",write:"1",direction:"L"},tape3:{read:"",write:"0",direction:"L"}},{tape1:{read:"1",write:"1",direction:"L"},tape2:{read:"",write:"",direction:"L"},tape3:{read:"",write:"0",direction:"L"}}]},selected:!1},{source:"1768850805060",sourceHandle:"BR",target:"1768851283751",targetHandle:"L",id:"edge-1768851578319",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{tape1:{read:"",write:"",direction:"N"},tape2:{read:"",write:"",direction:"N"},tape3:{read:"",write:"1",direction:"N"}}]}}],h2={defaultInput:d2,nodes:f2,edges:p2},g2="110110",m2=[{id:"1769959666460",type:"start",position:{x:38.35241041254963,y:35.45600945936451},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:38.35241041254963,y:35.45600945936451},dragging:!1},{id:"1769959667738",type:"normal",position:{x:185.6806924823568,y:33.000538091534395},data:{label:"S1"},width:57,height:57,selected:!1,positionAbsolute:{x:185.6806924823568,y:33.000538091534395},dragging:!1},{id:"1769959668695",type:"normal",position:{x:328.0980318165038,y:23.17865262021394},data:{label:"S2"},width:57,height:57,selected:!1,positionAbsolute:{x:328.0980318165038,y:23.17865262021394},dragging:!1},{id:"1769959669622",type:"normal",position:{x:497.5255561967821,y:8.44582441323314},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:497.5255561967821,y:8.44582441323314},dragging:!1},{id:"1769959670585",type:"normal",position:{x:314.592939293438,y:231.89371888577404},data:{label:"S4"},width:57,height:57,selected:!1,positionAbsolute:{x:314.592939293438,y:231.89371888577404},dragging:!1},{id:"1769959672052",type:"normal",position:{x:501.2087632485272,y:235.57692593751926},data:{label:"S5"},width:57,height:57,selected:!1,positionAbsolute:{x:501.2087632485272,y:235.57692593751926},dragging:!1},{id:"1769959762505",type:"accept",position:{x:146.72151139835478,y:204.15718738834596},data:{label:"S6"},width:57,height:57,selected:!1,positionAbsolute:{x:146.72151139835478,y:204.15718738834596},dragging:!1},{id:"1769977614997",type:"normal",position:{x:34.60002304290401,y:203.51780219096577},data:{label:"S7"},width:57,height:57,selected:!1,positionAbsolute:{x:34.60002304290401,y:203.51780219096577},dragging:!1}],y2=[{source:"1769959666460",sourceHandle:"T",target:"1769959666460",targetHandle:"R",id:"edge-1769959710294",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:68.08014609646469,py:-75.82643990285175,t:.5,sourceX:53.83014609646469,sourceY:38.173560097148254,targetX:82.33014609646469,targetY:38.173560097148254,labels:[{read:"0",write:"A",direction:"R"},{read:"1",write:"B",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:25.536905972185213,dyOffset:20.625944502765147},selected:!1},{source:"1769959666460",sourceHandle:"R",target:"1769959667738",targetHandle:"L",id:"edge-1769959734046",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"0",write:"0",direction:"L"},{read:"1",write:"1",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959667738",sourceHandle:"T",target:"1769959667738",targetHandle:"TR",id:"edge-1769959797656",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:214.1806924823568,py:-52.499461908465605,t:.5,sourceX:199.9306924823568,sourceY:61.500538091534395,targetX:228.4306924823568,targetY:61.500538091534395,labels:[{read:"A",write:"A",direction:"L"},{read:"B",write:"B",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:10.804059031444668,dyOffset:23.572502650657363},selected:!1},{source:"1769959667738",sourceHandle:"R",target:"1769959668695",targetHandle:"L",id:"edge-1769959828519",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959668695",sourceHandle:"T",target:"1769959668695",targetHandle:"R",id:"edge-1769959851706",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:376.2418027591448,py:-48.81625485672038,t:.5,sourceX:361.9918027591448,sourceY:65.18374514327962,targetX:390.4918027591448,targetY:65.18374514327962,labels:[{read:"X",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:25.53688723842539,dyOffset:25.53688723842539},selected:!1},{source:"1769959668695",sourceHandle:"R",target:"1769959669622",targetHandle:"L",id:"edge-1769959887189",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"A",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959668695",sourceHandle:"BL",target:"1769959762505",targetHandle:"TR",id:"edge-1769959936828",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"N"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959669622",sourceHandle:"T",target:"1769959669622",targetHandle:"TR",id:"edge-1769959955522",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:526.0255561967821,py:-77.05417558676686,t:.5,sourceX:511.7755561967821,sourceY:36.94582441323314,targetX:540.2755561967821,targetY:36.94582441323314,labels:[{read:"A",write:"A",direction:"R"},{read:"B",write:"B",direction:"R"},{read:"X",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959668695",sourceHandle:"B",target:"1769959670585",targetHandle:"T",id:"edge-1769959995423",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"B",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959669622",sourceHandle:"B",target:"1769959672052",targetHandle:"T",id:"edge-1769960027798",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"0",write:"X",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959670585",sourceHandle:"TR",target:"1769959670585",targetHandle:"R",id:"edge-1769960047964",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:351.68708908084346,py:78.86825627044573,t:.5,sourceX:337.43708908084346,sourceY:192.86825627044573,targetX:365.93708908084346,targetY:192.86825627044573,labels:[{read:"A",write:"A",direction:"R"},{read:"B",write:"B",direction:"R"},{read:"X",write:"X",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:39.287541885281925,dyOffset:46.16290667622984},selected:!1},{source:"1769959670585",sourceHandle:"R",target:"1769959672052",targetHandle:"L",id:"edge-1769960079990",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"1",write:"X",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1769959672052",sourceHandle:"TR",target:"1769959672052",targetHandle:"R",id:"edge-1769960131615",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:526.025556196782,py:80.0959919543609,t:.5,sourceX:511.775556196782,sourceY:194.0959919543609,targetX:540.275556196782,targetY:194.0959919543609,labels:[{read:"A",write:"A",direction:"L"},{read:"B",write:"B",direction:"L"},{read:"1",write:"1",direction:"L"},{read:"0",write:"0",direction:"L"},{read:"X",write:"X",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:52.05602297201427,dyOffset:52.055985504494615},selected:!1},{source:"1769959672052",sourceHandle:"TL",target:"1769959668695",targetHandle:"BR",id:"edge-1769960169956",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}]},selected:!1},{source:"1769959666460",sourceHandle:"B",target:"1769977614997",targetHandle:"T",id:"edge-1769977632154",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"L"}]},selected:!1},{source:"1769977614997",sourceHandle:"R",target:"1769959762505",targetHandle:"L",id:"edge-1769977647191",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"",direction:"R"}]},selected:!0}],v2={defaultInput:g2,nodes:m2,edges:y2},x2="#",w2=[{id:"1770043036391",type:"start",position:{x:-2.8709644562864582,y:158.92006393886834},data:{label:"S0"},width:57,height:57,selected:!1,positionAbsolute:{x:-2.8709644562864582,y:158.92006393886834},dragging:!1},{id:"1770043042082",type:"normal",position:{x:139.90314829187986,y:106.4747301833176},data:{label:"S1"},width:57,height:57},{id:"1770043043847",type:"normal",position:{x:141.9268020933894,y:237.33767601426837},data:{label:"S2"},width:57,height:57},{id:"1770043066132",type:"accept",position:{x:280.20981186320853,y:165.16069042709452},data:{label:"S3"},width:57,height:57,selected:!1,positionAbsolute:{x:280.20981186320853,y:165.16069042709452},dragging:!1}],S2=[{source:"1770043036391",sourceHandle:"R",target:"1770043042082",targetHandle:"L",id:"edge-1770043046655",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"V",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043036391",sourceHandle:"R",target:"1770043043847",targetHandle:"L",id:"edge-1770043057213",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"",write:"V",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043042082",sourceHandle:"R",target:"1770043066132",targetHandle:"L",id:"edge-1770043072966",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"#",write:"#",direction:"N"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043043847",sourceHandle:"R",target:"1770043066132",targetHandle:"L",id:"edge-1770043085212",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{t:.5,labels:[{read:"#",write:"#",direction:"N"}],isActive:!1,activeSymbol:null,stepCount:null}},{source:"1770043042082",sourceHandle:"TL",target:"1770043042082",targetHandle:"T",id:"edge-1770043124385",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:168.40314829187986,py:20.974730183317604,t:.5,sourceX:154.15314829187986,sourceY:134.9747301833176,targetX:182.65314829187986,targetY:134.9747301833176,labels:[{read:"",write:"V",direction:"L"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:2.184059851177065,dyOffset:16.016688858260004},selected:!1},{source:"1770043043847",sourceHandle:"TL",target:"1770043043847",targetHandle:"T",id:"edge-1770043138578",type:"draggable",markerEnd:{type:"arrowclosed",color:"#333"},data:{px:170.4268020933894,py:151.83767601426837,t:.5,sourceX:156.1768020933894,sourceY:265.83767601426837,targetX:184.6768020933894,targetY:265.83767601426837,labels:[{read:"",write:"V",direction:"R"}],isActive:!1,activeSymbol:null,stepCount:null,dxOffset:7.857463416032804,dyOffset:21.608118062889336},selected:!0}],E2={defaultInput:x2,nodes:w2,edges:S2},Lp={palindrome:Q3,binary_increment:q3,busy_beaver:n2,palindrome_multi:s2,is_equal_multi:c2,binary_addition:h2,is_equal_NTM:v2,Find_hash:E2};function N2({engine:n,selectedExample:o,showTable:i,setShowTable:l}){const[a,c,d]=e0([]),[p,h,y]=t0([]),[m,v]=b.useState(null),[x,E]=b.useState(null),[_,N]=b.useState(""),[T,C]=b.useState(0),[j,z]=b.useState(""),[I,P]=b.useState([]),[Y,U]=b.useState(!1);b.useEffect(()=>{c([]),h([]),z(""),P([]),C(0),N(""),v(null),E(null),U(!1)},[n,c,h]),b.useEffect(()=>{if(o&&Lp[o]){const{nodes:Z,edges:G,defaultInput:S}=Lp[o];c(Z),h(G),z(S||""),v(null),E(null),C(0),N(""),P([]),U(!1)}},[o,c,h]);const q=b.useCallback(()=>{c([]),h([]),z(""),P([]),C(0),N(""),v(null),E(null),U(!1)},[c,h]),X=b.useMemo(()=>{const Z=new Set;return p.forEach(G=>{G.data?.labels?.forEach(S=>{S.read!==void 0&&S.read!==""&&Z.add(S.read),S.write!==void 0&&S.write!==""&&Z.add(S.write),Object.keys(S).forEach(A=>{if(A.startsWith("tape")){const L=S[A];L.read&&Z.add(L.read),L.write&&Z.add(L.write)}})})}),new Set([...Z,...I])},[p,I]),W=b.useCallback(Z=>{P(G=>G.filter(S=>S!==Z)),h(G=>G.map(S=>({...S,data:{...S.data,labels:(S.data.labels||[]).filter(A=>n==="MultiTape"?!Object.keys(A).some(L=>L.startsWith("tape")?A[L].read===Z||A[L].write===Z:!1):A.read!==Z&&A.write!==Z)}})).filter(S=>S.data.labels&&S.data.labels.length>0)),E(null),N("")},[n,h,P,E,N]),B=b.useCallback((Z,G)=>{h(S=>S.map(A=>({...A,data:{...A.data,labels:A.data.labels.map(L=>{const O={...L};return n==="MultiTape"?Object.keys(O).forEach($=>{$.startsWith("tape")&&(O[$].read===Z&&(O[$].read=G),O[$].write===Z&&(O[$].write=G))}):(O.read===Z&&(O.read=G),O.write===Z&&(O.write=G)),O})}})))},[n,h]);return g.jsx(yl,{children:g.jsxs("div",{className:"visualiser",children:[i&&g.jsx(U3,{nodes:a,edges:p,manualSymbols:I,setManualSymbols:P,onClose:()=>l(!1),onDeleteSymbol:W,onReplaceSymbol:B}),g.jsx("div",{className:"tape-container-wrapper",children:g.jsx(a3,{nodes:a,edges:p,setNodes:c,activeNodeId:m,setActiveNodeId:v,setActiveEdgeId:E,setCurrentSymbol:N,setStepCount:C,loadedInput:j,validAlphabet:X,engine:n,isRunning:Y,setIsRunning:U})}),g.jsx("div",{className:"diagram-container-wrapper",children:g.jsx(V3,{nodes:a,edges:p,onNodesChange:d,onEdgesChange:y,setNodes:c,setEdges:h,activeNodeId:m,activeEdgeId:x,currentSymbol:_,stepCount:T,engine:n,onClear:q,isLocked:Y},o)})]})})}function _2({onClose:n}){const o=[{category:"Turing Machines",id:"cat-tm",items:[{id:"dtm",title:"Deterministic Turing Machine (DTM)",hasVideo:!1,content:g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["A ",g.jsx("strong",{children:"Deterministic Turing Machine (DTM)"})," is the standard model of computation. In a DTM, the set of rules prescribes exactly ",g.jsx("em",{children:"one"})," action to be performed for any given situation. The machine consists of a finite control, an infinite tape, and a read/write head."]}),g.jsxs("div",{className:"formal-def-box",children:[g.jsx("h4",{children:"Formal Definition"}),g.jsxs("p",{children:["A DTM is a 7-tuple ",g.jsx("strong",{children:"M = (Q, , b, , , q, F)"})," where:"]}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Q"}),": A finite non-empty set of states."]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),": A finite non-empty set of the tape alphabet symbols (includes  and the blank symbol )."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"b"}),": The blank symbol ."]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),": The set of input symbols."]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),": The Transition function (further explained below)."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"q"}),": The initial state."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"F"}),": The set of final states or accepting states."]})]}),g.jsx("h4",{children:"Transition Function ()"}),g.jsxs("div",{className:"math-block",children:[" : Q    Q    ","{L, R}"]}),g.jsx("p",{children:"This means: Given a current state (Q) and the symbol currently under the head (), the machine moves to a new state (Q), writes a symbol (), and moves the head Left (L) or Right (R)."})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"In this simulator:"})," If you define multiple transitions for the same symbol the transition defined first will be the one simulated. To simulate multiple transitions for the same symbol switch engine mode to Non-Deterministic."]})]})},{id:"ntm",title:"Non-Deterministic Turing Machine (NTM)",hasVideo:!1,content:g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["A ",g.jsx("strong",{children:"Non-Deterministic Turing Machine (NTM)"})," allows for multiple possible moves from the same configuration."]}),g.jsxs("div",{className:"formal-def-box",children:[g.jsx("h4",{children:"Formal Difference"}),g.jsxs("p",{children:["The definition is identical to a DTM, except for the ",g.jsx("strong",{children:"transition function"}),". Instead of returning a single next move, it returns a ",g.jsx("em",{children:"set"})," of possible next moves."]}),g.jsx("h4",{children:"Transition Function"}),g.jsxs("div",{className:"math-block",children:[" : Q    (Q    ","{L, R, N}",")"]}),g.jsxs("p",{children:["Where ",g.jsx("strong",{children:""})," denotes the power set. This means for a given state and tape symbol, there can be zero, one, or multiple valid transitions."]})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"In this simulator:"}),' When the machine encounters a non-deterministic choice, it "branches." The visualiser creates a new thread for every possible path. If ',g.jsx("em",{children:"any"})," thread reaches the Accept state, the input is accepted."]})]})},{id:"multitape",title:"Multi-Tape Turing Machine",hasVideo:!1,content:g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["A ",g.jsx("strong",{children:"Multi-Tape Turing Machine"})," uses ",g.jsx("em",{children:"k"})," independent tapes, each with its own read/write head. The input is initially placed on the first tape, while the others are blank."]}),g.jsxs("div",{className:"formal-def-box",children:[g.jsx("h4",{children:"Formal Definition"}),g.jsxs("p",{children:["The definition is identical to a DTM, except for the ",g.jsx("strong",{children:"transition function"})," which now depends on k tape symbols simultaneously."]}),g.jsx("h4",{children:"Transition Function"}),g.jsxs("div",{className:"math-block",children:[" : Q    Q    ","{L, R, N}",""]}),g.jsxs("p",{children:["This means: Based on the current state and the ",g.jsx("em",{children:"k"})," symbols read from the tapes, the machine transitions to a new state, writes ",g.jsx("em",{children:"k"})," new symbols (one on each tape), and moves each head independently (Left, Right, or None)."]})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Note:"})," It has been proven that a Single-Tape machine can simulate a Multi-Tape machine, but Multi-Tape machines are often more efficient. If you are interested in seeing how a single-tape machine can simulate a multitape machine check out the 'Simulate on single tape' button in Multi-Tape mode."]})]})}]},{category:"Type of States",id:"cat-state-info",items:[{id:"state-info",title:"States",hasVideo:!1,content:g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:"Start State"}),g.jsxs("p",{children:["The ",g.jsx("strong",{children:"Start State"})," is the initial state of the machine. Computation always begins here, with the read/write head positioned at the start of the input on the tape."]}),g.jsxs("p",{children:["Formally, this corresponds to ",g.jsx("strong",{children:"q"})," in the 7-tuple definition."]}),g.jsx("img",{src:"p",alt:"Start State image"}),g.jsx("h4",{children:"Normal State"}),g.jsxs("p",{children:["A ",g.jsx("strong",{children:"Normal State"})," represents an intermediate step in the computation. The machine transitions between normal states as it reads symbols, writes new symbols, and moves the tape head."]}),g.jsxs("p",{children:["These states belong to the set ",g.jsx("strong",{children:"Q"}),"."]}),g.jsx("img",{src:"p",alt:"Normal State image"}),g.jsx("h4",{children:"Accept State"}),g.jsxs("p",{children:["An ",g.jsx("strong",{children:"Accept State"})," indicates that the input has been accepted. When the machine enters this state, the computation halts and the input is considered valid."]}),g.jsxs("p",{children:["Formally, accept states belong to the set ",g.jsx("strong",{children:"F  Q"}),"."]}),g.jsxs("p",{children:["In this simulator, reaching an Accept State immediately stops execution. For Non-Deterministic machines, if ",g.jsx("em",{children:"any"})," thread reaches an Accept State, the input is accepted."]}),g.jsx("img",{src:"p",alt:"Accept State image"})]})}]},{category:"Edit States",id:"cat-states-edit",items:[{id:"create-state",title:"Creating a State",hasVideo:!0,content:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"To create a new state in the diagram drag any node from the left-hand toolbar and drop it onto the canvas."}),g.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"delete-state",title:"Deleting a State",hasVideo:!0,content:g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["Click on a state to select it and press the ",g.jsx("strong",{children:"Backspace"})," key on your keyboard.",g.jsx("br",{}),g.jsx("br",{}),g.jsx("em",{children:"Warning:"})," This will also delete any transition edges connected to this state."]}),g.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"rename-state",title:"Renaming a State",hasVideo:!0,content:g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:["right-click the state you want to rename. A pop-up will appear. Type your new name and press ",g.jsx("strong",{children:"save changes"})," to save."]}),g.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"change-props",title:"Change from Normal to Accept State",hasVideo:!0,content:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"double-click on a state to change it from a normal state to accept and vice versa"}),g.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})}]},{category:"Transitions",id:"cat-edges",items:[{id:"create-edge",title:"Creating Transitions",hasVideo:!0,content:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"Hover over the state too see the black dots surrounding the state, hover over the dot of your choice and your cursor will change. Click and drag the line to a target state. To create a self-loop, drag the line back to a dot on the source state itself."}),g.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})},{id:"edit-edge",title:"Editing Symbols",hasVideo:!0,content:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"double-click on the line of the rule you want to edit ."}),g.jsxs("div",{className:"formal-def-box",children:[g.jsx("h4",{children:"Syntax Format"}),g.jsx("p",{children:g.jsx("strong",{children:"Read, Write, Direction"})}),g.jsxs("p",{children:["Example: ",g.jsx("code",{children:"a, b, R"})]}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Read:"})," The symbol on the tape."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Write:"})," The symbol to overwrite with."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Direction:"})," L (Left), R (Right), or N (None)."]})]})]}),g.jsx("video",{src:"v",controls:!0,width:"100%",style:{marginTop:"10px"}})]})}]}],[i,l]=b.useState("cat-tm"),[a,c]=b.useState("dtm"),p=(()=>{for(const x of o){const E=x.items.find(_=>_.id===a);if(E)return E}return null})(),h=o.flatMap(x=>x.items),y=h.findIndex(x=>x.id===a),m=()=>{if(y<h.length-1){const x=h[y+1];c(x.id);const E=o.find(_=>_.items.some(N=>N.id===x.id));E&&l(E.id)}},v=()=>{if(y>0){const x=h[y-1];c(x.id);const E=o.find(_=>_.items.some(N=>N.id===x.id));E&&l(E.id)}};return g.jsx("div",{className:"popup-overlay",onClick:n,style:{zIndex:3e3},children:g.jsxs("div",{className:"help-modal-container",onClick:x=>x.stopPropagation(),children:[g.jsxs("div",{className:"help-modal-header",children:[g.jsx("h3",{children:"Help Guide"}),g.jsx("button",{className:"help-close-btn",onClick:n,children:""})]}),g.jsxs("div",{className:"help-modal-body",children:[g.jsx("div",{className:"help-sidebar",children:o.map(x=>{const E=i===x.id;return g.jsxs("div",{className:"help-category-group",children:[g.jsxs("div",{className:`help-category-header ${E?"active":""}`,onClick:()=>l(E?null:x.id),children:[g.jsx("span",{children:x.category}),g.jsx("span",{children:E?"":""})]}),E&&g.jsx("div",{className:"help-subitems",children:x.items.map(_=>g.jsxs("div",{className:`help-item-row ${a===_.id?"selected":""}`,onClick:()=>c(_.id),children:[g.jsx("span",{className:"bullet",children:""}),_.title.includes("(")?_.title.split("(")[0]:_.title]},_.id))})]},x.id)})}),g.jsx("div",{className:"help-content",children:p&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"help-title",children:p.title}),g.jsx("div",{className:"help-text-body",children:p.content})]})})]}),g.jsxs("div",{className:"help-modal-footer",children:[g.jsx("button",{className:"nav-btn",onClick:v,disabled:y===0,children:" Previous"}),g.jsxs("span",{className:"page-count",children:[y+1," / ",h.length]}),g.jsx("button",{className:"nav-btn",onClick:m,disabled:y===h.length-1,children:"Next "})]})]})})}const k2={Deterministic:[{value:"palindrome",label:"Palindrome Detector"},{value:"binary_increment",label:"Binary Increment"},{value:"busy_beaver",label:"Busy Beaver (3-state)"}],MultiTape:[{value:"palindrome_multi",label:"Palindrome (2-Tape)"},{value:"is_equal_multi",label:"Is Equal (2-Tape)"},{value:"binary_addition",label:"Binary Addition (3-Tape)"}],NonDeterministic:[{value:"palindrome",label:"Palindrome (DTM)"},{value:"binary_increment",label:"Binary Increment (DTM)"},{value:"Find_hash",label:"Find hash (NTM)"},{value:"is_equal_NTM",label:"Is Equal (NTM)"}]};function C2(){const[n,o]=b.useState("Deterministic"),[i,l]=b.useState(""),[a,c]=b.useState(!1),[d,p]=b.useState(!1);b.useEffect(()=>{l("")},[n]);const h=m=>{o(m.target.value)},y=k2[n]||[];return g.jsxs("div",{className:"app",children:[g.jsxs("div",{className:"app-header",children:[g.jsxs("div",{className:"header-left",children:[g.jsx("h1",{children:"Turing Machine Simulator"}),g.jsxs("div",{className:"header-controls",children:[g.jsxs("div",{className:"selector-group",children:[g.jsx("label",{htmlFor:"engine-select",children:"Engine:"}),g.jsxs("select",{id:"engine-select",value:n,onChange:h,children:[g.jsx("option",{value:"Deterministic",children:"Deterministic"}),g.jsx("option",{value:"NonDeterministic",children:"Non-Deterministic"}),g.jsx("option",{value:"MultiTape",children:"Multi-Tape"})]})]}),g.jsxs("div",{className:"selector-group",children:[g.jsx("label",{htmlFor:"example-select",children:"Examples:"}),g.jsxs("select",{id:"example-select",value:i,onChange:m=>l(m.target.value),disabled:y.length===0,children:[g.jsx("option",{value:"",children:"-- Select an Example --"}),y.map(m=>g.jsx("option",{value:m.value,children:m.label},m.value))]})]})]})]}),g.jsxs("div",{className:"header-right",children:[g.jsx("button",{className:"header-button",onClick:()=>p(!0),children:"? Help"}),g.jsx("button",{className:"header-button",onClick:()=>c(!0),children:"Transition Table"})]})]}),g.jsx(N2,{engine:n,selectedExample:i,showTable:a,setShowTable:c}),d&&g.jsx(_2,{onClose:()=>p(!1)})]})}im.createRoot(document.getElementById("root")).render(g.jsx(oe.StrictMode,{children:g.jsx(C2,{})}));
